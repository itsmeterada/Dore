%!PS-Adobe-3.0
%%Creator: groff version 1.06
%%DocumentNeededResources: font Palatino-Roman
%%+ font Helvetica
%%+ font Palatino-Italic
%%+ font Helvetica-BoldOblique
%%+ font Courier
%%+ font Symbol
%%+ font Helvetica-Bold
%%+ font Helvetica-Oblique
%%+ font Palatino-Bold
%%DocumentSuppliedResources: procset grops 1.06 0
%%+ font Symbol-Slanted
%%Pages: 59
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.06 0
%!PS-Adobe-3.0 Resource-ProcSet

/setpacking where {
	pop
	currentpacking
	true setpacking
} if

/grops 120 dict dup begin 

% The ASCII code of the space character.
/SC 32 def

/A /show load def
/B { 0 SC 3 -1 roll widthshow } bind def
/C { 0 exch ashow } bind def
/D { 0 exch 0 SC 5 2 roll awidthshow } bind def
/E { 0 rmoveto show } bind def
/F { 0 rmoveto 0 SC 3 -1 roll widthshow } bind def
/G { 0 rmoveto 0 exch ashow } bind def
/H { 0 rmoveto 0 exch 0 SC 5 2 roll awidthshow } bind def
/I { 0 exch rmoveto show } bind def
/J { 0 exch rmoveto 0 SC 3 -1 roll widthshow } bind def
/K { 0 exch rmoveto 0 exch ashow } bind def
/L { 0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow } bind def
/M { rmoveto show } bind def
/N { rmoveto 0 SC 3 -1 roll widthshow } bind def
/O { rmoveto 0 exch ashow } bind def
/P { rmoveto 0 exch 0 SC 5 2 roll awidthshow } bind def
/Q { moveto show } bind def 
/R { moveto 0 SC 3 -1 roll widthshow } bind def
/S { moveto 0 exch ashow } bind def
/T { moveto 0 exch 0 SC 5 2 roll awidthshow } bind def

% name size font SF -

/SF {
	findfont exch
	[ exch dup 0 exch 0 exch neg 0 0 ] makefont
	dup setfont
	[ exch /setfont cvx ] cvx bind def
} bind def

% name a c d font MF -

/MF {
	findfont
	[ 5 2 roll
	0 3 1 roll % b
	neg 0 0 ] makefont
	dup setfont
	[ exch /setfont cvx ] cvx bind def
} bind def

/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def

% Guess the page length.
% This assumes that the imageable area is vertically centered on the page.
% PLG - length

/PLG {
	gsave newpath clippath pathbbox grestore
	exch pop add exch pop
} bind def

% BP -

/BP {
	/level0 save def
	1 setlinecap
	1 setlinejoin
	72 RES div dup scale
	LS {
		90 rotate
	} {
		0 PL translate
	} ifelse
	1 -1 scale
} bind def

/EP {
	level0 restore
	showpage
} bind def


% centerx centery radius startangle endangle DA -

/DA {
	newpath arcn stroke
} bind def

% x y SN - x' y'
% round a position to nearest (pixel + (.25,.25))

/SN {
	transform 
	.25 sub exch .25 sub exch
	round .25 add exch round .25 add exch
	itransform
} bind def
	
% endx endy startx starty DL -
% we round the endpoints of the line, so that parallel horizontal
% and vertical lines will appear even

/DL {
	SN
	moveto
	SN
	lineto stroke
} bind def

% centerx centery radius DC -

/DC {
	newpath 0 360 arc closepath
} bind def


/TM matrix def

%  width height centerx centery DE -

/DE {
	TM currentmatrix pop
	translate scale newpath 0 0 .5 0 360 arc closepath
	TM setmatrix
} bind def

% these are for splines

/RC /rcurveto load def
/RL /rlineto load def
/ST /stroke load def
/MT /moveto load def
/CL /closepath load def

% fill the last path

% amount FL -

/FL {
	currentgray exch setgray fill setgray
} bind def

% fill with the ``current color''

/BL /fill load def

/LW /setlinewidth load def
% new_font_name encoding_vector old_font_name RE -

/RE {
	findfont
	dup maxlength dict begin
	{
		1 index /FID ne { def } { pop pop } ifelse
	} forall
	/Encoding exch def
	dup /FontName exch def
	currentdict end definefont pop
} bind def

/DEFS 0 def

% hpos vpos EBEGIN -

/EBEGIN {
	moveto
	DEFS begin
} bind def

/EEND /end load def

/CNT 0 def
/level1 0 def

% llx lly newwid wid newht ht newllx newlly PBEGIN -

/PBEGIN {
	/level1 save def
	translate
	div 3 1 roll div exch scale
	neg exch neg exch translate
	% set the graphics state to default values
	0 setgray
	0 setlinecap
	1 setlinewidth
	0 setlinejoin
	10 setmiterlimit
	[] 0 setdash
	/setstrokeadjust where {
		pop
		false setstrokeadjust
	} if
	/setoverprint where {
		pop
		false setoverprint
	} if
	newpath
	/CNT countdictstack def
	userdict begin
	/showpage {} def
} bind def

/PEND {
	clear
	countdictstack CNT sub { end } repeat
	level1 restore
} bind def

end def

/setpacking where {
	pop
	setpacking
} if
%%EndResource
%%EndProlog
%%BeginSetup
%%IncludeResource: font Symbol
%%IncludeResource: font Palatino-Roman
%%IncludeResource: font Helvetica
%%IncludeResource: font Palatino-Italic
%%IncludeResource: font Helvetica-BoldOblique
%%IncludeResource: font Courier
%%IncludeResource: font Helvetica-Bold
%%IncludeResource: font Helvetica-Oblique
%%IncludeResource: font Palatino-Bold
%%BeginResource: font Symbol-Slanted
%!PS-Adobe-3.0 Resource-Font
%%DocumentNeededResources: font Symbol

% newfontname matrix oldfontname MakeTransformedFont

/MakeTransformedFont {
	findfont dup maxlength dict begin
		{
			exch dup dup /FID ne exch /UniqueID ne and {
				exch def
			} {
				pop pop
			} ifelse
		} forall
		% first copy FontBBox
		/FontBBox 
		% FontBBox sometimes seems to have the executable
		% attribute set
		% so to get the array on the stack, we have to do this
		currentdict /FontBBox get
		4 array copy def
		% now transform it
		FontBBox aload pop
		4 index transform 4 2 roll
		4 index transform 4 2 roll
		FontBBox astore pop
		% matrix
		% now transform FontMatrix
		FontMatrix exch matrix concatmatrix
		/FontMatrix exch def
		dup /FontName exch def
	currentdict end
	definefont pop
} bind def


/Symbol-Slanted
[.89 0.0 15.5 dup sin exch cos div .89 0.0 0.0]
/Symbol
MakeTransformedFont
%%EndResource
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72 def/PL
792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron/scaron/zcaron
/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/space
/exclam/quotedbl/numbersign/dollar/percent/ampersand/quoteright/parenleft
/parenright/asterisk/plus/comma/hyphen/period/slash/zero/one/two/three/four
/five/six/seven/eight/nine/colon/semicolon/less/equal/greater/question/at/A/B/C
/D/E/F/G/H/I/J/K/L/M/N/O/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash
/bracketright/circumflex/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q
/r/s/t/u/v/w/x/y/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase
/guillemotleft/guillemotright/bullet/florin/fraction/perthousand/dagger
/daggerdbl/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen/brokenbar
/section/dieresis/copyright/ordfeminine/guilsinglleft/logicalnot/minus
/registered/macron/degree/plusminus/twosuperior/threesuperior/acute/mu
/paragraph/periodcentered/cedilla/onesuperior/ordmasculine/guilsinglright
/onequarter/onehalf/threequarters/questiondown/Agrave/Aacute/Acircumflex/Atilde
/Adieresis/Aring/AE/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute
/Icircumflex/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn/germandbls
/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla/egrave/eacute
/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis/eth/ntilde/ograve
/oacute/ocircumflex/otilde/odieresis/divide/oslash/ugrave/uacute/ucircumflex
/udieresis/yacute/thorn/ydieresis]def/Palatino-Bold@0 ENC0/Palatino-Bold RE
/Helvetica-Oblique@0 ENC0/Helvetica-Oblique RE/Helvetica-Bold@0 ENC0
/Helvetica-Bold RE/Courier@0 ENC0/Courier RE/Helvetica-BoldOblique@0 ENC0
/Helvetica-BoldOblique RE/Palatino-Italic@0 ENC0/Palatino-Italic RE/Helvetica@0
ENC0/Helvetica RE/Palatino-Roman@0 ENC0/Palatino-Roman RE
%%EndSetup
%%Page: 121 1
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 42
/Palatino-Roman@0 SF(S)237.15 91 Q/F1 36/Palatino-Roman@0 SF(AMPLE)A F0(D)
246.852 133 Q F1(EVICE)A F0(D)246.276 175 Q F1(RIVER)A/F2 12/Helvetica@0 SF
(CHAPTER 11)459.048 175 Q 99 186 63 186 DL 135 186 99 186 DL 171 186 135 186 DL
207 186 171 186 DL 243 186 207 186 DL 279 186 243 186 DL 315 186 279 186 DL 351
186 315 186 DL 387 186 351 186 DL 437.4 186 401.4 186 DL 464.4 186 428.4 186 DL
500.4 186 464.4 186 DL 536.4 186 500.4 186 DL/F3 11/Palatino-Roman@0 SF 3.59
(This chapter discusses the generic portions of a typical Dore)63 252 R<b4>
382.534 252 Q 1.221(device driver)63 265.2 R 6.721(.T)-.814 G 1.22
(he sample device driver described her)144.026 265.2 R 3.97(ed)-.198 G 1.22
(oes not)351.097 265.2 R -.198(re)63 278.4 S(quir).198 E 2.947(ea)-.198 G .197
(ny speci\214c knowledge of a particular har)106.273 278.4 R(dwar)-.198 E 2.948
(ed)-.198 G 2.948(evice. It)346.421 278.4 R 1.789
(shows a typical implementation for many of the r)63 291.6 R 1.789
(outines in the)-.198 F .274(device modules, but does not addr)63 304.8 R .275
(ess how data would actually be)-.198 F 1.477(passed to the har)63 318 R(dwar)
-.198 E 4.227(eo)-.198 G 4.227(rv)191.052 318 S 1.477(irtual device.)205.839
318 R 1.476(When you write your)6.977 F .471
(own device driver it is expected that you know the details of how)63 331.2 R
3.761(to access your physical device.)63 344.4 R 3.76(The output fr)9.26 F 3.76
(om the sample)-.198 F .785
(device driver is simply text showing the data that would be used)63 357.6 R
(by the physical device.)63 370.8 Q .388(The incr)63 396 R .387(emental appr)
-.198 F .387(oach described in Chapter 10,)-.198 F/F4 11/Palatino-Italic@0 SF
.387(Implementing a)3.137 F .663(Device Driver)63 409.2 R F3 3.413(,i)C 3.413
(sf)135.881 409.2 S .663(ollowed with the following exceptions.)147.621 409.2 R
.664(The \214rst)6.163 F .677
(step described in Chapter 10 copies a sample device driver to use)63 422.4 R
1.359(as a starting point for the new driver)63 435.6 R 6.86(.T)-.814 G 1.36
(he sample device driver)266.386 435.6 R 1.89
(you copy is the one described in this chapter)63 448.8 R 4.639(,s)-.814 G
4.639(oo)305.738 448.8 S 1.889(bviously this)322.389 448.8 R 1.743
(driver is implemented her)63 462 R 4.493(ef)-.198 G -.198(ro)208.638 462 S
4.494(ms).198 G 4.494(cratch. This)237.662 462 R 1.744(chapter does not)4.494 F
.326(describe the testing steps \(4, 7, and 9\).)63 475.2 R .325
(The driver installation r)5.825 F(ou-)-.198 E(tine is pr)63 488.4 Q
(esented at the end of the chapter)-.198 E(.)-.814 E .16 LW 65 514.4 63 514.4
DL 67 514.4 65 514.4 DL 69 514.4 67 514.4 DL 71 514.4 69 514.4 DL 73 514.4 71
514.4 DL 75 514.4 73 514.4 DL 77 514.4 75 514.4 DL 79 514.4 77 514.4 DL 81
514.4 79 514.4 DL 83 514.4 81 514.4 DL 85 514.4 83 514.4 DL 87 514.4 85 514.4
DL 89 514.4 87 514.4 DL 91 514.4 89 514.4 DL 93 514.4 91 514.4 DL 95 514.4 93
514.4 DL 97 514.4 95 514.4 DL 99 514.4 97 514.4 DL 101 514.4 99 514.4 DL 103
514.4 101 514.4 DL 105 514.4 103 514.4 DL 107 514.4 105 514.4 DL 109 514.4 107
514.4 DL 111 514.4 109 514.4 DL 113 514.4 111 514.4 DL 115 514.4 113 514.4 DL
117 514.4 115 514.4 DL 119 514.4 117 514.4 DL 121 514.4 119 514.4 DL 123 514.4
121 514.4 DL 125 514.4 123 514.4 DL 127 514.4 125 514.4 DL 129 514.4 127 514.4
DL 131 514.4 129 514.4 DL 133 514.4 131 514.4 DL 135 514.4 133 514.4 DL 137
514.4 135 514.4 DL 139 514.4 137 514.4 DL 141 514.4 139 514.4 DL 143 514.4 141
514.4 DL 145 514.4 143 514.4 DL 147 514.4 145 514.4 DL 149 514.4 147 514.4 DL
151 514.4 149 514.4 DL 153 514.4 151 514.4 DL 155 514.4 153 514.4 DL 157 514.4
155 514.4 DL 159 514.4 157 514.4 DL 161 514.4 159 514.4 DL 163 514.4 161 514.4
DL 165 514.4 163 514.4 DL 167 514.4 165 514.4 DL 169 514.4 167 514.4 DL 171
514.4 169 514.4 DL 173 514.4 171 514.4 DL 175 514.4 173 514.4 DL 177 514.4 175
514.4 DL 179 514.4 177 514.4 DL 181 514.4 179 514.4 DL 183 514.4 181 514.4 DL
185 514.4 183 514.4 DL 187 514.4 185 514.4 DL 189 514.4 187 514.4 DL 191 514.4
189 514.4 DL 193 514.4 191 514.4 DL 195 514.4 193 514.4 DL 197 514.4 195 514.4
DL 199 514.4 197 514.4 DL 201 514.4 199 514.4 DL 203 514.4 201 514.4 DL 205
514.4 203 514.4 DL 207 514.4 205 514.4 DL 209 514.4 207 514.4 DL 211 514.4 209
514.4 DL 213 514.4 211 514.4 DL 215 514.4 213 514.4 DL 217 514.4 215 514.4 DL
219 514.4 217 514.4 DL 221 514.4 219 514.4 DL 223 514.4 221 514.4 DL 225 514.4
223 514.4 DL 227 514.4 225 514.4 DL 229 514.4 227 514.4 DL 231 514.4 229 514.4
DL 233 514.4 231 514.4 DL 235 514.4 233 514.4 DL 237 514.4 235 514.4 DL 239
514.4 237 514.4 DL 241 514.4 239 514.4 DL 243 514.4 241 514.4 DL 245 514.4 243
514.4 DL 247 514.4 245 514.4 DL 249 514.4 247 514.4 DL 251 514.4 249 514.4 DL
253 514.4 251 514.4 DL 255 514.4 253 514.4 DL 257 514.4 255 514.4 DL 259 514.4
257 514.4 DL 261 514.4 259 514.4 DL 263 514.4 261 514.4 DL 265 514.4 263 514.4
DL 267 514.4 265 514.4 DL 269 514.4 267 514.4 DL 271 514.4 269 514.4 DL 273
514.4 271 514.4 DL 275 514.4 273 514.4 DL 277 514.4 275 514.4 DL 279 514.4 277
514.4 DL 281 514.4 279 514.4 DL 283 514.4 281 514.4 DL 285 514.4 283 514.4 DL
287 514.4 285 514.4 DL 289 514.4 287 514.4 DL 291 514.4 289 514.4 DL 293 514.4
291 514.4 DL 295 514.4 293 514.4 DL 297 514.4 295 514.4 DL 299 514.4 297 514.4
DL 301 514.4 299 514.4 DL 303 514.4 301 514.4 DL 305 514.4 303 514.4 DL 307
514.4 305 514.4 DL 309 514.4 307 514.4 DL 311 514.4 309 514.4 DL 313 514.4 311
514.4 DL 315 514.4 313 514.4 DL 317 514.4 315 514.4 DL 319 514.4 317 514.4 DL
321 514.4 319 514.4 DL 323 514.4 321 514.4 DL 325 514.4 323 514.4 DL 327 514.4
325 514.4 DL 329 514.4 327 514.4 DL 331 514.4 329 514.4 DL 333 514.4 331 514.4
DL 335 514.4 333 514.4 DL 337 514.4 335 514.4 DL 339 514.4 337 514.4 DL 341
514.4 339 514.4 DL 343 514.4 341 514.4 DL 345 514.4 343 514.4 DL 347 514.4 345
514.4 DL 349 514.4 347 514.4 DL 351 514.4 349 514.4 DL 353 514.4 351 514.4 DL
355 514.4 353 514.4 DL 357 514.4 355 514.4 DL 359 514.4 357 514.4 DL 361 514.4
359 514.4 DL 363 514.4 361 514.4 DL 365 514.4 363 514.4 DL 367 514.4 365 514.4
DL 369 514.4 367 514.4 DL 371 514.4 369 514.4 DL 373 514.4 371 514.4 DL 375
514.4 373 514.4 DL 377 514.4 375 514.4 DL 379 514.4 377 514.4 DL 381 514.4 379
514.4 DL 383 514.4 381 514.4 DL 385 514.4 383 514.4 DL 387 514.4 385 514.4 DL
1.44 LW 419.4 514.9 401.4 514.9 DL 428.4 514.9 410.4 514.9 DL 446.4 514.9 428.4
514.9 DL 464.4 514.9 446.4 514.9 DL 482.4 514.9 464.4 514.9 DL 500.4 514.9
482.4 514.9 DL 518.4 514.9 500.4 514.9 DL 536.4 514.9 518.4 514.9 DL/F5 12
/Helvetica-BoldOblique@0 SF(Naming)492.396 528.9 Q(Con)464.208 542.9 Q
(ventions)-.48 E F3 .656(Because Dore)63 543 R 4.209<b461>125.014 543 S .657
(lways invokes the device driver functions thr)138.386 543 R(ough)-.198 E 1.69
(the function pointers of the interface str)63 556.2 R(uctur)-.088 E 1.689
(es, the actual func-)-.198 F .058
(tion names of a device driver implementation can be arbitrary)63 569.4 R 5.558
(.W)-1.221 G(e)381.731 569.4 Q 1.437(do r)63 582.6 R 1.436
(ecommend that you follow a naming convention so that the)-.198 F 1.618
(names of functions, variables, constants and type de\214nitions ar)63 595.8 R
(e)-.198 E(unique.)63 609 Q 1.108
(By convention, each name uses lower case characters and under)63 634.2 R(-)
-.198 E(scor)63 647.4 Q(es, and has the form:)-.198 E/F6 9/Courier@0 SF
(dd?_dname_module_)63 670.4 Q/F7 9/Symbol SF(*)A F3(wher)63 695.6 Q(e)-.198 E
81 756 63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756
135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207
756 DL 243 756 225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279 756
DL 315 756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL
387 756 369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756
428.4 756 DL 464.4 756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756
DL 518.4 756 500.4 756 DL 536.4 756 518.4 756 DL/F8 9/Helvetica@0 SF(Sample De)
300.348 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q
3.506<b444>424.798 768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E
2.502(sG)-.45 G(uide)487.371 768.96 Q/F9 9/Helvetica-Bold@0 SF(11-121)4.002 E
EP
%%Page: 122 2
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Naming Con)72 57.6 Q(ventions)-.4 E/F1 10
/Helvetica@0 SF(\(contin)72 68.4 Q(ued\))-.1 E/F2 11/Palatino-Italic@0 SF(dd)
221.5 109.2 Q/F3 11/Palatino-Roman@0 SF(stands for Dore)271 109.2 Q 3.553<b464>
341.719 109.2 S(evice.)355.656 109.2 Q F2(?)221.5 131.1 Q F3(is)271 131.1 Q F2
(r)4.463 E F3 1.713(for r)4.463 F(outines,)-.198 E F2(c)4.463 E F3 1.713
(for constants,)4.463 F F2(t)4.463 E F3 1.714(for type de\214nitions,)4.464 F
(and)271 144.3 Q F2(e)2.75 E F3(for external variables.)2.75 E F2(dname)221.5
166.2 Q F3(is the name of the device driver)271 166.2 Q(.)-.814 E F2(module)
221.5 188.1 Q F3(is the name of the module wher)271 188.1 Q 2.75(et)-.198 G
(he name is used.)436.572 188.1 Q/F4 11/Symbol SF(*)221.5 210 Q F3
(is the descriptive part of the name.)271 210 Q 1.81(For example,)221.5 231.9 R
F2(ddr_x1)4.56 E(1_dcm_initialize)-.605 E F3 1.809(is an initialization r)4.56
F 1.809(outine in)-.198 F(the device contr)221.5 245.1 Q(ol module of the)-.198
E F2(x1)2.75 E(1)-.605 E F3(device driver)2.75 E(.)-.814 E .16 LW 223.4 264.5
221.4 264.5 DL 225.4 264.5 223.4 264.5 DL 227.4 264.5 225.4 264.5 DL 229.4
264.5 227.4 264.5 DL 231.4 264.5 229.4 264.5 DL 233.4 264.5 231.4 264.5 DL
235.4 264.5 233.4 264.5 DL 237.4 264.5 235.4 264.5 DL 239.4 264.5 237.4 264.5
DL 241.4 264.5 239.4 264.5 DL 243.4 264.5 241.4 264.5 DL 245.4 264.5 243.4
264.5 DL 247.4 264.5 245.4 264.5 DL 249.4 264.5 247.4 264.5 DL 251.4 264.5
249.4 264.5 DL 253.4 264.5 251.4 264.5 DL 255.4 264.5 253.4 264.5 DL 257.4
264.5 255.4 264.5 DL 259.4 264.5 257.4 264.5 DL 261.4 264.5 259.4 264.5 DL
263.4 264.5 261.4 264.5 DL 265.4 264.5 263.4 264.5 DL 267.4 264.5 265.4 264.5
DL 269.4 264.5 267.4 264.5 DL 271.4 264.5 269.4 264.5 DL 273.4 264.5 271.4
264.5 DL 275.4 264.5 273.4 264.5 DL 277.4 264.5 275.4 264.5 DL 279.4 264.5
277.4 264.5 DL 281.4 264.5 279.4 264.5 DL 283.4 264.5 281.4 264.5 DL 285.4
264.5 283.4 264.5 DL 287.4 264.5 285.4 264.5 DL 289.4 264.5 287.4 264.5 DL
291.4 264.5 289.4 264.5 DL 293.4 264.5 291.4 264.5 DL 295.4 264.5 293.4 264.5
DL 297.4 264.5 295.4 264.5 DL 299.4 264.5 297.4 264.5 DL 301.4 264.5 299.4
264.5 DL 303.4 264.5 301.4 264.5 DL 305.4 264.5 303.4 264.5 DL 307.4 264.5
305.4 264.5 DL 309.4 264.5 307.4 264.5 DL 311.4 264.5 309.4 264.5 DL 313.4
264.5 311.4 264.5 DL 315.4 264.5 313.4 264.5 DL 317.4 264.5 315.4 264.5 DL
319.4 264.5 317.4 264.5 DL 321.4 264.5 319.4 264.5 DL 323.4 264.5 321.4 264.5
DL 325.4 264.5 323.4 264.5 DL 327.4 264.5 325.4 264.5 DL 329.4 264.5 327.4
264.5 DL 331.4 264.5 329.4 264.5 DL 333.4 264.5 331.4 264.5 DL 335.4 264.5
333.4 264.5 DL 337.4 264.5 335.4 264.5 DL 339.4 264.5 337.4 264.5 DL 341.4
264.5 339.4 264.5 DL 343.4 264.5 341.4 264.5 DL 345.4 264.5 343.4 264.5 DL
347.4 264.5 345.4 264.5 DL 349.4 264.5 347.4 264.5 DL 351.4 264.5 349.4 264.5
DL 353.4 264.5 351.4 264.5 DL 355.4 264.5 353.4 264.5 DL 357.4 264.5 355.4
264.5 DL 359.4 264.5 357.4 264.5 DL 361.4 264.5 359.4 264.5 DL 363.4 264.5
361.4 264.5 DL 365.4 264.5 363.4 264.5 DL 367.4 264.5 365.4 264.5 DL 369.4
264.5 367.4 264.5 DL 371.4 264.5 369.4 264.5 DL 373.4 264.5 371.4 264.5 DL
375.4 264.5 373.4 264.5 DL 377.4 264.5 375.4 264.5 DL 379.4 264.5 377.4 264.5
DL 381.4 264.5 379.4 264.5 DL 383.4 264.5 381.4 264.5 DL 385.4 264.5 383.4
264.5 DL 387.4 264.5 385.4 264.5 DL 389.4 264.5 387.4 264.5 DL 391.4 264.5
389.4 264.5 DL 393.4 264.5 391.4 264.5 DL 395.4 264.5 393.4 264.5 DL 397.4
264.5 395.4 264.5 DL 399.4 264.5 397.4 264.5 DL 401.4 264.5 399.4 264.5 DL
403.4 264.5 401.4 264.5 DL 405.4 264.5 403.4 264.5 DL 407.4 264.5 405.4 264.5
DL 409.4 264.5 407.4 264.5 DL 411.4 264.5 409.4 264.5 DL 413.4 264.5 411.4
264.5 DL 415.4 264.5 413.4 264.5 DL 417.4 264.5 415.4 264.5 DL 419.4 264.5
417.4 264.5 DL 421.4 264.5 419.4 264.5 DL 423.4 264.5 421.4 264.5 DL 425.4
264.5 423.4 264.5 DL 427.4 264.5 425.4 264.5 DL 429.4 264.5 427.4 264.5 DL
431.4 264.5 429.4 264.5 DL 433.4 264.5 431.4 264.5 DL 435.4 264.5 433.4 264.5
DL 437.4 264.5 435.4 264.5 DL 439.4 264.5 437.4 264.5 DL 441.4 264.5 439.4
264.5 DL 443.4 264.5 441.4 264.5 DL 445.4 264.5 443.4 264.5 DL 447.4 264.5
445.4 264.5 DL 449.4 264.5 447.4 264.5 DL 451.4 264.5 449.4 264.5 DL 453.4
264.5 451.4 264.5 DL 455.4 264.5 453.4 264.5 DL 457.4 264.5 455.4 264.5 DL
459.4 264.5 457.4 264.5 DL 461.4 264.5 459.4 264.5 DL 463.4 264.5 461.4 264.5
DL 465.4 264.5 463.4 264.5 DL 467.4 264.5 465.4 264.5 DL 469.4 264.5 467.4
264.5 DL 471.4 264.5 469.4 264.5 DL 473.4 264.5 471.4 264.5 DL 475.4 264.5
473.4 264.5 DL 477.4 264.5 475.4 264.5 DL 479.4 264.5 477.4 264.5 DL 481.4
264.5 479.4 264.5 DL 483.4 264.5 481.4 264.5 DL 485.4 264.5 483.4 264.5 DL
487.4 264.5 485.4 264.5 DL 489.4 264.5 487.4 264.5 DL 491.4 264.5 489.4 264.5
DL 493.4 264.5 491.4 264.5 DL 495.4 264.5 493.4 264.5 DL 497.4 264.5 495.4
264.5 DL 499.4 264.5 497.4 264.5 DL 501.4 264.5 499.4 264.5 DL 503.4 264.5
501.4 264.5 DL 505.4 264.5 503.4 264.5 DL 507.4 264.5 505.4 264.5 DL 509.4
264.5 507.4 264.5 DL 511.4 264.5 509.4 264.5 DL 513.4 264.5 511.4 264.5 DL
515.4 264.5 513.4 264.5 DL 517.4 264.5 515.4 264.5 DL 519.4 264.5 517.4 264.5
DL 521.4 264.5 519.4 264.5 DL 523.4 264.5 521.4 264.5 DL 525.4 264.5 523.4
264.5 DL 527.4 264.5 525.4 264.5 DL 529.4 264.5 527.4 264.5 DL 531.4 264.5
529.4 264.5 DL 533.4 264.5 531.4 264.5 DL 535.4 264.5 533.4 264.5 DL 537.4
264.5 535.4 264.5 DL 539.4 264.5 537.4 264.5 DL 541.4 264.5 539.4 264.5 DL
543.4 264.5 541.4 264.5 DL 545.4 264.5 543.4 264.5 DL 1.44 LW 90 265 72 265 DL
99 265 81 265 DL 117 265 99 265 DL 135 265 117 265 DL 153 265 135 265 DL 171
265 153 265 DL 189 265 171 265 DL 207 265 189 265 DL/F5 12
/Helvetica-BoldOblique@0 SF(Step 2: Implement a)72 279 Q(Minimal DCM)72 293 Q
F3(Ther)221.5 289.8 Q 3.96(ea)-.198 G 1.606 -.198(re t)258.79 289.8 T(hr).198 E
1.211(ee categories of functions needed in the device con-)-.198 F(tr)221.5 303
Q .519(ol module: contr)-.198 F .519(ol, inquiry)-.198 F 3.269(,a)-1.221 G .519
(nd output.)371.878 303 R .519(The sections below will)6.019 F 1.362
(brie\215y discuss the functions r)221.5 316.2 R(equir)-.198 E 1.362
(ed to support pr)-.198 F 1.362(oduction r)-.198 F(en-)-.198 E(der)221.5 329.4
Q(er output only)-.198 E(.)-1.221 E .16 LW 223.4 352.1 221.4 352.1 DL 225.4
352.1 223.4 352.1 DL 227.4 352.1 225.4 352.1 DL 229.4 352.1 227.4 352.1 DL
231.4 352.1 229.4 352.1 DL 233.4 352.1 231.4 352.1 DL 235.4 352.1 233.4 352.1
DL 237.4 352.1 235.4 352.1 DL 239.4 352.1 237.4 352.1 DL 241.4 352.1 239.4
352.1 DL 243.4 352.1 241.4 352.1 DL 245.4 352.1 243.4 352.1 DL 247.4 352.1
245.4 352.1 DL 249.4 352.1 247.4 352.1 DL 251.4 352.1 249.4 352.1 DL 253.4
352.1 251.4 352.1 DL 255.4 352.1 253.4 352.1 DL 257.4 352.1 255.4 352.1 DL
259.4 352.1 257.4 352.1 DL 261.4 352.1 259.4 352.1 DL 263.4 352.1 261.4 352.1
DL 265.4 352.1 263.4 352.1 DL 267.4 352.1 265.4 352.1 DL 269.4 352.1 267.4
352.1 DL 271.4 352.1 269.4 352.1 DL 273.4 352.1 271.4 352.1 DL 275.4 352.1
273.4 352.1 DL 277.4 352.1 275.4 352.1 DL 279.4 352.1 277.4 352.1 DL 281.4
352.1 279.4 352.1 DL 283.4 352.1 281.4 352.1 DL 285.4 352.1 283.4 352.1 DL
287.4 352.1 285.4 352.1 DL 289.4 352.1 287.4 352.1 DL 291.4 352.1 289.4 352.1
DL 293.4 352.1 291.4 352.1 DL 295.4 352.1 293.4 352.1 DL 297.4 352.1 295.4
352.1 DL 299.4 352.1 297.4 352.1 DL 301.4 352.1 299.4 352.1 DL 303.4 352.1
301.4 352.1 DL 305.4 352.1 303.4 352.1 DL 307.4 352.1 305.4 352.1 DL 309.4
352.1 307.4 352.1 DL 311.4 352.1 309.4 352.1 DL 313.4 352.1 311.4 352.1 DL
315.4 352.1 313.4 352.1 DL 317.4 352.1 315.4 352.1 DL 319.4 352.1 317.4 352.1
DL 321.4 352.1 319.4 352.1 DL 323.4 352.1 321.4 352.1 DL 325.4 352.1 323.4
352.1 DL 327.4 352.1 325.4 352.1 DL 329.4 352.1 327.4 352.1 DL 331.4 352.1
329.4 352.1 DL 333.4 352.1 331.4 352.1 DL 335.4 352.1 333.4 352.1 DL 337.4
352.1 335.4 352.1 DL 339.4 352.1 337.4 352.1 DL 341.4 352.1 339.4 352.1 DL
343.4 352.1 341.4 352.1 DL 345.4 352.1 343.4 352.1 DL 347.4 352.1 345.4 352.1
DL 349.4 352.1 347.4 352.1 DL 351.4 352.1 349.4 352.1 DL 353.4 352.1 351.4
352.1 DL 355.4 352.1 353.4 352.1 DL 357.4 352.1 355.4 352.1 DL 359.4 352.1
357.4 352.1 DL 361.4 352.1 359.4 352.1 DL 363.4 352.1 361.4 352.1 DL 365.4
352.1 363.4 352.1 DL 367.4 352.1 365.4 352.1 DL 369.4 352.1 367.4 352.1 DL
371.4 352.1 369.4 352.1 DL 373.4 352.1 371.4 352.1 DL 375.4 352.1 373.4 352.1
DL 377.4 352.1 375.4 352.1 DL 379.4 352.1 377.4 352.1 DL 381.4 352.1 379.4
352.1 DL 383.4 352.1 381.4 352.1 DL 385.4 352.1 383.4 352.1 DL 387.4 352.1
385.4 352.1 DL 389.4 352.1 387.4 352.1 DL 391.4 352.1 389.4 352.1 DL 393.4
352.1 391.4 352.1 DL 395.4 352.1 393.4 352.1 DL 397.4 352.1 395.4 352.1 DL
399.4 352.1 397.4 352.1 DL 401.4 352.1 399.4 352.1 DL 403.4 352.1 401.4 352.1
DL 405.4 352.1 403.4 352.1 DL 407.4 352.1 405.4 352.1 DL 409.4 352.1 407.4
352.1 DL 411.4 352.1 409.4 352.1 DL 413.4 352.1 411.4 352.1 DL 415.4 352.1
413.4 352.1 DL 417.4 352.1 415.4 352.1 DL 419.4 352.1 417.4 352.1 DL 421.4
352.1 419.4 352.1 DL 423.4 352.1 421.4 352.1 DL 425.4 352.1 423.4 352.1 DL
427.4 352.1 425.4 352.1 DL 429.4 352.1 427.4 352.1 DL 431.4 352.1 429.4 352.1
DL 433.4 352.1 431.4 352.1 DL 435.4 352.1 433.4 352.1 DL 437.4 352.1 435.4
352.1 DL 439.4 352.1 437.4 352.1 DL 441.4 352.1 439.4 352.1 DL 443.4 352.1
441.4 352.1 DL 445.4 352.1 443.4 352.1 DL 447.4 352.1 445.4 352.1 DL 449.4
352.1 447.4 352.1 DL 451.4 352.1 449.4 352.1 DL 453.4 352.1 451.4 352.1 DL
455.4 352.1 453.4 352.1 DL 457.4 352.1 455.4 352.1 DL 459.4 352.1 457.4 352.1
DL 461.4 352.1 459.4 352.1 DL 463.4 352.1 461.4 352.1 DL 465.4 352.1 463.4
352.1 DL 467.4 352.1 465.4 352.1 DL 469.4 352.1 467.4 352.1 DL 471.4 352.1
469.4 352.1 DL 473.4 352.1 471.4 352.1 DL 475.4 352.1 473.4 352.1 DL 477.4
352.1 475.4 352.1 DL 479.4 352.1 477.4 352.1 DL 481.4 352.1 479.4 352.1 DL
483.4 352.1 481.4 352.1 DL 485.4 352.1 483.4 352.1 DL 487.4 352.1 485.4 352.1
DL 489.4 352.1 487.4 352.1 DL 491.4 352.1 489.4 352.1 DL 493.4 352.1 491.4
352.1 DL 495.4 352.1 493.4 352.1 DL 497.4 352.1 495.4 352.1 DL 499.4 352.1
497.4 352.1 DL 501.4 352.1 499.4 352.1 DL 503.4 352.1 501.4 352.1 DL 505.4
352.1 503.4 352.1 DL 507.4 352.1 505.4 352.1 DL 509.4 352.1 507.4 352.1 DL
511.4 352.1 509.4 352.1 DL 513.4 352.1 511.4 352.1 DL 515.4 352.1 513.4 352.1
DL 517.4 352.1 515.4 352.1 DL 519.4 352.1 517.4 352.1 DL 521.4 352.1 519.4
352.1 DL 523.4 352.1 521.4 352.1 DL 525.4 352.1 523.4 352.1 DL 527.4 352.1
525.4 352.1 DL 529.4 352.1 527.4 352.1 DL 531.4 352.1 529.4 352.1 DL 533.4
352.1 531.4 352.1 DL 535.4 352.1 533.4 352.1 DL 537.4 352.1 535.4 352.1 DL
539.4 352.1 537.4 352.1 DL 541.4 352.1 539.4 352.1 DL 543.4 352.1 541.4 352.1
DL 545.4 352.1 543.4 352.1 DL 1.44 LW 90 352.6 72 352.6 DL 99 352.6 81 352.6 DL
117 352.6 99 352.6 DL 135 352.6 117 352.6 DL 153 352.6 135 352.6 DL 171 352.6
153 352.6 DL 189 352.6 171 352.6 DL 207 352.6 189 352.6 DL/F6 12
/Helvetica-Oblique@0 SF(Control Routines)72 366.6 Q F3 2.196
(The local data and information that must be maintained in the)221.5 377.4 R
(device includes:)221.5 390.6 Q 18.334<8374>221.5 409.8 S
(he handle to the Dore)250.086 409.8 Q 3.553<b464>350.769 409.8 S(evice,)
364.706 409.8 Q 18.334<8374>221.5 429 S(he location and size of the device,)
250.086 429 Q 18.334<8374>221.5 448.2 S(he visual type,)250.086 448.2 Q 18.334
<8361>221.5 467.4 S 1.315
(\215ag indicating if the device will allow automatic r)256.065 467.4 R
(esizing,)-.198 E(and)246.5 480.6 Q 18.334<8361>221.5 499.8 S
(\215ag indicating if the device is double buf)254.75 499.8 Q(fer)-.198 E(ed.)
-.198 E .449(The following data str)221.5 525 R(uctur)-.088 E 3.199(ei)-.198 G
3.199(su)367.847 525 S .45(sed to keep track of this informa-)382.343 525 R
(tion for each instance of the sample device driver)221.5 538.2 Q(.)-.814 E/F7
9/Courier@0 SF(typedef struct {)221.5 561.2 Q 59.4(DtObject device;)243.1 572.2
R 75.6(DtInt x;)243.1 583.2 R 75.6(DtInt y;)243.1 594.2 R 75.6(DtInt width;)
243.1 605.2 R 75.6(Dtint height;)243.1 616.2 R 37.8(DtVisualType visualtype;)
243.1 627.2 R 70.2(DtFlag auto_size;)243.1 638.2 R 70.2
(DtFlag double_buffered;)243.1 649.2 R 5.4(}d)221.5 660.2 S(dt_sampledev_data;)
237.7 660.2 Q 90 756 72 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117
756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756
DL 239.4 756 221.4 756 DL 257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4
756 275.4 756 DL 311.4 756 293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4
756 DL 365.4 756 347.4 756 DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL
419.4 756 401.4 756 DL 437.4 756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756
455.4 756 DL 491.4 756 473.4 756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756
DL 545.4 756 527.4 756 DL/F8 9/Helvetica-Bold@0 SF(11-122)72 768.96 Q/F9 9
/Helvetica@0 SF(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187 -.27(ev e)
135.024 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q(Sample De)
221.4 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 123 3
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 2: Implement a Minimal)401.92 57.6 Q(DCM)
513.63 68.4 Q/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 11
/Helvetica-BoldOblique@0 SF(dcm.create_local_data)63 109.2 Q/F3 11
/Palatino-Roman@0 SF .009(The r)63 134.4 R(outine)-.198 E/F4 11
/Palatino-Italic@0 SF(dcm.cr)2.759 E(eate_local_data)-.198 E F3 .009
(allocates the memory r)2.759 F(equir)-.198 E .008(ed for)-.198 F 2.381
(each instance of the device.)63 147.6 R 2.382(This r)7.882 F 2.382
(outine is straightforwar)-.198 F 5.132(d. It)-.198 F 1.173
(allocates enough memory to hold the data needed for the device)63 160.8 R
(and r)63 174 Q(eturns it to Dore)-.198 E .803<b42e>163.716 174 S/F5 9
/Courier@0 SF(DtPtr)63 197 Q(ddr_sampledev_dcm_create_local_data \(device\))63
208 Q(DtObject device;)63 219 Q({)63 230 Q(ddt_sampledev_data)84.6 241 Q/F6 9
/Symbol SF(*)5.4 E F5(device_data;)A(if \(\(device_data = \(ddt_sampledev_data)
84.6 263 Q F6(*)5.4 E F5(\))A
(DDspace_Allocate\(sizeof \(ddt_sampledev_data\)\)\))111.6 274 Q
(== \(ddt_sampledev_data)111.6 285 Q F6(*)5.4 E F5(\)0\) {)A
(DDerror \(ERR_CANT_ALLOC_MEM_SIZE,)106.2 296 Q
("ddr_sampledev_dcm_create_local_data",)154.8 307 Q
("sizeof \(ddt_sampledev_data\)"\);)154.8 318 Q(return \(DcNullPtr\);)106.2 329
Q(})84.6 340 Q(device_data->device = device;)84.6 362 Q
(return \(\(DtPtr\) device_data\);)84.6 384 Q(})63 395 Q F2 -2.948
(dcm.initializ e_de)63 450.8 R(vice)-.165 E F3(Dore)63 476 Q 7.193<b463>82.668
476 S(alls)98.408 476 Q F4(dcm.cr)6.39 E(eate_local_data)-.198 E F3 3.641
(to allocate the data for a new)6.39 F .754(instance of the device driver)63
489.2 R 3.504(.T)-.814 G(hen)215.688 489.2 Q F4(dcm.initialize_device)3.503 E
F3 .753(is called to)3.503 F 2.938(initialize the device.)63 502.4 R 2.939
(This r)8.439 F 2.939(outine is passed a string,)-.198 F F4(ar)5.689 E(gstring)
-.198 E F3(,)A 1.944(which contains device speci\214c options.)63 515.6 R 1.943
(Several options that ar)7.444 F(e)-.198 E 1.822(fairly standar)63 528.8 R
4.572(d. The)-.198 F 1.823(sample device driver accepts the following)4.572 F
(options:)63 542 Q(\255noautosize)63 567.2 Q .899(disables the automatic r)88
580.4 R .899(esizing of the device viewport when)-.198 F
(the device extent changes.)88 593.6 Q(\255visualtype)63 618.8 Q F4(type)2.75 E
F3(sets the visual type of the device.)88 632 Q(\255geometry)63 657.2 Q F4
(geomstring)2.75 E F3 .911
(speci\214es the size and position of the device in either)88 670.4 R F4(width)
3.661 E/F7 11/Palatino-Bold@0 SF(x-)A F4(height)88 683.6 Q F3(or)3.677 E F4
(width)3.677 E F7(x)A F4(height)A F7(+)A F4(x)A F7(+)A F4(y)A F3 3.677
(format. This)3.677 F .926(is a standar)3.676 F 3.676(df)-.198 G(ormat)357.85
683.6 Q 1.442(used, for example, to specify an X window's size and posi-)88
696.8 R 2.75(tion. The)88 710 R(sample device driver uses this notation.)2.75 E
1.44 LW 81 756 63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL
153 756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225
756 207 756 DL 243 756 225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756
279 756 DL 315 756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351
756 DL 387 756 369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4
756 428.4 756 DL 464.4 756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4
756 DL 518.4 756 500.4 756 DL 536.4 756 518.4 756 DL/F8 9/Helvetica@0 SF
(Sample De)300.348 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296
768.96 Q 3.506<b444>424.798 768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper')
.27 E 2.502(sG)-.45 G(uide)487.371 768.96 Q/F9 9/Helvetica-Bold@0 SF(11-123)
4.002 E EP
%%Page: 124 4
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 2: Implement a Minimal)72 57.6 Q(DCM)72
68.4 Q/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 11
/Palatino-Roman@0 SF(\255singlebuf)221.5 109.2 Q(fer)-.198 E(ed)-.198 E 3.003
(speci\214es that the device is to be single buf)246.5 122.4 R(fer)-.198 E
5.753(ed. Double)-.198 F(buf)246.5 135.6 Q(fer)-.198 E(ed is the default.)-.198
E 3.41(Any other ar)221.5 160.8 R 3.41(guments ar)-.198 F 6.16(ei)-.198 G(gnor)
362.971 160.8 Q 3.409(ed, and a warning message is)-.198 F 3.372(printed. In)
221.5 174 R .623(the sample device driver)3.372 F 3.373(,t)-.814 G .623(his r)
410.872 174 R .623(outine handles parsing)-.198 F .409(the ar)221.5 187.2 R
.409(gument string and storing the values in the local data space.)-.198 F 1.61
(This is also wher)221.5 200.4 R 4.36(et)-.198 G 1.61
(he physical device is opened and initialized.)321.032 200.4 R(The)221.5 213.6
Q/F3 11/Palatino-Italic@0 SF(dcm.initialize_device)3.257 E F2 -.198(ro)3.257 G
.507(utine should r).198 F(eturn)-.198 E F3(DcT)3.257 E(rue)-1.221 E F2 .506
(if the initial-)3.257 F(ization was successful; otherwise, it should r)221.5
226.8 Q(eturn)-.198 E F3(DcFalse)2.75 E F2(.)A/F4 9/Courier@0 SF(DtFlag)216.101
249.8 Q(ddr_sampledev_dcm_initialize_device \(device, device_data,)216.101
260.8 Q(argstring, name\))410.501 271.8 Q(DtObject device;)216.101 282.8 Q
(ddt_sampledev_data)216.101 293.8 Q/F5 9/Symbol SF(*)5.4 E F4(device_data;)A
(DtPtr argstring;)216.101 304.8 Q(DtPtr name;)216.101 315.8 Q({)216.101 326.8 Q
(char)237.701 337.8 Q F5(*)5.4 E F4(argstringcopy,)A F5(*)5.4 E F4(tmp,)A F5(*)
5.4 E F4(p,)A F5(*)5.4 E F4(nextarg;)A(static char)237.701 348.8 Q F5(*)5.4 E
F4 5.4(funcname =)B("ddr_sampledev_dcm_initialize_device";)280.901 359.8 Q
(int error=0;)237.701 370.8 Q(int x = 0;)237.701 381.8 Q(int y = 0;)237.701
392.8 Q(int width = 512;)237.701 403.8 Q(int height = 512;)237.701 414.8 Q(/)
237.701 436.8 Q F5(*)A(*)243.101 447.8 Q F4
(This function allocates the device driver instance)5.4 E F5(*)243.101 458.8 Q
F4(specific storage and sets up the device)5.4 E F5(*)243.101 469.8 Q F4(/)A
(device_data->device = device;)237.701 491.8 Q
(device_data->auto_size = DcTrue;)237.701 502.8 Q
(device_data->visualtype = DcTrueColor;)237.701 513.8 Q
(device_data->double_buffered = DcTrue;)237.701 524.8 Q(/)237.701 557.8 Q F5(*)
A(*)243.101 568.8 Q F4(Process the argstring.)5.4 E(First make)382.601 568.8 Q
F5(*)243.101 579.8 Q F4 5.4(ac)5.4 G(opy of the user's string so you don't)
269.201 579.8 Q F5(*)243.101 590.8 Q F4(alter it.)5.4 E F5(*)243.101 601.8 Q F4
(/)A(argstringcopy = \(char)237.701 623.8 Q F5(*)5.4 E F4(\))A
(DDspace_Allocate\(strlen\(argstring\)+1\);)280.901 634.8 Q
(strcpy\(argstringcopy, argstring\);)237.701 645.8 Q(tmp = argstringcopy;)
237.701 667.8 Q(/)237.701 689.8 Q F5(*)A(*)243.101 700.8 Q F4 5.4(pp)5.4 G
(oints to first substring)269.201 700.8 Q F5(*)243.101 711.8 Q F4(/)A 1.44 LW
90 756 72 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756
135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756
221.4 756 DL 257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756
DL 311.4 756 293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4
756 347.4 756 DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4
756 DL 437.4 756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL
491.4 756 473.4 756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756
527.4 756 DL/F6 9/Helvetica-Bold@0 SF(11-124)72 768.96 Q/F7 9/Helvetica@0 SF
(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T
(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q
(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 125 5
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 2: Implement a Minimal)401.92 57.6 Q(DCM)
513.63 68.4 Q/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(while \(\(p = DDstrtok\(tmp, " \\t,"\)\)\) {)84.6 107 Q(tmp = 0;)
106.2 118 Q(if \(!strcmp\(p,"-noautosize"\)\) {)106.2 140 Q
(device_data->auto_size = DcFalse;)127.8 151 Q 5.4(}e)106.2 173 S
(lse if \(!strcmp\(p, "-visualtype"\)\) {)122.4 173 Q
(if \(!\(nextarg = DDstrtok\(0, " \\t,"\)\)\) {)127.8 184 Q
(DDerror \(ERR_BAD_DEVICE_OPT_VAL,)149.4 195 Q
(funcname, "visualtype: \(no value\)"\);)198 206 Q(error = 1;)149.4 217 Q 5.4
(}e)127.8 228 S(lse {)144 228 Q(if \(!strcmp\("DcStaticGrey", nextarg\)\) {)
149.4 239 Q(device_data->visualtype = DcStaticGrey;)171 250 Q 5.4(}e)149.4 261
S(lse if \(!strcmp\("DcGreyScale",nextarg\)\){)165.6 261 Q
(device_data->visualtype = DcGreyScale;)171 272 Q 5.4(}e)149.4 283 S
(lse if \(!strcmp\("DcStaticColor",nextarg\)\){)165.6 283 Q
(device_data->visualtype = DcStaticColor;)171 294 Q 5.4(}e)149.4 305 S
(lse if \(!strcmp\("DcPseudoColor",nextarg\)\){)165.6 305 Q
(device_data->visualtype = DcPseudoColor;)171 316 Q 5.4(}e)149.4 327 S
(lse if \(!strcmp\("DcTrueColor",nextarg\)\){)165.6 327 Q
(device_data->visualtype = DcTrueColor;)171 338 Q 5.4(}e)149.4 349 S
(lse if \(!strcmp\("DcDirectColor",nextarg\)\){)165.6 349 Q
(device_data->visualtype = DcDirectColor;)171 360 Q 5.4(}e)149.4 371 S(lse {)
165.6 371 Q(sprintf \(DDerror_GetLine\(\),)171 382 Q
("visualtype: '%s'", nextarg\);)219.6 393 Q(DDerror \(ERR_BAD_DEVICE_OPT_VAL,)
171 404 Q(funcname, DDerror_GetLine\(\)\);)219.6 415 Q(error = 1;)171 426 Q(})
149.4 437 Q(})127.8 448 Q 5.4(}e)106.2 481 S
(lse if \(!strcmp\(p,"-geometry"\)\) {)122.4 481 Q
(if \(!\(nextarg = DDstrtok\(0,")127.8 492 Q(,"\)\)\) {)322.2 492 Q
(DDerror \(ERR_BAD_DEVICE_OPT_VAL,)149.4 503 Q
(funcname, "width: \(no value\)"\);)198 514 Q(error = 1;)149.4 525 Q 5.4(}e)
127.8 536 S(lse {)144 536 Q(parse_geometry \(nextarg, &x, &y, &width,)149.4 547
Q(&height\);)235.8 558 Q(})127.8 569 Q 5.4(}e)106.2 580 S
(lse if \(!strcmp\(p,"-singlebuffered"\)\) {)122.4 580 Q
(device_data->double_buffered = DcFalse;)127.8 591 Q 5.4(}e)106.2 602 S(lse {)
122.4 602 Q(sprintf\(DDerror_GetLine\(\),)127.8 613 Q
("ignored flag '%s'", p\);)171 624 Q(DDerror \(ERR_BAD_DEVICE_OPT,)127.8 635 Q
(funcname, DDerror_GetLine\(\)\);)176.4 646 Q(})106.2 657 Q(})84.6 668 Q
(DDspace_Deallocate\(argstringcopy\);)84.6 690 Q(if \(error\) {)84.6 712 Q 1.44
LW 81 756 63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153
756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756
207 756 DL 243 756 225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279
756 DL 315 756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351 756
DL 387 756 369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756
428.4 756 DL 464.4 756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756
DL 518.4 756 500.4 756 DL 536.4 756 518.4 756 DL/F3 9/Helvetica@0 SF(Sample De)
300.348 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q
3.506<b444>424.798 768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E
2.502(sG)-.45 G(uide)487.371 768.96 Q/F4 9/Helvetica-Bold@0 SF(11-125)4.002 E
EP
%%Page: 126 6
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 2: Implement a Minimal)72 57.6 Q(DCM)72
68.4 Q/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 9/Courier@0 SF
(return\(DcFalse\);)259.301 107 Q(})237.701 118 Q(device_data->x = x;)237.701
140 Q(device_data->y = y;)237.701 151 Q(device_data->width = width;)237.701 162
Q(device_data->height = height;)237.701 173 Q(/)237.701 195 Q/F3 9/Symbol SF(*)
A(*)243.101 206 Q F2(Do device specific stuff)5.4 E F3(*)243.101 217 Q F2(/)A
(.)259.301 228 Q(.)259.301 239 Q(return DcTrue;)237.701 250 Q(})216.101 261 Q
/F4 11/Helvetica-BoldOblique@0 SF(dcm.become_current_driver)221.5 316.8 Q/F5 11
/Palatino-Roman@0 SF(Ther)221.5 342 Q 3.628(em)-.198 G .878(ay be several Dore)
262.671 342 R 4.431<b464>350.654 342 S .877
(evices active at any given time, thus)365.469 342 R .598
(the device driver needs to keep track of which instance is the)221.5 355.2 R
/F6 11/Palatino-Italic@0 SF(cur-)3.349 E -.198(re)221.5 368.4 S(nt).198 E F5
4.447(device. Dore)4.447 F 5.25<b46e>305.26 368.4 S 1.697
(oti\214es the device driver of which instance is)320.575 368.4 R 3.832
(the curr)221.5 381.6 R 3.832(ent one thr)-.198 F 3.833(ough the r)-.198 F
(outine)-.198 E F6(dcm.become_curr)6.583 E(ent_driver)-.198 E F5(.)A 32.755
(The sample sets a global variable)221.5 394.8 R F6(dde_sampledev_curr)221.5
408 Q(ent_device_data)-.198 E F5 4.507(to point to the curr)7.257 F 4.508
(ent local)-.198 F .169(device data.)221.5 421.2 R .168(All the other r)5.669 F
.168(outines in the DCM will use this global)-.198 F(variable.)221.5 434.4 Q F2
(void)221.5 457.4 Q(ddr_sampledev_dcm_become_current_driver \(device_data\))
221.5 468.4 Q(ddt_sampledev_data)221.5 479.4 Q F3(*)5.4 E F2(device_data;)A({)
221.5 490.4 Q(dde_sampledev_current_device_data = device_data;)243.1 501.4 Q(})
221.5 512.4 Q .16 LW 223.4 540.5 221.4 540.5 DL 225.4 540.5 223.4 540.5 DL
227.4 540.5 225.4 540.5 DL 229.4 540.5 227.4 540.5 DL 231.4 540.5 229.4 540.5
DL 233.4 540.5 231.4 540.5 DL 235.4 540.5 233.4 540.5 DL 237.4 540.5 235.4
540.5 DL 239.4 540.5 237.4 540.5 DL 241.4 540.5 239.4 540.5 DL 243.4 540.5
241.4 540.5 DL 245.4 540.5 243.4 540.5 DL 247.4 540.5 245.4 540.5 DL 249.4
540.5 247.4 540.5 DL 251.4 540.5 249.4 540.5 DL 253.4 540.5 251.4 540.5 DL
255.4 540.5 253.4 540.5 DL 257.4 540.5 255.4 540.5 DL 259.4 540.5 257.4 540.5
DL 261.4 540.5 259.4 540.5 DL 263.4 540.5 261.4 540.5 DL 265.4 540.5 263.4
540.5 DL 267.4 540.5 265.4 540.5 DL 269.4 540.5 267.4 540.5 DL 271.4 540.5
269.4 540.5 DL 273.4 540.5 271.4 540.5 DL 275.4 540.5 273.4 540.5 DL 277.4
540.5 275.4 540.5 DL 279.4 540.5 277.4 540.5 DL 281.4 540.5 279.4 540.5 DL
283.4 540.5 281.4 540.5 DL 285.4 540.5 283.4 540.5 DL 287.4 540.5 285.4 540.5
DL 289.4 540.5 287.4 540.5 DL 291.4 540.5 289.4 540.5 DL 293.4 540.5 291.4
540.5 DL 295.4 540.5 293.4 540.5 DL 297.4 540.5 295.4 540.5 DL 299.4 540.5
297.4 540.5 DL 301.4 540.5 299.4 540.5 DL 303.4 540.5 301.4 540.5 DL 305.4
540.5 303.4 540.5 DL 307.4 540.5 305.4 540.5 DL 309.4 540.5 307.4 540.5 DL
311.4 540.5 309.4 540.5 DL 313.4 540.5 311.4 540.5 DL 315.4 540.5 313.4 540.5
DL 317.4 540.5 315.4 540.5 DL 319.4 540.5 317.4 540.5 DL 321.4 540.5 319.4
540.5 DL 323.4 540.5 321.4 540.5 DL 325.4 540.5 323.4 540.5 DL 327.4 540.5
325.4 540.5 DL 329.4 540.5 327.4 540.5 DL 331.4 540.5 329.4 540.5 DL 333.4
540.5 331.4 540.5 DL 335.4 540.5 333.4 540.5 DL 337.4 540.5 335.4 540.5 DL
339.4 540.5 337.4 540.5 DL 341.4 540.5 339.4 540.5 DL 343.4 540.5 341.4 540.5
DL 345.4 540.5 343.4 540.5 DL 347.4 540.5 345.4 540.5 DL 349.4 540.5 347.4
540.5 DL 351.4 540.5 349.4 540.5 DL 353.4 540.5 351.4 540.5 DL 355.4 540.5
353.4 540.5 DL 357.4 540.5 355.4 540.5 DL 359.4 540.5 357.4 540.5 DL 361.4
540.5 359.4 540.5 DL 363.4 540.5 361.4 540.5 DL 365.4 540.5 363.4 540.5 DL
367.4 540.5 365.4 540.5 DL 369.4 540.5 367.4 540.5 DL 371.4 540.5 369.4 540.5
DL 373.4 540.5 371.4 540.5 DL 375.4 540.5 373.4 540.5 DL 377.4 540.5 375.4
540.5 DL 379.4 540.5 377.4 540.5 DL 381.4 540.5 379.4 540.5 DL 383.4 540.5
381.4 540.5 DL 385.4 540.5 383.4 540.5 DL 387.4 540.5 385.4 540.5 DL 389.4
540.5 387.4 540.5 DL 391.4 540.5 389.4 540.5 DL 393.4 540.5 391.4 540.5 DL
395.4 540.5 393.4 540.5 DL 397.4 540.5 395.4 540.5 DL 399.4 540.5 397.4 540.5
DL 401.4 540.5 399.4 540.5 DL 403.4 540.5 401.4 540.5 DL 405.4 540.5 403.4
540.5 DL 407.4 540.5 405.4 540.5 DL 409.4 540.5 407.4 540.5 DL 411.4 540.5
409.4 540.5 DL 413.4 540.5 411.4 540.5 DL 415.4 540.5 413.4 540.5 DL 417.4
540.5 415.4 540.5 DL 419.4 540.5 417.4 540.5 DL 421.4 540.5 419.4 540.5 DL
423.4 540.5 421.4 540.5 DL 425.4 540.5 423.4 540.5 DL 427.4 540.5 425.4 540.5
DL 429.4 540.5 427.4 540.5 DL 431.4 540.5 429.4 540.5 DL 433.4 540.5 431.4
540.5 DL 435.4 540.5 433.4 540.5 DL 437.4 540.5 435.4 540.5 DL 439.4 540.5
437.4 540.5 DL 441.4 540.5 439.4 540.5 DL 443.4 540.5 441.4 540.5 DL 445.4
540.5 443.4 540.5 DL 447.4 540.5 445.4 540.5 DL 449.4 540.5 447.4 540.5 DL
451.4 540.5 449.4 540.5 DL 453.4 540.5 451.4 540.5 DL 455.4 540.5 453.4 540.5
DL 457.4 540.5 455.4 540.5 DL 459.4 540.5 457.4 540.5 DL 461.4 540.5 459.4
540.5 DL 463.4 540.5 461.4 540.5 DL 465.4 540.5 463.4 540.5 DL 467.4 540.5
465.4 540.5 DL 469.4 540.5 467.4 540.5 DL 471.4 540.5 469.4 540.5 DL 473.4
540.5 471.4 540.5 DL 475.4 540.5 473.4 540.5 DL 477.4 540.5 475.4 540.5 DL
479.4 540.5 477.4 540.5 DL 481.4 540.5 479.4 540.5 DL 483.4 540.5 481.4 540.5
DL 485.4 540.5 483.4 540.5 DL 487.4 540.5 485.4 540.5 DL 489.4 540.5 487.4
540.5 DL 491.4 540.5 489.4 540.5 DL 493.4 540.5 491.4 540.5 DL 495.4 540.5
493.4 540.5 DL 497.4 540.5 495.4 540.5 DL 499.4 540.5 497.4 540.5 DL 501.4
540.5 499.4 540.5 DL 503.4 540.5 501.4 540.5 DL 505.4 540.5 503.4 540.5 DL
507.4 540.5 505.4 540.5 DL 509.4 540.5 507.4 540.5 DL 511.4 540.5 509.4 540.5
DL 513.4 540.5 511.4 540.5 DL 515.4 540.5 513.4 540.5 DL 517.4 540.5 515.4
540.5 DL 519.4 540.5 517.4 540.5 DL 521.4 540.5 519.4 540.5 DL 523.4 540.5
521.4 540.5 DL 525.4 540.5 523.4 540.5 DL 527.4 540.5 525.4 540.5 DL 529.4
540.5 527.4 540.5 DL 531.4 540.5 529.4 540.5 DL 533.4 540.5 531.4 540.5 DL
535.4 540.5 533.4 540.5 DL 537.4 540.5 535.4 540.5 DL 539.4 540.5 537.4 540.5
DL 541.4 540.5 539.4 540.5 DL 543.4 540.5 541.4 540.5 DL 545.4 540.5 543.4
540.5 DL 1.44 LW 90 541 72 541 DL 99 541 81 541 DL 117 541 99 541 DL 135 541
117 541 DL 153 541 135 541 DL 171 541 153 541 DL 189 541 171 541 DL 207 541 189
541 DL/F7 12/Helvetica-Oblique@0 SF -2.976(Inquir y)72 555 R(Routines)3.336 E
F5 1.953(The inquiry r)221.5 565.8 R 1.953(outines of the DCM pr)-.198 F 1.952
(ovide access to information)-.198 F(local to the device driver)221.5 579 Q 5.5
(.T)-.814 G(hese inquiry r)355.975 579 Q(outines ar)-.198 E 2.75(ev)-.198 G
(ery simple.)485.676 579 Q F4(dcm.inquire_de)221.5 619.5 Q(vice_e)-.165 E
(xtent)-.165 E F5(The)221.5 644.7 Q F6(dcm.inquir)3.308 E(e_device_extent)-.198
E F5 -.198(ro)3.308 G .559(utine r).198 F .559(eturns the device volume in)
-.198 F(Dore)221.5 657.9 Q 5.529<b464>241.168 657.9 S 1.976(evice coor)257.081
657.9 R 4.725(dinates. Dore)-.198 F 5.528<b464>372.924 657.9 S 1.975
(evice coor)388.836 657.9 R 1.975(dinates form a right-)-.198 F .372
(handed coor)221.5 671.1 R .372
(dinate system with positive x going to the right, posi-)-.198 F .093
(tive y going up, and positive z coming towar)221.5 684.3 R 2.843(dy)-.198 G
2.843(ou. In)455.758 684.3 R .093(the sample,)2.843 F .515
(the device extent is fr)221.5 697.5 R .515(om zer)-.198 F 3.265(ot)-.198 G
3.265(ot)373.596 697.5 S .515(he width of the device in x, zer)386.453 697.5 R
(o)-.198 E(to the height of the device in y)221.5 710.7 Q 2.75(,a)-1.221 G
(nd zer)378.558 710.7 Q 2.75(ot)-.198 G 2.75(oo)421.689 710.7 S(ne in z.)
436.451 710.7 Q 90 756 72 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117
756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756
DL 239.4 756 221.4 756 DL 257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4
756 275.4 756 DL 311.4 756 293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4
756 DL 365.4 756 347.4 756 DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL
419.4 756 401.4 756 DL 437.4 756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756
455.4 756 DL 491.4 756 473.4 756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756
DL 545.4 756 527.4 756 DL/F8 9/Helvetica-Bold@0 SF(11-126)72 768.96 Q/F9 9
/Helvetica@0 SF(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187 -.27(ev e)
135.024 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q(Sample De)
221.4 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 127 7
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 2: Implement a Minimal)401.92 57.6 Q(DCM)
513.63 68.4 Q/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(void)63 107 Q(ddr_sampledev_dcm_inquire_device_extent \(volume\))
63 118 Q(DtVolume)63 129 Q/F3 9/Symbol SF(*)5.4 E F2(volume;)A({)63 140 Q
(volume->bll[0] = 0.0;)84.6 151 Q(volume->bll[1] = 0.0;)84.6 162 Q
(volume->bll[2] = 0.0;)84.6 173 Q
(volume->fur[0] = dde_sampledev_current_device_data->width;)84.6 184 Q
(volume->fur[1] = dde_sampledev_current_device_data->height;)84.6 195 Q
(volume->fur[2] = 1.0;)84.6 206 Q(})63 217 Q/F4 11/Helvetica-BoldOblique@0 SF
(dcm.inquire_stereo)63 269.5 Q/F5 11/Palatino-Roman@0 SF 1.278
(The sample device will never be ster)63 294.7 R 1.278(eo, so)-.198 F/F6 11
/Palatino-Italic@0 SF(dcm.inquir)4.028 E(e_ster)-.198 E(eo)-.198 E F5(will)
4.027 E(always r)63 307.9 Q(eturn)-.198 E F6(DcFalse)2.75 E F5(.)A F2(void)63
330.9 Q(ddr_sampledev_dcm_inquire_stereo \(stereoflag\))63 341.9 Q(DtFlag)63
352.9 Q F3(*)5.4 E F2(stereoflag;)A({)63 363.9 Q F3(*)84.6 374.9 Q F2
(stereoflag = DcFalse;)A(})63 385.9 Q F4(dcm.inquire_ncolor)63 441.7 Q(s)-.165
E F5 2.942(The number of colors that the device supports is r)63 466.9 R 2.942
(eturned by)-.198 F F6(dcm.inquir)63 480.1 Q(e_ncolors)-.198 E F5 5.5(.T)C
(he sample assumes that it is 256.)168.556 480.1 Q F2(void)63 503.1 Q
(ddr_sampledev_dcm_inquire_ncolors \(ncolors\))63 514.1 Q(DtInt)63 525.1 Q F3
(*)5.4 E F2(ncolors;)A({)63 536.1 Q F3(*)84.6 547.1 Q F2(ncolors = 256;)A(})63
558.1 Q F4(dcm.inquire_resolution)63 613.9 Q F5 .367(The r)63 639.1 R .367
(esolution of the device in millimeters is r)-.198 F .366(eturned by this r)
-.198 F(ou-)-.198 E 2.909(tine. The)63 652.3 R .159
(aspect ratio of the pixel is pr)2.909 F .16(obably mor)-.198 F 2.91(ei)-.198 G
.16(mportant than)316.451 652.3 R .697(its actual size.)63 665.5 R(Render)6.197
E .696(ers will be able to adjust the way they gen-)-.198 F .71
(erate an image based on the aspect ratio of the pixel.)63 678.7 R .71
(The sample)6.21 F(device has squar)63 691.9 Q 2.75(ep)-.198 G
(ixels of .25 millimeters.)158.359 691.9 Q 1.44 LW 81 756 63 756 DL 99 756 81
756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756
DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756 225 756 DL
261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297 756 DL 333
756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756 DL 419.4
756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4 756 446.4
756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4 756 DL
536.4 756 518.4 756 DL/F7 9/Helvetica@0 SF(Sample De)300.348 768.96 Q(vice Dr)
-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798 768.96 S
-2.187 -.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)487.371
768.96 Q/F8 9/Helvetica-Bold@0 SF(11-127)4.002 E EP
%%Page: 128 8
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 2: Implement a Minimal)72 57.6 Q(DCM)72
68.4 Q/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 9/Courier@0 SF
(void)221.5 107 Q(ddr_sampledev_dcm_inquire_resolution \(xres, yres\))221.5 118
Q(DtReal)221.5 129 Q/F3 9/Symbol SF(*)5.4 E F2(xres;)A(DtReal)221.5 140 Q F3(*)
5.4 E F2(yres;)A({)221.5 151 Q F3(*)243.1 162 Q F2(xres = .25;)A F3(*)243.1 173
Q F2(yres = .25;)A(})221.5 184 Q/F4 11/Helvetica-BoldOblique@0 SF
(dcm.inquire_visual_type)221.5 239.8 Q/F5 11/Palatino-Roman@0 SF 1.653
(The visual type of the device driver is set in)221.5 265 R/F6 11
/Palatino-Italic@0 SF(dcm.initialize_device)4.403 E F5(and is r)221.5 278.2 Q
(eturned by)-.198 E F6(dcm.inquir)2.75 E(e_visual_type)-.198 E F5(.)A F2(void)
221.5 301.2 Q(ddr_sampledev_dcm_inquire_visual_type \(visualtype\))221.5 312.2
Q(DtVisualType)221.5 323.2 Q F3(*)5.4 E F2(visualtype;)A({)221.5 334.2 Q F3(*)
243.1 345.2 Q F2(visualtype =)A(dde_sampledev_current_device_data->visualtype;)
264.7 356.2 Q(})221.5 367.2 Q F4 -2.948(dcm.inquire_auto_siz e)221.5 423 R F5
9.141(The auto sizing \215ag of the device driver is set in)221.5 448.2 R F6
(dcm.initialize_device)221.5 461.4 Q F5(and r)2.75 E(eturned by)-.198 E F6
(dcm.inquir)2.75 E(e_auto_size)-.198 E F5(.)A F2(void)221.5 484.4 Q
(ddr_sampledev_dcm_inquire_auto_size \(flag\))221.5 495.4 Q(DtFlag)221.5 506.4
Q F3(*)5.4 E F2(flag;)A({)221.5 517.4 Q F3(*)243.1 528.4 Q F2
(flag = dde_sampledev_current_device_data->auto_size;)A(})221.5 539.4 Q F4
(dcm.inquire_c)221.5 582 Q(lip_list)-.22 E F5 1(The clip list is the list of r)
221.5 607.2 R 1.001(ectangles that ar)-.198 F 3.751(ev)-.198 G 1.001
(isible on the device.)446.654 607.2 R 1.024(On some devices, like an X1)221.5
620.4 R 3.774(1w)-.605 G(indow)380.412 620.4 Q 3.773(,p)-1.012 G 1.023
(art of the device may be)424.038 620.4 R(obscur)221.5 633.6 Q 3.216(ed. The)
-.198 F F6(dcm.inquir)3.216 E(e_clip_list)-.198 E F5 -.198(ro)3.216 G .466
(utine r).198 F .466(eturns the visible r)-.198 F(ect-)-.198 E 3.031
(angles. For)221.5 646.8 R .28
(the sample device, it is not possible for a portion to be)3.031 F(obscur)221.5
660 Q(ed. So, it just r)-.198 E(eturns the whole device extent.)-.198 E 1.44 LW
90 756 72 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756
135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756
221.4 756 DL 257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756
DL 311.4 756 293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4
756 347.4 756 DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4
756 DL 437.4 756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL
491.4 756 473.4 756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756
527.4 756 DL/F7 9/Helvetica-Bold@0 SF(11-128)72 768.96 Q/F8 9/Helvetica@0 SF
(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T
(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q
(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 129 9
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 2: Implement a Minimal)401.92 57.6 Q(DCM)
513.63 68.4 Q/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(void)63 107 Q
(ddr_sampledev_dcm_inquire_clip_list \(nrects, clip_list,)63 118 Q
(extent, partiallyobscuredflag\))208.8 129 Q(DtUInt)63 140 Q/F3 9/Symbol SF(*)
5.4 E F2(nrects;)A(DtReal)63 151 Q F3(**)5.4 E F2(clip_list;)A
(DtReal extent[4];)63 162 Q(DtFlag)63 173 Q F3(*)5.4 E F2
(partiallyobscuredflag;)A({)63 184 Q(extent[0] = 0;)84.6 195 Q(extent[1] = 0;)
84.6 206 Q(extent[2] = dde_sampledev_current_device_data->width;)84.6 217 Q
(extent[3] = dde_sampledev_current_device_data->height;)84.6 228 Q F3(*)84.6
250 Q F2(nrects = 1;)A F3(*)84.6 261 Q F2(clip_list = extent;)A F3(*)84.6 272 Q
F2(partiallyobscuredflag = DcFalse;)A(})63 283 Q .16 LW 65 309 63 309 DL 67 309
65 309 DL 69 309 67 309 DL 71 309 69 309 DL 73 309 71 309 DL 75 309 73 309 DL
77 309 75 309 DL 79 309 77 309 DL 81 309 79 309 DL 83 309 81 309 DL 85 309 83
309 DL 87 309 85 309 DL 89 309 87 309 DL 91 309 89 309 DL 93 309 91 309 DL 95
309 93 309 DL 97 309 95 309 DL 99 309 97 309 DL 101 309 99 309 DL 103 309 101
309 DL 105 309 103 309 DL 107 309 105 309 DL 109 309 107 309 DL 111 309 109 309
DL 113 309 111 309 DL 115 309 113 309 DL 117 309 115 309 DL 119 309 117 309 DL
121 309 119 309 DL 123 309 121 309 DL 125 309 123 309 DL 127 309 125 309 DL 129
309 127 309 DL 131 309 129 309 DL 133 309 131 309 DL 135 309 133 309 DL 137 309
135 309 DL 139 309 137 309 DL 141 309 139 309 DL 143 309 141 309 DL 145 309 143
309 DL 147 309 145 309 DL 149 309 147 309 DL 151 309 149 309 DL 153 309 151 309
DL 155 309 153 309 DL 157 309 155 309 DL 159 309 157 309 DL 161 309 159 309 DL
163 309 161 309 DL 165 309 163 309 DL 167 309 165 309 DL 169 309 167 309 DL 171
309 169 309 DL 173 309 171 309 DL 175 309 173 309 DL 177 309 175 309 DL 179 309
177 309 DL 181 309 179 309 DL 183 309 181 309 DL 185 309 183 309 DL 187 309 185
309 DL 189 309 187 309 DL 191 309 189 309 DL 193 309 191 309 DL 195 309 193 309
DL 197 309 195 309 DL 199 309 197 309 DL 201 309 199 309 DL 203 309 201 309 DL
205 309 203 309 DL 207 309 205 309 DL 209 309 207 309 DL 211 309 209 309 DL 213
309 211 309 DL 215 309 213 309 DL 217 309 215 309 DL 219 309 217 309 DL 221 309
219 309 DL 223 309 221 309 DL 225 309 223 309 DL 227 309 225 309 DL 229 309 227
309 DL 231 309 229 309 DL 233 309 231 309 DL 235 309 233 309 DL 237 309 235 309
DL 239 309 237 309 DL 241 309 239 309 DL 243 309 241 309 DL 245 309 243 309 DL
247 309 245 309 DL 249 309 247 309 DL 251 309 249 309 DL 253 309 251 309 DL 255
309 253 309 DL 257 309 255 309 DL 259 309 257 309 DL 261 309 259 309 DL 263 309
261 309 DL 265 309 263 309 DL 267 309 265 309 DL 269 309 267 309 DL 271 309 269
309 DL 273 309 271 309 DL 275 309 273 309 DL 277 309 275 309 DL 279 309 277 309
DL 281 309 279 309 DL 283 309 281 309 DL 285 309 283 309 DL 287 309 285 309 DL
289 309 287 309 DL 291 309 289 309 DL 293 309 291 309 DL 295 309 293 309 DL 297
309 295 309 DL 299 309 297 309 DL 301 309 299 309 DL 303 309 301 309 DL 305 309
303 309 DL 307 309 305 309 DL 309 309 307 309 DL 311 309 309 309 DL 313 309 311
309 DL 315 309 313 309 DL 317 309 315 309 DL 319 309 317 309 DL 321 309 319 309
DL 323 309 321 309 DL 325 309 323 309 DL 327 309 325 309 DL 329 309 327 309 DL
331 309 329 309 DL 333 309 331 309 DL 335 309 333 309 DL 337 309 335 309 DL 339
309 337 309 DL 341 309 339 309 DL 343 309 341 309 DL 345 309 343 309 DL 347 309
345 309 DL 349 309 347 309 DL 351 309 349 309 DL 353 309 351 309 DL 355 309 353
309 DL 357 309 355 309 DL 359 309 357 309 DL 361 309 359 309 DL 363 309 361 309
DL 365 309 363 309 DL 367 309 365 309 DL 369 309 367 309 DL 371 309 369 309 DL
373 309 371 309 DL 375 309 373 309 DL 377 309 375 309 DL 379 309 377 309 DL 381
309 379 309 DL 383 309 381 309 DL 385 309 383 309 DL 387 309 385 309 DL 1.44 LW
419.4 309.5 401.4 309.5 DL 428.4 309.5 410.4 309.5 DL 446.4 309.5 428.4 309.5
DL 464.4 309.5 446.4 309.5 DL 482.4 309.5 464.4 309.5 DL 500.4 309.5 482.4
309.5 DL 518.4 309.5 500.4 309.5 DL 536.4 309.5 518.4 309.5 DL/F4 12
/Helvetica-Oblique@0 SF(Output)500.376 323.5 Q(Routines)489.048 337.5 Q/F5 11
/Palatino-Roman@0 SF 1.941
(Only one output function is necessary for a minimal DCM that)63 337.6 R .268
(supports pr)63 350.8 R .268(oduction r)-.198 F(ender)-.198 E .267(er output:)
-.198 F/F6 11/Palatino-Italic@0 SF(dcm.write_scanline_byte)3.017 E F5 5.767(.T)
C(he)375.329 350.8 Q 1.167(output r)63 364 R 1.168
(outines of a DCM depend totally on how you access the)-.198 F .29
(physical device.)63 377.2 R .289
(The sample device driver just has a null body for)5.79 F(the)63 390.4 Q F6
(dcm.write_scanline_byte)4.844 E F5 -.198(ro)4.845 G 4.845(utine. For).198 F
4.845(ar)4.845 G 2.095(eal device driver)279.647 390.4 R 4.845(,t)-.814 G(he)
375.329 390.4 Q -.198(ro)63 403.6 S .425
(utine takes a set of RGB pixel values and a starting location and).198 F
(draws the pixels on the device.)63 416.8 Q .16 LW 65 442.8 63 442.8 DL 67
442.8 65 442.8 DL 69 442.8 67 442.8 DL 71 442.8 69 442.8 DL 73 442.8 71 442.8
DL 75 442.8 73 442.8 DL 77 442.8 75 442.8 DL 79 442.8 77 442.8 DL 81 442.8 79
442.8 DL 83 442.8 81 442.8 DL 85 442.8 83 442.8 DL 87 442.8 85 442.8 DL 89
442.8 87 442.8 DL 91 442.8 89 442.8 DL 93 442.8 91 442.8 DL 95 442.8 93 442.8
DL 97 442.8 95 442.8 DL 99 442.8 97 442.8 DL 101 442.8 99 442.8 DL 103 442.8
101 442.8 DL 105 442.8 103 442.8 DL 107 442.8 105 442.8 DL 109 442.8 107 442.8
DL 111 442.8 109 442.8 DL 113 442.8 111 442.8 DL 115 442.8 113 442.8 DL 117
442.8 115 442.8 DL 119 442.8 117 442.8 DL 121 442.8 119 442.8 DL 123 442.8 121
442.8 DL 125 442.8 123 442.8 DL 127 442.8 125 442.8 DL 129 442.8 127 442.8 DL
131 442.8 129 442.8 DL 133 442.8 131 442.8 DL 135 442.8 133 442.8 DL 137 442.8
135 442.8 DL 139 442.8 137 442.8 DL 141 442.8 139 442.8 DL 143 442.8 141 442.8
DL 145 442.8 143 442.8 DL 147 442.8 145 442.8 DL 149 442.8 147 442.8 DL 151
442.8 149 442.8 DL 153 442.8 151 442.8 DL 155 442.8 153 442.8 DL 157 442.8 155
442.8 DL 159 442.8 157 442.8 DL 161 442.8 159 442.8 DL 163 442.8 161 442.8 DL
165 442.8 163 442.8 DL 167 442.8 165 442.8 DL 169 442.8 167 442.8 DL 171 442.8
169 442.8 DL 173 442.8 171 442.8 DL 175 442.8 173 442.8 DL 177 442.8 175 442.8
DL 179 442.8 177 442.8 DL 181 442.8 179 442.8 DL 183 442.8 181 442.8 DL 185
442.8 183 442.8 DL 187 442.8 185 442.8 DL 189 442.8 187 442.8 DL 191 442.8 189
442.8 DL 193 442.8 191 442.8 DL 195 442.8 193 442.8 DL 197 442.8 195 442.8 DL
199 442.8 197 442.8 DL 201 442.8 199 442.8 DL 203 442.8 201 442.8 DL 205 442.8
203 442.8 DL 207 442.8 205 442.8 DL 209 442.8 207 442.8 DL 211 442.8 209 442.8
DL 213 442.8 211 442.8 DL 215 442.8 213 442.8 DL 217 442.8 215 442.8 DL 219
442.8 217 442.8 DL 221 442.8 219 442.8 DL 223 442.8 221 442.8 DL 225 442.8 223
442.8 DL 227 442.8 225 442.8 DL 229 442.8 227 442.8 DL 231 442.8 229 442.8 DL
233 442.8 231 442.8 DL 235 442.8 233 442.8 DL 237 442.8 235 442.8 DL 239 442.8
237 442.8 DL 241 442.8 239 442.8 DL 243 442.8 241 442.8 DL 245 442.8 243 442.8
DL 247 442.8 245 442.8 DL 249 442.8 247 442.8 DL 251 442.8 249 442.8 DL 253
442.8 251 442.8 DL 255 442.8 253 442.8 DL 257 442.8 255 442.8 DL 259 442.8 257
442.8 DL 261 442.8 259 442.8 DL 263 442.8 261 442.8 DL 265 442.8 263 442.8 DL
267 442.8 265 442.8 DL 269 442.8 267 442.8 DL 271 442.8 269 442.8 DL 273 442.8
271 442.8 DL 275 442.8 273 442.8 DL 277 442.8 275 442.8 DL 279 442.8 277 442.8
DL 281 442.8 279 442.8 DL 283 442.8 281 442.8 DL 285 442.8 283 442.8 DL 287
442.8 285 442.8 DL 289 442.8 287 442.8 DL 291 442.8 289 442.8 DL 293 442.8 291
442.8 DL 295 442.8 293 442.8 DL 297 442.8 295 442.8 DL 299 442.8 297 442.8 DL
301 442.8 299 442.8 DL 303 442.8 301 442.8 DL 305 442.8 303 442.8 DL 307 442.8
305 442.8 DL 309 442.8 307 442.8 DL 311 442.8 309 442.8 DL 313 442.8 311 442.8
DL 315 442.8 313 442.8 DL 317 442.8 315 442.8 DL 319 442.8 317 442.8 DL 321
442.8 319 442.8 DL 323 442.8 321 442.8 DL 325 442.8 323 442.8 DL 327 442.8 325
442.8 DL 329 442.8 327 442.8 DL 331 442.8 329 442.8 DL 333 442.8 331 442.8 DL
335 442.8 333 442.8 DL 337 442.8 335 442.8 DL 339 442.8 337 442.8 DL 341 442.8
339 442.8 DL 343 442.8 341 442.8 DL 345 442.8 343 442.8 DL 347 442.8 345 442.8
DL 349 442.8 347 442.8 DL 351 442.8 349 442.8 DL 353 442.8 351 442.8 DL 355
442.8 353 442.8 DL 357 442.8 355 442.8 DL 359 442.8 357 442.8 DL 361 442.8 359
442.8 DL 363 442.8 361 442.8 DL 365 442.8 363 442.8 DL 367 442.8 365 442.8 DL
369 442.8 367 442.8 DL 371 442.8 369 442.8 DL 373 442.8 371 442.8 DL 375 442.8
373 442.8 DL 377 442.8 375 442.8 DL 379 442.8 377 442.8 DL 381 442.8 379 442.8
DL 383 442.8 381 442.8 DL 385 442.8 383 442.8 DL 387 442.8 385 442.8 DL 1.44 LW
419.4 443.3 401.4 443.3 DL 428.4 443.3 410.4 443.3 DL 446.4 443.3 428.4 443.3
DL 464.4 443.3 446.4 443.3 DL 482.4 443.3 464.4 443.3 DL 500.4 443.3 482.4
443.3 DL 518.4 443.3 500.4 443.3 DL 536.4 443.3 518.4 443.3 DL/F7 12
/Helvetica-BoldOblique@0 SF(Step)510.396 457.3 Q(3:)525.732 471.3 Q(Implement)
476.388 485.3 Q(the)518.4 499.3 Q(PR)500.64 513.3 Q(OM)-.24 E F5 16.743
(The PROM module contains only one r)63 471.4 R(outine,)-.198 E F6(pr)63 484.6
Q(om.write_r)-.198 E(ectangle_byte_r)-.198 E(gb)-.198 E F5 6.922(.S)C 1.422
(ince the DCM contains a function)217.487 484.6 R 1.019
(to write a scanline of pixel data, the sample uses that function in)63 497.8 R
(implementing the PROM r)63 511 Q(outine.)-.198 E F2(void)63 534 Q
(ddr_sampledev_prom_write_rectangle_byte_rgb\(xstart, ystart,)63 545 Q
(length, height, pixarr\))149.4 556 Q(DtInt xstart;)63 567 Q(DtInt ystart;)63
578 Q(DtInt length;)63 589 Q(DtInt height;)63 600 Q(DtUChar)63 611 Q F3(*)5.4 E
F2(pixarr;)A({)63 622 Q(DtInt yend;)84.6 633 Q(DtInt scanlineno;)84.6 644 Q
(DtUChar)84.6 655 Q F3(*)5.4 E F2(pixeladdr;)A(pixeladdr = pixarr;)84.6 677 Q
(yend = ystart + height - 1;)84.6 688 Q(for \(scanlineno=ystart;)84.6 710 Q 81
756 63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135
756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756
DL 243 756 225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL
315 756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387
756 369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4
756 DL 464.4 756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL
518.4 756 500.4 756 DL 536.4 756 518.4 756 DL/F8 9/Helvetica@0 SF(Sample De)
300.348 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q
3.506<b444>424.798 768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E
2.502(sG)-.45 G(uide)487.371 768.96 Q/F9 9/Helvetica-Bold@0 SF(11-129)4.002 E
EP
%%Page: 130 10
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 3: Implement the)72 57.6 Q(PR)72 68.4 Q
(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 9/Courier@0 SF
(scanlineno<=yend;)270.1 107 Q(scanlineno++\){)270.1 118 Q
(ddr_sampledev_dcm_write_scanline_byte)264.7 129 Q
(\(xstart,scanlineno,length,pixeladdr\);)307.9 140 Q(pixeladdr += 3)264.7 162 Q
/F3 9/Symbol SF(*)A F2(length;)A(})243.1 173 Q(})221.5 184 Q .16 LW 223.4 210
221.4 210 DL 225.4 210 223.4 210 DL 227.4 210 225.4 210 DL 229.4 210 227.4 210
DL 231.4 210 229.4 210 DL 233.4 210 231.4 210 DL 235.4 210 233.4 210 DL 237.4
210 235.4 210 DL 239.4 210 237.4 210 DL 241.4 210 239.4 210 DL 243.4 210 241.4
210 DL 245.4 210 243.4 210 DL 247.4 210 245.4 210 DL 249.4 210 247.4 210 DL
251.4 210 249.4 210 DL 253.4 210 251.4 210 DL 255.4 210 253.4 210 DL 257.4 210
255.4 210 DL 259.4 210 257.4 210 DL 261.4 210 259.4 210 DL 263.4 210 261.4 210
DL 265.4 210 263.4 210 DL 267.4 210 265.4 210 DL 269.4 210 267.4 210 DL 271.4
210 269.4 210 DL 273.4 210 271.4 210 DL 275.4 210 273.4 210 DL 277.4 210 275.4
210 DL 279.4 210 277.4 210 DL 281.4 210 279.4 210 DL 283.4 210 281.4 210 DL
285.4 210 283.4 210 DL 287.4 210 285.4 210 DL 289.4 210 287.4 210 DL 291.4 210
289.4 210 DL 293.4 210 291.4 210 DL 295.4 210 293.4 210 DL 297.4 210 295.4 210
DL 299.4 210 297.4 210 DL 301.4 210 299.4 210 DL 303.4 210 301.4 210 DL 305.4
210 303.4 210 DL 307.4 210 305.4 210 DL 309.4 210 307.4 210 DL 311.4 210 309.4
210 DL 313.4 210 311.4 210 DL 315.4 210 313.4 210 DL 317.4 210 315.4 210 DL
319.4 210 317.4 210 DL 321.4 210 319.4 210 DL 323.4 210 321.4 210 DL 325.4 210
323.4 210 DL 327.4 210 325.4 210 DL 329.4 210 327.4 210 DL 331.4 210 329.4 210
DL 333.4 210 331.4 210 DL 335.4 210 333.4 210 DL 337.4 210 335.4 210 DL 339.4
210 337.4 210 DL 341.4 210 339.4 210 DL 343.4 210 341.4 210 DL 345.4 210 343.4
210 DL 347.4 210 345.4 210 DL 349.4 210 347.4 210 DL 351.4 210 349.4 210 DL
353.4 210 351.4 210 DL 355.4 210 353.4 210 DL 357.4 210 355.4 210 DL 359.4 210
357.4 210 DL 361.4 210 359.4 210 DL 363.4 210 361.4 210 DL 365.4 210 363.4 210
DL 367.4 210 365.4 210 DL 369.4 210 367.4 210 DL 371.4 210 369.4 210 DL 373.4
210 371.4 210 DL 375.4 210 373.4 210 DL 377.4 210 375.4 210 DL 379.4 210 377.4
210 DL 381.4 210 379.4 210 DL 383.4 210 381.4 210 DL 385.4 210 383.4 210 DL
387.4 210 385.4 210 DL 389.4 210 387.4 210 DL 391.4 210 389.4 210 DL 393.4 210
391.4 210 DL 395.4 210 393.4 210 DL 397.4 210 395.4 210 DL 399.4 210 397.4 210
DL 401.4 210 399.4 210 DL 403.4 210 401.4 210 DL 405.4 210 403.4 210 DL 407.4
210 405.4 210 DL 409.4 210 407.4 210 DL 411.4 210 409.4 210 DL 413.4 210 411.4
210 DL 415.4 210 413.4 210 DL 417.4 210 415.4 210 DL 419.4 210 417.4 210 DL
421.4 210 419.4 210 DL 423.4 210 421.4 210 DL 425.4 210 423.4 210 DL 427.4 210
425.4 210 DL 429.4 210 427.4 210 DL 431.4 210 429.4 210 DL 433.4 210 431.4 210
DL 435.4 210 433.4 210 DL 437.4 210 435.4 210 DL 439.4 210 437.4 210 DL 441.4
210 439.4 210 DL 443.4 210 441.4 210 DL 445.4 210 443.4 210 DL 447.4 210 445.4
210 DL 449.4 210 447.4 210 DL 451.4 210 449.4 210 DL 453.4 210 451.4 210 DL
455.4 210 453.4 210 DL 457.4 210 455.4 210 DL 459.4 210 457.4 210 DL 461.4 210
459.4 210 DL 463.4 210 461.4 210 DL 465.4 210 463.4 210 DL 467.4 210 465.4 210
DL 469.4 210 467.4 210 DL 471.4 210 469.4 210 DL 473.4 210 471.4 210 DL 475.4
210 473.4 210 DL 477.4 210 475.4 210 DL 479.4 210 477.4 210 DL 481.4 210 479.4
210 DL 483.4 210 481.4 210 DL 485.4 210 483.4 210 DL 487.4 210 485.4 210 DL
489.4 210 487.4 210 DL 491.4 210 489.4 210 DL 493.4 210 491.4 210 DL 495.4 210
493.4 210 DL 497.4 210 495.4 210 DL 499.4 210 497.4 210 DL 501.4 210 499.4 210
DL 503.4 210 501.4 210 DL 505.4 210 503.4 210 DL 507.4 210 505.4 210 DL 509.4
210 507.4 210 DL 511.4 210 509.4 210 DL 513.4 210 511.4 210 DL 515.4 210 513.4
210 DL 517.4 210 515.4 210 DL 519.4 210 517.4 210 DL 521.4 210 519.4 210 DL
523.4 210 521.4 210 DL 525.4 210 523.4 210 DL 527.4 210 525.4 210 DL 529.4 210
527.4 210 DL 531.4 210 529.4 210 DL 533.4 210 531.4 210 DL 535.4 210 533.4 210
DL 537.4 210 535.4 210 DL 539.4 210 537.4 210 DL 541.4 210 539.4 210 DL 543.4
210 541.4 210 DL 545.4 210 543.4 210 DL 1.44 LW 90 210.5 72 210.5 DL 99 210.5
81 210.5 DL 117 210.5 99 210.5 DL 135 210.5 117 210.5 DL 153 210.5 135 210.5 DL
171 210.5 153 210.5 DL 189 210.5 171 210.5 DL 207 210.5 189 210.5 DL/F4 12
/Helvetica-BoldOblique@0 SF(Step 5: Complete the)72 224.5 Q(DCM)72 238.5 Q/F5
11/Palatino-Roman@0 SF .661(The simple device driver described her)221.5 238.6
R 3.411(eo)-.198 G .661(nly includes implemen-)428.942 238.6 R .946
(tations of the r)221.5 251.8 R .945
(outines of the minimal DCM described above.)-.198 F(All)6.445 E(other DCM r)
221.5 265 Q(outines in the sample driver ar)-.198 E 2.75(en)-.198 G(ull r)
446.967 265 Q(outines.)-.198 E .16 LW 223.4 291 221.4 291 DL 225.4 291 223.4
291 DL 227.4 291 225.4 291 DL 229.4 291 227.4 291 DL 231.4 291 229.4 291 DL
233.4 291 231.4 291 DL 235.4 291 233.4 291 DL 237.4 291 235.4 291 DL 239.4 291
237.4 291 DL 241.4 291 239.4 291 DL 243.4 291 241.4 291 DL 245.4 291 243.4 291
DL 247.4 291 245.4 291 DL 249.4 291 247.4 291 DL 251.4 291 249.4 291 DL 253.4
291 251.4 291 DL 255.4 291 253.4 291 DL 257.4 291 255.4 291 DL 259.4 291 257.4
291 DL 261.4 291 259.4 291 DL 263.4 291 261.4 291 DL 265.4 291 263.4 291 DL
267.4 291 265.4 291 DL 269.4 291 267.4 291 DL 271.4 291 269.4 291 DL 273.4 291
271.4 291 DL 275.4 291 273.4 291 DL 277.4 291 275.4 291 DL 279.4 291 277.4 291
DL 281.4 291 279.4 291 DL 283.4 291 281.4 291 DL 285.4 291 283.4 291 DL 287.4
291 285.4 291 DL 289.4 291 287.4 291 DL 291.4 291 289.4 291 DL 293.4 291 291.4
291 DL 295.4 291 293.4 291 DL 297.4 291 295.4 291 DL 299.4 291 297.4 291 DL
301.4 291 299.4 291 DL 303.4 291 301.4 291 DL 305.4 291 303.4 291 DL 307.4 291
305.4 291 DL 309.4 291 307.4 291 DL 311.4 291 309.4 291 DL 313.4 291 311.4 291
DL 315.4 291 313.4 291 DL 317.4 291 315.4 291 DL 319.4 291 317.4 291 DL 321.4
291 319.4 291 DL 323.4 291 321.4 291 DL 325.4 291 323.4 291 DL 327.4 291 325.4
291 DL 329.4 291 327.4 291 DL 331.4 291 329.4 291 DL 333.4 291 331.4 291 DL
335.4 291 333.4 291 DL 337.4 291 335.4 291 DL 339.4 291 337.4 291 DL 341.4 291
339.4 291 DL 343.4 291 341.4 291 DL 345.4 291 343.4 291 DL 347.4 291 345.4 291
DL 349.4 291 347.4 291 DL 351.4 291 349.4 291 DL 353.4 291 351.4 291 DL 355.4
291 353.4 291 DL 357.4 291 355.4 291 DL 359.4 291 357.4 291 DL 361.4 291 359.4
291 DL 363.4 291 361.4 291 DL 365.4 291 363.4 291 DL 367.4 291 365.4 291 DL
369.4 291 367.4 291 DL 371.4 291 369.4 291 DL 373.4 291 371.4 291 DL 375.4 291
373.4 291 DL 377.4 291 375.4 291 DL 379.4 291 377.4 291 DL 381.4 291 379.4 291
DL 383.4 291 381.4 291 DL 385.4 291 383.4 291 DL 387.4 291 385.4 291 DL 389.4
291 387.4 291 DL 391.4 291 389.4 291 DL 393.4 291 391.4 291 DL 395.4 291 393.4
291 DL 397.4 291 395.4 291 DL 399.4 291 397.4 291 DL 401.4 291 399.4 291 DL
403.4 291 401.4 291 DL 405.4 291 403.4 291 DL 407.4 291 405.4 291 DL 409.4 291
407.4 291 DL 411.4 291 409.4 291 DL 413.4 291 411.4 291 DL 415.4 291 413.4 291
DL 417.4 291 415.4 291 DL 419.4 291 417.4 291 DL 421.4 291 419.4 291 DL 423.4
291 421.4 291 DL 425.4 291 423.4 291 DL 427.4 291 425.4 291 DL 429.4 291 427.4
291 DL 431.4 291 429.4 291 DL 433.4 291 431.4 291 DL 435.4 291 433.4 291 DL
437.4 291 435.4 291 DL 439.4 291 437.4 291 DL 441.4 291 439.4 291 DL 443.4 291
441.4 291 DL 445.4 291 443.4 291 DL 447.4 291 445.4 291 DL 449.4 291 447.4 291
DL 451.4 291 449.4 291 DL 453.4 291 451.4 291 DL 455.4 291 453.4 291 DL 457.4
291 455.4 291 DL 459.4 291 457.4 291 DL 461.4 291 459.4 291 DL 463.4 291 461.4
291 DL 465.4 291 463.4 291 DL 467.4 291 465.4 291 DL 469.4 291 467.4 291 DL
471.4 291 469.4 291 DL 473.4 291 471.4 291 DL 475.4 291 473.4 291 DL 477.4 291
475.4 291 DL 479.4 291 477.4 291 DL 481.4 291 479.4 291 DL 483.4 291 481.4 291
DL 485.4 291 483.4 291 DL 487.4 291 485.4 291 DL 489.4 291 487.4 291 DL 491.4
291 489.4 291 DL 493.4 291 491.4 291 DL 495.4 291 493.4 291 DL 497.4 291 495.4
291 DL 499.4 291 497.4 291 DL 501.4 291 499.4 291 DL 503.4 291 501.4 291 DL
505.4 291 503.4 291 DL 507.4 291 505.4 291 DL 509.4 291 507.4 291 DL 511.4 291
509.4 291 DL 513.4 291 511.4 291 DL 515.4 291 513.4 291 DL 517.4 291 515.4 291
DL 519.4 291 517.4 291 DL 521.4 291 519.4 291 DL 523.4 291 521.4 291 DL 525.4
291 523.4 291 DL 527.4 291 525.4 291 DL 529.4 291 527.4 291 DL 531.4 291 529.4
291 DL 533.4 291 531.4 291 DL 535.4 291 533.4 291 DL 537.4 291 535.4 291 DL
539.4 291 537.4 291 DL 541.4 291 539.4 291 DL 543.4 291 541.4 291 DL 545.4 291
543.4 291 DL 1.44 LW 90 291.5 72 291.5 DL 99 291.5 81 291.5 DL 117 291.5 99
291.5 DL 135 291.5 117 291.5 DL 153 291.5 135 291.5 DL 171 291.5 153 291.5 DL
189 291.5 171 291.5 DL 207 291.5 189 291.5 DL F4(Step 6: Implement a)72 305.5 Q
(Minimal DR)72 319.5 Q(OM)-.24 E F5 2.204
(This section describes the part of the sample dynamic r)221.5 319.6 R(ender)
-.198 E(er)-.198 E .925(output module that is r)221.5 332.8 R(equir)-.198 E
.924(ed to transform and draw the primi-)-.198 F 1.703
(tive objects without light sour)221.5 346 R 1.703(ce shading.)-.198 F 1.704
(The DROM is a lar)7.203 F(ge)-.198 E 1.334(module, and as a r)221.5 359.2 R
1.334(esult may seem quite intimidating.)-.198 F 1.333(The func-)6.833 F .47
(tions of this module can be br)221.5 372.4 R .47(oken into smaller)-.198 F
3.221(,m)-.814 G(or)468.304 372.4 Q 3.221(em)-.198 G(anageable)496.66 372.4 Q
1.746(functional gr)221.5 385.6 R 4.496(oups. For)-.198 F 1.746
(this discussion of a minimal DROM, the)4.496 F(following gr)221.5 398.8 Q
(oups ar)-.198 E 2.75(eu)-.198 G(sed:)332.446 398.8 Q 18.334<8367>221.5 418 S
(eometric transformations)252.616 418 Q 18.334<8374>221.5 437.2 S
(he camera and its attributes)250.086 437.2 Q 18.334<8367>221.5 456.4 S
(eometry r)252.616 456.4 Q(endering)-.198 E 18.334<8363>221.5 475.6 S(ontr)
251.384 475.6 Q(ol r)-.198 E(outines)-.198 E .16 LW 223.4 501.6 221.4 501.6 DL
225.4 501.6 223.4 501.6 DL 227.4 501.6 225.4 501.6 DL 229.4 501.6 227.4 501.6
DL 231.4 501.6 229.4 501.6 DL 233.4 501.6 231.4 501.6 DL 235.4 501.6 233.4
501.6 DL 237.4 501.6 235.4 501.6 DL 239.4 501.6 237.4 501.6 DL 241.4 501.6
239.4 501.6 DL 243.4 501.6 241.4 501.6 DL 245.4 501.6 243.4 501.6 DL 247.4
501.6 245.4 501.6 DL 249.4 501.6 247.4 501.6 DL 251.4 501.6 249.4 501.6 DL
253.4 501.6 251.4 501.6 DL 255.4 501.6 253.4 501.6 DL 257.4 501.6 255.4 501.6
DL 259.4 501.6 257.4 501.6 DL 261.4 501.6 259.4 501.6 DL 263.4 501.6 261.4
501.6 DL 265.4 501.6 263.4 501.6 DL 267.4 501.6 265.4 501.6 DL 269.4 501.6
267.4 501.6 DL 271.4 501.6 269.4 501.6 DL 273.4 501.6 271.4 501.6 DL 275.4
501.6 273.4 501.6 DL 277.4 501.6 275.4 501.6 DL 279.4 501.6 277.4 501.6 DL
281.4 501.6 279.4 501.6 DL 283.4 501.6 281.4 501.6 DL 285.4 501.6 283.4 501.6
DL 287.4 501.6 285.4 501.6 DL 289.4 501.6 287.4 501.6 DL 291.4 501.6 289.4
501.6 DL 293.4 501.6 291.4 501.6 DL 295.4 501.6 293.4 501.6 DL 297.4 501.6
295.4 501.6 DL 299.4 501.6 297.4 501.6 DL 301.4 501.6 299.4 501.6 DL 303.4
501.6 301.4 501.6 DL 305.4 501.6 303.4 501.6 DL 307.4 501.6 305.4 501.6 DL
309.4 501.6 307.4 501.6 DL 311.4 501.6 309.4 501.6 DL 313.4 501.6 311.4 501.6
DL 315.4 501.6 313.4 501.6 DL 317.4 501.6 315.4 501.6 DL 319.4 501.6 317.4
501.6 DL 321.4 501.6 319.4 501.6 DL 323.4 501.6 321.4 501.6 DL 325.4 501.6
323.4 501.6 DL 327.4 501.6 325.4 501.6 DL 329.4 501.6 327.4 501.6 DL 331.4
501.6 329.4 501.6 DL 333.4 501.6 331.4 501.6 DL 335.4 501.6 333.4 501.6 DL
337.4 501.6 335.4 501.6 DL 339.4 501.6 337.4 501.6 DL 341.4 501.6 339.4 501.6
DL 343.4 501.6 341.4 501.6 DL 345.4 501.6 343.4 501.6 DL 347.4 501.6 345.4
501.6 DL 349.4 501.6 347.4 501.6 DL 351.4 501.6 349.4 501.6 DL 353.4 501.6
351.4 501.6 DL 355.4 501.6 353.4 501.6 DL 357.4 501.6 355.4 501.6 DL 359.4
501.6 357.4 501.6 DL 361.4 501.6 359.4 501.6 DL 363.4 501.6 361.4 501.6 DL
365.4 501.6 363.4 501.6 DL 367.4 501.6 365.4 501.6 DL 369.4 501.6 367.4 501.6
DL 371.4 501.6 369.4 501.6 DL 373.4 501.6 371.4 501.6 DL 375.4 501.6 373.4
501.6 DL 377.4 501.6 375.4 501.6 DL 379.4 501.6 377.4 501.6 DL 381.4 501.6
379.4 501.6 DL 383.4 501.6 381.4 501.6 DL 385.4 501.6 383.4 501.6 DL 387.4
501.6 385.4 501.6 DL 389.4 501.6 387.4 501.6 DL 391.4 501.6 389.4 501.6 DL
393.4 501.6 391.4 501.6 DL 395.4 501.6 393.4 501.6 DL 397.4 501.6 395.4 501.6
DL 399.4 501.6 397.4 501.6 DL 401.4 501.6 399.4 501.6 DL 403.4 501.6 401.4
501.6 DL 405.4 501.6 403.4 501.6 DL 407.4 501.6 405.4 501.6 DL 409.4 501.6
407.4 501.6 DL 411.4 501.6 409.4 501.6 DL 413.4 501.6 411.4 501.6 DL 415.4
501.6 413.4 501.6 DL 417.4 501.6 415.4 501.6 DL 419.4 501.6 417.4 501.6 DL
421.4 501.6 419.4 501.6 DL 423.4 501.6 421.4 501.6 DL 425.4 501.6 423.4 501.6
DL 427.4 501.6 425.4 501.6 DL 429.4 501.6 427.4 501.6 DL 431.4 501.6 429.4
501.6 DL 433.4 501.6 431.4 501.6 DL 435.4 501.6 433.4 501.6 DL 437.4 501.6
435.4 501.6 DL 439.4 501.6 437.4 501.6 DL 441.4 501.6 439.4 501.6 DL 443.4
501.6 441.4 501.6 DL 445.4 501.6 443.4 501.6 DL 447.4 501.6 445.4 501.6 DL
449.4 501.6 447.4 501.6 DL 451.4 501.6 449.4 501.6 DL 453.4 501.6 451.4 501.6
DL 455.4 501.6 453.4 501.6 DL 457.4 501.6 455.4 501.6 DL 459.4 501.6 457.4
501.6 DL 461.4 501.6 459.4 501.6 DL 463.4 501.6 461.4 501.6 DL 465.4 501.6
463.4 501.6 DL 467.4 501.6 465.4 501.6 DL 469.4 501.6 467.4 501.6 DL 471.4
501.6 469.4 501.6 DL 473.4 501.6 471.4 501.6 DL 475.4 501.6 473.4 501.6 DL
477.4 501.6 475.4 501.6 DL 479.4 501.6 477.4 501.6 DL 481.4 501.6 479.4 501.6
DL 483.4 501.6 481.4 501.6 DL 485.4 501.6 483.4 501.6 DL 487.4 501.6 485.4
501.6 DL 489.4 501.6 487.4 501.6 DL 491.4 501.6 489.4 501.6 DL 493.4 501.6
491.4 501.6 DL 495.4 501.6 493.4 501.6 DL 497.4 501.6 495.4 501.6 DL 499.4
501.6 497.4 501.6 DL 501.4 501.6 499.4 501.6 DL 503.4 501.6 501.4 501.6 DL
505.4 501.6 503.4 501.6 DL 507.4 501.6 505.4 501.6 DL 509.4 501.6 507.4 501.6
DL 511.4 501.6 509.4 501.6 DL 513.4 501.6 511.4 501.6 DL 515.4 501.6 513.4
501.6 DL 517.4 501.6 515.4 501.6 DL 519.4 501.6 517.4 501.6 DL 521.4 501.6
519.4 501.6 DL 523.4 501.6 521.4 501.6 DL 525.4 501.6 523.4 501.6 DL 527.4
501.6 525.4 501.6 DL 529.4 501.6 527.4 501.6 DL 531.4 501.6 529.4 501.6 DL
533.4 501.6 531.4 501.6 DL 535.4 501.6 533.4 501.6 DL 537.4 501.6 535.4 501.6
DL 539.4 501.6 537.4 501.6 DL 541.4 501.6 539.4 501.6 DL 543.4 501.6 541.4
501.6 DL 545.4 501.6 543.4 501.6 DL 1.44 LW 90 502.1 72 502.1 DL 99 502.1 81
502.1 DL 117 502.1 99 502.1 DL 135 502.1 117 502.1 DL 153 502.1 135 502.1 DL
171 502.1 153 502.1 DL 189 502.1 171 502.1 DL 207 502.1 189 502.1 DL/F6 12
/Helvetica-Oblique@0 SF(Data Str)72 516.1 Q(uctures).18 E F5(Thr)221.5 530.2 Q
.338(oughout the discussion of the DROM in this and the following)-.198 F .836
(paragraphs we build up the data str)221.5 543.4 R(uctur)-.088 E .837
(es that ar)-.198 F 3.587(eu)-.198 G .837(sed to stor)488.408 543.4 R(e)-.198 E
2.644(all the necessary information.)221.5 556.6 R 2.643
(The DROM maintains its global)8.144 F(state in)221.5 569.8 Q/F7 11
/Palatino-Italic@0 SF(dde_sampledev_dr)2.75 E(om_data)-.198 E F5 2.75(,w)C
(hich is de\214ned as:)393.452 569.8 Q F2(typedef struct {)221.5 592.8 Q 59.4
(DtObject device;)243.1 603.8 R 59.4(DtObject view;)243.1 614.8 R(/)243.1 636.8
Q F3(*)A F2(matrices and stack)5.4 E F3(*)5.4 E F2(/)A 43.2
(DtMatrix4x4 lcstowcsmat;)243.1 658.8 R 43.2(DtMatrix4x4 lcstofcsmat;)243.1
669.8 R 43.2(DtMatrix4x4 nrmlcstowcsmat;)243.1 680.8 R 75.6
(DtInt max_matrices;)243.1 702.8 R 90 756 72 756 DL 99 756 81 756 DL 117 756 99
756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756
DL 207 756 189 756 DL 239.4 756 221.4 756 DL 257.4 756 239.4 756 DL 275.4 756
257.4 756 DL 293.4 756 275.4 756 DL 311.4 756 293.4 756 DL 329.4 756 311.4 756
DL 347.4 756 329.4 756 DL 365.4 756 347.4 756 DL 383.4 756 365.4 756 DL 401.4
756 383.4 756 DL 419.4 756 401.4 756 DL 437.4 756 419.4 756 DL 455.4 756 437.4
756 DL 473.4 756 455.4 756 DL 491.4 756 473.4 756 DL 509.4 756 491.4 756 DL
527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F8 9/Helvetica-Bold@0 SF(11-130)
72 768.96 Q/F9 9/Helvetica@0 SF(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187
-.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q
(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 131 11
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)401.92 57.6 Q(DR)506.05
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF 75.6(DtInt num_matrices;)84.6 107 R(ddt_sampledev_drom_matrix)
84.6 118 Q/F3 9/Symbol SF(*)5.4 E F2(matrix_stack;)A(/)84.6 140 Q F3(*)A F2
(camera attributes)5.4 E F3(*)5.4 E F2(/)A 70.2(DtReal stereo_eyeseparation;)
84.6 162 R 70.2(DtReal stereo_distance;)84.6 173 R 59.4
(DtSwitch stereo_switch;)84.6 184 R 5.4(DtCameraMatrixType camera_type;)84.6
195 R 43.2(DtMatrix4x4 projmat;)84.6 206 R(/)84.6 228 Q F3(*)A F2
(light attributes)5.4 E F3(*)5.4 E F2(/)A 59.4(DtObject light_type;)84.6 250 R
48.6(DtColorRGB light_color;)84.6 261 R 70.2(DtReal light_intensity;)84.6 272 R
70.2(DtReal light_spread_angle_total;)84.6 283 R 70.2
(DtReal light_spread_angle_delta;)84.6 294 R 70.2
(DtReal light_spread_exponent;)84.6 305 R 70.2(DtReal light_att_c1;)84.6 316 R
70.2(DtReal light_att_c2;)84.6 327 R(/)84.6 360 Q F3(*)A F2
(appearance attributes)5.4 E F3(*)5.4 E F2(/)A 70.2(DtReal ambint;)84.6 382 R
59.4(DtSwitch ambswi;)84.6 393 R 59.4(DtSwitch bacfacculble;)84.6 404 R 59.4
(DtSwitch bacfacculswi;)84.6 415 R 70.2(DtReal depcue_zfront;)84.6 426 R 70.2
(DtReal depcue_zback;)84.6 437 R 70.2(DtReal depcue_sfront;)84.6 448 R 70.2
(DtReal depcue_sback;)84.6 459 R 37.8(DtColorModel depcue_colormodel;)84.6 470
R 48.6(DtColorRGB depcue_color;)84.6 481 R 59.4(DtSwitch depcueswi;)84.6 492 R
48.6(DtColorRGB difclr;)84.6 503 R 70.2(DtReal difint;)84.6 514 R 59.4
(DtSwitch difswi;)84.6 525 R 59.4(DtSwitch hidsrfswi;)84.6 536 R 37.8
(DtInterpType inttyp;)84.6 547 R 48.6(DtLineType lintyp;)84.6 558 R 70.2
(DtReal linwid;)84.6 569 R(DtLocalAntiAliasStyle localaasty;)84.6 580 Q 59.4
(DtSwitch localaaswi;)84.6 591 R 59.4(DtSwitch refswi;)84.6 602 R 54
(DtRepType reptyp;)84.6 613 R 59.4(DtSwitch shaswi;)84.6 624 R 75.6
(DtInt shdidx;)84.6 635 R 48.6(DtColorRGB spcclr;)84.6 646 R 70.2
(DtReal spcfct;)84.6 657 R 70.2(DtReal spcint;)84.6 668 R 59.4
(DtSwitch spcswi;)84.6 679 R 48.6(DtColorRGB srfedgclr;)84.6 690 R 59.4
(DtObject srfshd;)84.6 701 R 48.6(DtColorRGB transpclr;)84.6 712 R 1.44 LW 81
756 63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135
756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756
DL 243 756 225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL
315 756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387
756 369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4
756 DL 464.4 756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL
518.4 756 500.4 756 DL 536.4 756 518.4 756 DL/F4 9/Helvetica@0 SF(Sample De)
300.348 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q
3.506<b444>424.798 768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E
2.502(sG)-.45 G(uide)487.371 768.96 Q/F5 9/Helvetica-Bold@0 SF(11-131)4.002 E
EP
%%Page: 132 12
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)72 57.6 Q(DR)72
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF 70.2(DtReal transpint;)243.1 107 R 59.4(DtSwitch transpswi;)243.1
118 R(/)243.1 162 Q/F3 9/Symbol SF(*)A F2(Texture Mapping Attributes)5.4 E F3
(*)5.4 E F2(/)A(ddt_sampledev_drom_texmap mapbmp;)243.1 184 Q
(ddt_sampledev_drom_texmap mapdifclr;)243.1 195 Q
(ddt_sampledev_drom_texmap mapenv;)243.1 206 Q
(ddt_sampledev_drom_texmap maptrnint;)243.1 217 Q 5.4(}d)221.5 239 S
(dt_sampledev_drom_data;)237.7 239 Q/F4 11/Palatino-Roman@0 SF 3.428
(Some of the data types used in this str)221.5 264.2 R(uctur)-.088 E 6.177(eh)
-.198 G 3.427(ave not been)477.145 264.2 R .043(de\214ned yet.)221.5 277.4 R
.044(They will be de\214ned in the paragraphs discussing the)5.543 F
(particular \214elds of the str)221.5 290.6 Q(uctur)-.088 E(e.)-.198 E 2.142
(In addition to this global state, separate state is maintained for)221.5 315.8
R .314(information speci\214c to the curr)221.5 329 R .315(ent device, view)
-.198 F 3.065(,a)-1.012 G .315(nd window)462.667 329 R 5.815(.T)-1.012 G(he)
533.829 329 Q(following variables ar)221.5 342.2 Q 2.75(ep)-.198 G
(ointers to the curr)342.225 342.2 Q(ent data:)-.198 E F2
(ddt_sampledev_drom_device)221.5 365.2 Q F3(*)5.4 E F2
(dde_sampledev_drom_curdevdat;)A(ddt_sampledev_drom_view)221.5 376.2 Q F3(*)
361.9 376.2 Q F2(dde_sampledev_drom_curviwdat;)A(ddt_sampledev_drom_window)
221.5 387.2 Q F3(*)5.4 E F2(dde_sampledev_drom_curwindat;)A F4
(The device state is:)221.5 412.4 Q F2(typedef struct {)221.5 435.4 Q 37.8
(DtVisualType visual_type;)243.1 446.4 R 43.2(DtShadeMode shade_mode;)243.1
457.4 R 70.2(DtReal ctodscale[3];)243.1 468.4 R 70.2(DtReal ctodtrans[3];)243.1
479.4 R 70.2(DtReal ftodscale[3];)243.1 490.4 R 70.2(DtReal ftodtrans[3];)243.1
501.4 R 70.2(DtReal annoscale[3];)243.1 512.4 R 70.2(DtFlag stereoflag;)243.1
523.4 R 5.4(}d)221.5 534.4 S(dt_sampledev_drom_device;)237.7 534.4 Q F4
(The view state is:)221.5 559.6 Q F2(typedef struct {)221.5 582.6 Q 70.2
(DtFlag clear_flag;)243.1 593.6 R 75.6(DtInt shade_index;)243.1 604.6 R 37.8
(DtColorModel background_color_model;)243.1 615.6 R 48.6
(DtColorRGB background_color;)243.1 626.6 R 70.2(DtReal background_just[2];)
243.1 637.6 R(ddt_sampledev_drom_camera camera_data;)243.1 648.6 Q 75.6
(DtInt total_lights;)243.1 659.6 R 75.6(DtInt max_lights;)243.1 670.6 R
(ddt_sampledev_drom_light)243.1 681.6 Q F3(*)5.4 E F2(light;)A 5.4(}d)221.5
692.6 S(dt_sampledev_drom_view;)237.7 692.6 Q 1.44 LW 90 756 72 756 DL 99 756
81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153
756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756 221.4 756 DL 257.4 756
239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756 DL 311.4 756 293.4 756
DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4 756 347.4 756 DL 383.4
756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4 756 DL 437.4 756 419.4
756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL 491.4 756 473.4 756 DL
509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F5 9
/Helvetica-Bold@0 SF(11-132)72 768.96 Q/F6 9/Helvetica@0 SF(Dore)6.504 E 3.506
<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)
-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E
(er)-.225 E EP
%%Page: 133 13
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)401.92 57.6 Q(DR)506.05
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 11
/Palatino-Roman@0 SF(The window state is:)63 109.2 Q/F3 9/Courier@0 SF
(typedef struct {)63 132.2 Q 70.2(DtReal actviewxmin;)84.6 143.2 R 70.2
(DtReal actviewymin;)84.6 154.2 R 70.2(DtReal actviewxmax;)84.6 165.2 R 70.2
(DtReal actviewymax;)84.6 176.2 R 5.4(}d)63 187.2 S(dt_sampledev_drom_window;)
79.2 187.2 Q F2 1.15(The pointers to these str)63 212.4 R(uctur)-.088 E 1.15
(es must be r)-.198 F 1.149(eturned to Dore)-.198 F 4.702<b462>347.28 212.4 S
3.899(yt)361.728 212.4 S(he)375.329 212.4 Q -.198(ro)63 225.6 S 63.753
(utines for).198 F/F4 11/Palatino-Italic@0 SF(dr)249.929 225.6 Q(om.cr)-.198 E
(eate_local_device_data)-.198 E F2(,)A F4(dr)63 238.8 Q(om.cr)-.198 E
(eate_local_view_data)-.198 E F2 2.75(,a)C(nd)202.007 238.8 Q F4(dr)2.75 E
(om.cr)-.198 E(eate_local_window_data)-.198 E F2(:)A F3(DtPtr)63 261.8 Q
(ddr_sampledev_drom_create_local_device_data\(device\))63 272.8 Q
(DtObject device;)63 283.8 Q({)63 294.8 Q(ddt_sampledev_drom_device)84.6 305.8
Q/F5 9/Symbol SF(*)5.4 E F3(devicedata;)A
(devicedata = \(ddt_sampledev_drom_device)84.6 327.8 Q F5(*)5.4 E F3
(\)DDspace_Allocate)A(\(sizeof\(ddt_sampledev_drom_device\)\);)127.8 338.8 Q
(if \(devicedata == \(ddt_sampledev_drom_device)84.6 360.8 Q F5(*)5.4 E F3
(\)0\) {)A(DDerror \(ERR_CANT_ALLOC_MEM,)106.2 371.8 Q
(ddr_sampledev_drom_create_local_device_data",)149.4 382.8 Q(DcNullPtr\);)149.4
393.8 Q(return \(\(DtPtr\) 0\);)106.2 404.8 Q(})84.6 415.8 Q
(dde_sampledev_drom_data.device = device;)84.6 437.8 Q
(dde_sampledev_drom_curdevdat = devicedata;)84.6 448.8 Q
(return \(\(DtPtr\)devicedata\);)84.6 470.8 Q(})63 481.8 Q(DtPtr)63 503.8 Q
(ddr_sampledev_drom_create_local_view_data\(view\))63 514.8 Q(DtObject view;)63
525.8 Q({)63 536.8 Q(ddt_sampledev_drom_view)84.6 547.8 Q F5(*)5.4 E F3
(viewdata;)A(viewdata = \(ddt_sampledev_drom_view)84.6 569.8 Q F5(*)5.4 E F3
(\)DDspace_Allocate)A(\(sizeof \(ddt_sampledev_drom_view\)\);)127.8 580.8 Q
(if \(viewdata == \(ddt_sampledev_drom_view)84.6 602.8 Q F5(*)5.4 E F3(\)0\) {)
A(DDerror \(ERR_CANT_ALLOC_MEM,)106.2 613.8 Q
(ddr_sampledev_drom_create_local_view_data",)149.4 624.8 Q(DcNullPtr\);)149.4
635.8 Q(return \(\(DtPtr\) 0\);)106.2 646.8 Q(})84.6 657.8 Q
(viewdata->total_lights = 0;)84.6 679.8 Q(viewdata->max_lights = 0;)84.6 690.8
Q(viewdata->light = 0;)84.6 701.8 Q 1.44 LW 81 756 63 756 DL 99 756 81 756 DL
117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL 189
756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756 225 756 DL 261 756
243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297 756 DL 333 756 315
756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756 DL 419.4 756 401.4
756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4 756 446.4 756 DL
482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4 756 DL 536.4 756
518.4 756 DL/F6 9/Helvetica@0 SF(Sample De)300.348 768.96 Q(vice Dr)-.27 E(iv)
.135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798 768.96 S -2.187 -.27
(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)487.371 768.96 Q/F7 9
/Helvetica-Bold@0 SF(11-133)4.002 E EP
%%Page: 134 14
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)72 57.6 Q(DR)72
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(dde_sampledev_drom_data.view = view;)233.201 107 Q
(dde_sampledev_drom_curviwdat = viewdata;)233.201 118 Q
(return\(\(DtPtr\)viewdata\);)233.201 140 Q(})211.601 151 Q(DtPtr)211.601 173 Q
(ddr_sampledev_drom_create_local_window_data \(device, view\))211.601 184 Q
(DtObject device;)211.601 195 Q(DtObject view;)211.601 206 Q({)211.601 217 Q
(ddt_sampledev_drom_window)233.201 228 Q/F3 9/Symbol SF(*)5.4 E F2(windowdata;)
A(windowdata = \(ddt_sampledev_drom_window)233.201 250 Q F3(*)5.4 E F2
(\)DDspace_Allocate)A(\(sizeof \(ddt_sampledev_drom_window\)\);)276.401 261 Q
(if \(windowdata == \(ddt_sampledev_drom_window)233.201 283 Q F3(*)5.4 E F2
(\)0\) {)A(DDerror \(ERR_CANT_ALLOC_MEM,)254.801 294 Q
(ddr_sampledev_drom_create_local_window_data",)298.001 305 Q(DcNullPtr\);)
298.001 316 Q(return \(\(DtPtr\) 0\);)254.801 327 Q(})233.201 338 Q
(dde_sampledev_drom_curwindat = windowdata;)233.201 360 Q
(return\(\(DtPtr\)windowdata\);)233.201 382 Q(})211.601 393 Q .16 LW 223.4 419
221.4 419 DL 225.4 419 223.4 419 DL 227.4 419 225.4 419 DL 229.4 419 227.4 419
DL 231.4 419 229.4 419 DL 233.4 419 231.4 419 DL 235.4 419 233.4 419 DL 237.4
419 235.4 419 DL 239.4 419 237.4 419 DL 241.4 419 239.4 419 DL 243.4 419 241.4
419 DL 245.4 419 243.4 419 DL 247.4 419 245.4 419 DL 249.4 419 247.4 419 DL
251.4 419 249.4 419 DL 253.4 419 251.4 419 DL 255.4 419 253.4 419 DL 257.4 419
255.4 419 DL 259.4 419 257.4 419 DL 261.4 419 259.4 419 DL 263.4 419 261.4 419
DL 265.4 419 263.4 419 DL 267.4 419 265.4 419 DL 269.4 419 267.4 419 DL 271.4
419 269.4 419 DL 273.4 419 271.4 419 DL 275.4 419 273.4 419 DL 277.4 419 275.4
419 DL 279.4 419 277.4 419 DL 281.4 419 279.4 419 DL 283.4 419 281.4 419 DL
285.4 419 283.4 419 DL 287.4 419 285.4 419 DL 289.4 419 287.4 419 DL 291.4 419
289.4 419 DL 293.4 419 291.4 419 DL 295.4 419 293.4 419 DL 297.4 419 295.4 419
DL 299.4 419 297.4 419 DL 301.4 419 299.4 419 DL 303.4 419 301.4 419 DL 305.4
419 303.4 419 DL 307.4 419 305.4 419 DL 309.4 419 307.4 419 DL 311.4 419 309.4
419 DL 313.4 419 311.4 419 DL 315.4 419 313.4 419 DL 317.4 419 315.4 419 DL
319.4 419 317.4 419 DL 321.4 419 319.4 419 DL 323.4 419 321.4 419 DL 325.4 419
323.4 419 DL 327.4 419 325.4 419 DL 329.4 419 327.4 419 DL 331.4 419 329.4 419
DL 333.4 419 331.4 419 DL 335.4 419 333.4 419 DL 337.4 419 335.4 419 DL 339.4
419 337.4 419 DL 341.4 419 339.4 419 DL 343.4 419 341.4 419 DL 345.4 419 343.4
419 DL 347.4 419 345.4 419 DL 349.4 419 347.4 419 DL 351.4 419 349.4 419 DL
353.4 419 351.4 419 DL 355.4 419 353.4 419 DL 357.4 419 355.4 419 DL 359.4 419
357.4 419 DL 361.4 419 359.4 419 DL 363.4 419 361.4 419 DL 365.4 419 363.4 419
DL 367.4 419 365.4 419 DL 369.4 419 367.4 419 DL 371.4 419 369.4 419 DL 373.4
419 371.4 419 DL 375.4 419 373.4 419 DL 377.4 419 375.4 419 DL 379.4 419 377.4
419 DL 381.4 419 379.4 419 DL 383.4 419 381.4 419 DL 385.4 419 383.4 419 DL
387.4 419 385.4 419 DL 389.4 419 387.4 419 DL 391.4 419 389.4 419 DL 393.4 419
391.4 419 DL 395.4 419 393.4 419 DL 397.4 419 395.4 419 DL 399.4 419 397.4 419
DL 401.4 419 399.4 419 DL 403.4 419 401.4 419 DL 405.4 419 403.4 419 DL 407.4
419 405.4 419 DL 409.4 419 407.4 419 DL 411.4 419 409.4 419 DL 413.4 419 411.4
419 DL 415.4 419 413.4 419 DL 417.4 419 415.4 419 DL 419.4 419 417.4 419 DL
421.4 419 419.4 419 DL 423.4 419 421.4 419 DL 425.4 419 423.4 419 DL 427.4 419
425.4 419 DL 429.4 419 427.4 419 DL 431.4 419 429.4 419 DL 433.4 419 431.4 419
DL 435.4 419 433.4 419 DL 437.4 419 435.4 419 DL 439.4 419 437.4 419 DL 441.4
419 439.4 419 DL 443.4 419 441.4 419 DL 445.4 419 443.4 419 DL 447.4 419 445.4
419 DL 449.4 419 447.4 419 DL 451.4 419 449.4 419 DL 453.4 419 451.4 419 DL
455.4 419 453.4 419 DL 457.4 419 455.4 419 DL 459.4 419 457.4 419 DL 461.4 419
459.4 419 DL 463.4 419 461.4 419 DL 465.4 419 463.4 419 DL 467.4 419 465.4 419
DL 469.4 419 467.4 419 DL 471.4 419 469.4 419 DL 473.4 419 471.4 419 DL 475.4
419 473.4 419 DL 477.4 419 475.4 419 DL 479.4 419 477.4 419 DL 481.4 419 479.4
419 DL 483.4 419 481.4 419 DL 485.4 419 483.4 419 DL 487.4 419 485.4 419 DL
489.4 419 487.4 419 DL 491.4 419 489.4 419 DL 493.4 419 491.4 419 DL 495.4 419
493.4 419 DL 497.4 419 495.4 419 DL 499.4 419 497.4 419 DL 501.4 419 499.4 419
DL 503.4 419 501.4 419 DL 505.4 419 503.4 419 DL 507.4 419 505.4 419 DL 509.4
419 507.4 419 DL 511.4 419 509.4 419 DL 513.4 419 511.4 419 DL 515.4 419 513.4
419 DL 517.4 419 515.4 419 DL 519.4 419 517.4 419 DL 521.4 419 519.4 419 DL
523.4 419 521.4 419 DL 525.4 419 523.4 419 DL 527.4 419 525.4 419 DL 529.4 419
527.4 419 DL 531.4 419 529.4 419 DL 533.4 419 531.4 419 DL 535.4 419 533.4 419
DL 537.4 419 535.4 419 DL 539.4 419 537.4 419 DL 541.4 419 539.4 419 DL 543.4
419 541.4 419 DL 545.4 419 543.4 419 DL 1.44 LW 90 419.5 72 419.5 DL 99 419.5
81 419.5 DL 117 419.5 99 419.5 DL 135 419.5 117 419.5 DL 153 419.5 135 419.5 DL
171 419.5 153 419.5 DL 189 419.5 171 419.5 DL 207 419.5 189 419.5 DL/F4 12
/Helvetica-Oblique@0 SF -3.156(Geometr ic)72 433.5 R -.576 -1.44(Tr a)72 447.5
T(nsf)1.44 E -3.036(or mations)-.36 F/F5 11/Palatino-Roman@0 SF .23
(The geometric transformation r)221.5 447.6 R .23(outines contr)-.198 F .231
(ol the positioning and)-.198 F(size of objects in a Dore)221.5 460.8 Q 3.553
<b473>331.39 460.8 S 2.75(cene. This)343.27 460.8 R(includes:)2.75 E 18.334
<8374>221.5 486 S(he location of the camera,)250.086 486 Q 18.334<8374>221.5
505.2 S(he location and orientation of the lights, and)250.086 505.2 Q 18.334
<8374>221.5 524.4 S
(he location, orientation, and size of geometric primitives.)250.086 524.4 Q
(The sample DROM maintains a stack of thr)221.5 549.6 Q(ee matrices:)-.198 E/F6
11/Palatino-Italic@0 SF(lcstowcsmat)221.5 574.8 Q F5 1.443
(The local-to-world transformation matrix.)246.5 588 R 1.442(The local coor)
6.942 F(di-)-.198 E 1.668(nate system is the coor)246.5 601.2 R 1.669
(dinate system in which the object is)-.198 F 5.477(de\214ned. The)246.5 614.4
R 2.726(world coor)5.476 F 2.726(dinate system is the user)-.198 F(-de\214ned)
-.198 E 1.552(space that is the common frame of r)246.5 627.6 R(efer)-.198 E
4.302(ence. For)-.198 F(example,)4.302 E F6(DoPrimSurf\(DcSpher)246.5 640.8 Q
(e\))-.198 E F5 2.94(objects ar)5.69 F 5.69(ed)-.198 G 2.94
(e\214ned in local space at)424.016 640.8 R 2.354
(\(0,0,0\) with a radius of 1.0, but the spher)246.5 654 R 5.104(em)-.198 G
2.354(ight be posi-)480.49 654 R 1.383
(tioned in world space at \(10, 15, 3\) and be scaled to have a)246.5 667.2 R
1.615(radius of 4.5.)246.5 680.4 R(The)7.115 E F6(lcstowcsmat)4.365 E F5 1.616
(would perform this transfor)4.365 F(-)-.198 E(mation.)246.5 693.6 Q 90 756 72
756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL
171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756 221.4 756 DL
257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756 DL 311.4 756
293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4 756 347.4 756
DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4 756 DL 437.4
756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL 491.4 756 473.4
756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F7
9/Helvetica-Bold@0 SF(11-134)72 768.96 Q/F8 9/Helvetica@0 SF(Dore)6.504 E 3.506
<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)
-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E
(er)-.225 E EP
%%Page: 135 15
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)401.92 57.6 Q(DR)506.05
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 11
/Palatino-Italic@0 SF(lcstofcsmat)63 109.2 Q/F3 11/Palatino-Roman@0 SF 2.316
(The local-to-fr)88 122.4 R 2.315(ustum transformation matrix.)-.088 F 2.315
(This matrix is)7.815 F(the)88 135.6 Q F2(lcstowcsmat)2.902 E F3 .153
(concatenated with a set of matrices that trans-)2.902 F .89
(form the world coor)88 148.8 R .889(dinate system to the fr)-.198 F .889
(ustum coor)-.088 F(dinate)-.198 E 4.238(system. This)88 162 R 1.488
(transformation includes the camera pr)4.238 F(ojection)-.198 E
(matrix and the device and frame scaling and translations.)88 175.2 Q F2
(nrmlcstowcsmat)63 200.4 Q F3 6.213
(The normal local-to-world transformation matrix.)88 213.6 R(This)365.99 213.6
Q 1.042(matrix is used to transform surface normal vectors fr)88 226.8 R 1.043
(om the)-.198 F 4.064(local coor)88 240 R 4.063
(dinate system to the world coor)-.198 F 4.063(dinate system.)-.198 F .417
(When arbitrary transformations ar)88 253.2 R 3.168(ea)-.198 G .418
(pplied to the vertices of)270.763 253.2 R 4.312(as)88 266.4 S 1.562
(urface, the normal vectors de\214ned at the vertices cannot)102.476 266.4 R
1.077(be transformed using the same matrix, if they ar)88 279.6 R 3.827(et)
-.198 G 3.827(or)342.935 279.6 S(emain)356.915 279.6 Q .259
(normal to the transformed surface.)88 292.8 R .259(When the transformation)
5.759 F 2.72(includes only r)88 306 R 2.721
(otations, the normal matrix and the vertex)-.198 F 1.965(matrix ar)88 319.2 R
4.715(ei)-.198 G 4.715(dentical. However)147.568 319.2 R 4.715(,w)-.814 G 1.965
(ith mor)257.802 319.2 R 4.714(eg)-.198 G 1.964(eneral types of)311.671 319.2 R
3.612(transformations this is not always the case.)88 332.4 R 3.612(The normal)
9.112 F 1.128(matrix is the inverse transpose of the)88 345.6 R F2(lcstowcsmat)
3.878 E F3 6.628(.T)C 1.127(he sam-)347.912 345.6 R 1.547
(ple maintains this matrix separately because it is mor)88 358.8 R 4.298(ee)
-.198 G -.198<668c>373.217 358.8 S(-).198 E 1.837
(cient to build this matrix concurr)88 372 R 1.837(ently with the)-.198 F F2
(lcstowcsmat)4.586 E F3 2.993
(rather than perform the inverse operation each time it is)88 385.2 R(needed.)
88 398.4 Q 3.111(The matrix stack is maintained in the)63 423.6 R F2
(dde_sampledev_dr)5.86 E(om_data)-.198 E F3(data str)63 436.8 Q(uctur)-.088 E
(e.)-.198 E/F4 9/Courier@0 SF 43.2(DtMatrix4x4 lcstowcsmat;)84.6 459.8 R 43.2
(DtMatrix4x4 lcstofcsmat;)84.6 470.8 R 43.2(DtMatrix4x4 nrmlcstowcsmat;)84.6
481.8 R 75.6(DtInt max_matrices;)84.6 503.8 R 75.6(DtInt num_matrices;)84.6
514.8 R(ddt_sampledev_drom_matrix)84.6 525.8 Q/F5 9/Symbol SF(*)5.4 E F4
(matrix_stack;)A F3(wher)63 551 Q(e)-.198 E F2(matrix_stack)63 576.2 Q F3
(is a str)88 589.4 Q(uctur)-.088 E 2.75(eo)-.198 G 2.75(ft)159.28 589.4 S
(he form)169.279 589.4 Q F4(typedef struct {)113 612.4 Q 43.2
(DtMatrix4x4 lcstowcsmat;)134.6 623.4 R 43.2(DtMatrix4x4 lcstofcsmat;)134.6
634.4 R 43.2(DtMatrix4x4 nrmlcstowcsmat;)134.6 645.4 R 5.4(}d)113 656.4 S
(dt_sampledev_drom_matrix;)129.2 656.4 Q F2(max_matrices)63 681.6 Q F3
(is the maximum size of)88 694.8 Q F2(matrix_stack)2.75 E F3(.)A 1.44 LW 81 756
63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756
DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL
243 756 225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315
756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756
369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL
464.4 756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756
500.4 756 DL 536.4 756 518.4 756 DL/F6 9/Helvetica@0 SF(Sample De)300.348
768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>
424.798 768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G
(uide)487.371 768.96 Q/F7 9/Helvetica-Bold@0 SF(11-135)4.002 E EP
%%Page: 136 16
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)72 57.6 Q(DR)72
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 11
/Palatino-Italic@0 SF(num_matrices)221.5 109.2 Q/F3 11/Palatino-Roman@0 SF
(is the curr)246.5 122.4 Q(ent top of the stack.)-.198 E .923
(Since the DROM maintains the matrix stack, the DROM interface)221.5 147.6 R
(pr)221.5 160.8 Q 13.348(ovides a mechanism for querying matrices.)-.198 F(The)
527.086 160.8 Q F2(dr)221.5 174 Q(om.get_lcstowcsmat)-.198 E F3 -.198(ro)7.031
G 4.28(utine r).198 F 4.28(eturns the curr)-.198 F 4.28(ent local-to-world)
-.198 F(transformation in)221.5 187.2 Q F2(lcstowcsmat)2.75 E F3(:)A/F4 9
/Courier@0 SF(void)221.5 210.2 Q(ddr_sampledev_drom_get_lcstowcsmat \(matrix\))
221.5 221.2 Q(DtMatrix4x4 matrix;)221.5 232.2 Q({)221.5 243.2 Q
(ddr_sampledev_matrix_concat\(matrix,)243.1 254.2 Q
(dde_sampledev_drom_data.lcstowcsmat, DcReplace\);)264.7 265.2 Q(})221.5 276.2
Q F3(wher)221.5 301.4 Q(e)-.198 E F2(ddr_sampledev_matrix_concat)5.818 E F3
3.068(is one of the several matrix)5.818 F 4.44
(utility functions included in the sample driver)221.5 314.6 R 9.94(.S)-.814 G
4.439(ee the \214le)490.202 314.6 R F2(matrix.c)221.5 327.8 Q F3(.)A(The)221.5
353 Q F2(dr)3.174 E(om.update_lcstowcsmat_push)-.198 E F3 -.198(ro)3.174 G .425
(utine pushes the matrix stack.).198 F .08
(If the stack needs to be pushed and ther)221.5 366.2 R 2.83(ei)-.198 G 2.83
(sn)426.413 366.2 S .08(ot enough r)440.309 366.2 R .08(oom, then)-.198 F .862
(the stack will be expanded and)221.5 379.4 R F2(max_matrices)3.612 E F3 .862
(will be adjusted.)3.612 F -1.012(To)6.362 G -.198(re)221.5 392.6 S .992
(duce the number of memory allocations and memory fragmen-).198 F .023
(tation, the sample incr)221.5 405.8 R .024
(eases the stack size by 10 each time the max-)-.198 F
(imum stack size is exceeded.)221.5 419 Q F4(void)221.5 442 Q
(ddr_sampledev_drom_update_lcstowcsmat_push \(\))221.5 453 Q({)221.5 464 Q
(DtInt index;)243.1 475 Q(ddt_sampledev_drom_matrix)243.1 486 Q/F5 9/Symbol SF
(*)5.4 E F4(matrix_stack;)A(if \(dde_sampledev_drom_data.num_matrices ==)243.1
508 Q(dde_sampledev_drom_data.max_matrices\) {)264.7 519 Q
(dde_sampledev_drom_data.matrix_stack =)264.7 530 Q
(\(ddt_sampledev_drom_matrix)286.3 552 Q F5(*)5.4 E F4(\)DDspace_Reallocate)A
(\(dde_sampledev_drom_data.matrix_stack,)307.9 563 Q
(\(dde_sampledev_drom_data.max_matrices+10\))313.3 574 Q F5(*)A F4
(\(sizeof \(ddt_sampledev_drom_matrix\)\)\);)313.3 585 Q
(dde_sampledev_drom_data.max_matrices += 10;)264.7 596 Q(})243.1 607 Q
(index = dde_sampledev_drom_data.num_matrices++;)243.1 629 Q
(matrix_stack = dde_sampledev_drom_data.matrix_stack;)243.1 651 Q
(ddr_sampledev_matrix_concat)243.1 673 Q(\(matrix_stack[index].lcstowcsmat,)
264.7 684 Q(dde_sampledev_drom_data.lcstowcsmat, DcReplace\);)270.1 695 Q 1.44
LW 90 756 72 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153
756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4
756 221.4 756 DL 257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4
756 DL 311.4 756 293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL
365.4 756 347.4 756 DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756
401.4 756 DL 437.4 756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756
DL 491.4 756 473.4 756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4
756 527.4 756 DL/F6 9/Helvetica-Bold@0 SF(11-136)72 768.96 Q/F7 9/Helvetica@0
SF(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T
(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q
(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 137 17
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)401.92 57.6 Q(DR)506.05
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(ddr_sampledev_matrix_concat)84.6 107 Q
(\(matrix_stack[index].lcstofcsmat,)106.2 118 Q
(dde_sampledev_drom_data.lcstofcsmat, DcReplace\);)111.6 129 Q
(ddr_sampledev_matrix_concat)84.6 151 Q(\(matrix_stack[index].nrmlcstowcsmat,)
106.2 162 Q(dde_sampledev_drom_data.nrmlcstowcsmat, DcReplace\);)111.6 173 Q(})
63 184 Q/F3 11/Palatino-Roman@0 SF(The)63 209.2 Q/F4 11/Palatino-Italic@0 SF
(dr)5.819 E(om.update_lcstowcsmat_pop)-.198 E F3 -.198(ro)5.818 G 3.068
(utine pops the matrix stack,).198 F 1.387(moving the matrices fr)63 222.4 R
1.388(om the top of the stack to the matrices in)-.198 F(the)63 235.6 Q F4
(dde_sampledev_dr)2.75 E(om_data)-.198 E F3(data str)2.75 E(uctur)-.088 E(e.)
-.198 E F2(void)63 258.6 Q(ddr_sampledev_drom_update_lcstowcsmat_pop \(\))63
269.6 Q({)63 280.6 Q(DtInt index;)84.6 291.6 Q(ddt_sampledev_drom_matrix)84.6
302.6 Q/F5 9/Symbol SF(*)5.4 E F2(matrix_stack;)A
(if \(dde_sampledev_drom_data.num_matrices > 0\) {)84.6 324.6 Q
(index = --dde_sampledev_drom_data.num_matrices;)106.2 335.6 Q
(ddr_sampledev_matrix_concat)106.2 357.6 Q
(\(dde_sampledev_drom_data.lcstowcsmat,)127.8 368.6 Q
(matrix_stack[index].lcstowcsmat,)133.2 379.6 Q(DcReplace\);)133.2 390.6 Q
(ddr_sampledev_matrix_concat)106.2 412.6 Q
(\(dde_sampledev_drom_data.lcstofcsmat,)127.8 423.6 Q
(matrix_stack[index].lcstofcsmat,)133.2 434.6 Q(DcReplace\);)133.2 445.6 Q
(ddr_sampledev_matrix_concat)106.2 489.6 Q
(\(dde_sampledev_drom_data.nrmlcstowcsmat,)127.8 500.6 Q
(matrix_stack[index].nrmlcstowcsmat,)133.2 511.6 Q(DcReplace\);)133.2 522.6 Q
(})84.6 533.6 Q(})63 544.6 Q F3 .722(The following functions modify the curr)63
569.8 R .722(ent transformation matri-)-.198 F
(ces by concatenating a new matrix with each of them:)63 583 Q F4(dr)103 600.4
Q(om.update_lcstowcsmat_lokatfrm)-.198 E(dr)103 613.6 Q
(om.update_lcstowcsmat_r)-.198 E(otate)-.198 E(dr)103 626.8 Q
(om.update_lcstowcsmat_scale)-.198 E(dr)103 640 Q(om.update_lcstowcsmat_shear)
-.198 E(dr)103 653.2 Q(om.update_lcstowcsmat_tfmmat)-.198 E(dr)103 666.4 Q
(om.update_lcstowcsmat_transl)-.198 E F3 1.562(These r)63 682.6 R 1.562
(outines use a common r)-.198 F 1.563(outine to perform the concatena-)-.198 F
1.237(tion and maintain all thr)63 695.8 R 1.237
(ee of the matrices described above.)-.198 F(The)6.737 E 1.648(above r)63 709 R
1.648(outines cr)-.198 F 1.648(eate the appr)-.198 F 1.648
(opriate 4x4 matrix and its inverse)-.198 F 1.44 LW 81 756 63 756 DL 99 756 81
756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756
DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756 225 756 DL
261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297 756 DL 333
756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756 DL 419.4
756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4 756 446.4
756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4 756 DL
536.4 756 518.4 756 DL/F6 9/Helvetica@0 SF(Sample De)300.348 768.96 Q(vice Dr)
-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798 768.96 S
-2.187 -.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)487.371
768.96 Q/F7 9/Helvetica-Bold@0 SF(11-137)4.002 E EP
%%Page: 138 18
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)72 57.6 Q(DR)72
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 11
/Palatino-Roman@0 SF .658(and pass them to this r)221.5 109.2 R .659
(outine in the parameters)-.198 F/F3 11/Palatino-Italic@0 SF(matrix)3.409 E F2
(and)3.409 E F3(invert-)3.409 E(matrix)221.5 122.4 Q F2 2.75(,r)C(espectively)
261.089 122.4 Q 5.5(.T)-1.221 G(he r)329.146 122.4 Q(outine is:)-.198 E/F4 9
/Courier@0 SF(void)211.601 145.4 Q
(ddr_sampledev_drom_update_matrices\(matrix,invertmatrix,)211.601 156.4 Q
(concat\))254.801 167.4 Q(DtMatrix4x4 matrix;)211.601 178.4 Q
(DtMatrix4x4 invertmatrix;)211.601 189.4 Q(DtCompType concat;)211.601 200.4 Q
({)211.601 211.4 Q(DtMatrix4x4 tinverse;)233.201 222.4 Q(int i, j;)233.201
233.4 Q(for \(i=0; i<4; i++\) {)233.201 255.4 Q(for \(j=0; j<4; j++\) {)254.801
266.4 Q(tinverse[j][i] = invertmatrix[i][j];)276.401 277.4 Q(})254.801 288.4 Q
(})233.201 299.4 Q(switch \(concat\) {)233.201 321.4 Q(case DcPreConcatenate:)
233.201 332.4 Q(ddr_sampledev_matrix_concat)254.801 343.4 Q
(\(dde_sampledev_drom_data.lcstowcsmat, matrix,)276.401 354.4 Q
(DcPreConcatenate\);)281.801 365.4 Q(ddr_sampledev_matrix_concat)254.801 376.4
Q(\(dde_sampledev_drom_data.lcstofcsmat, matrix,)276.401 387.4 Q
(DcPreConcatenate\);)281.801 398.4 Q(ddr_sampledev_matrix_concat)254.801 431.4
Q(\(dde_sampledev_drom_data.nrmlcstowcsmat,)276.401 442.4 Q
(tinverse, DcPreConcatenate\);)281.801 453.4 Q(break;)254.801 464.4 Q
(case DcPostConcatenate:)233.201 486.4 Q(ddr_sampledev_matrix_concat)254.801
497.4 Q(\(dde_sampledev_drom_data.lcstowcsmat, matrix,)276.401 508.4 Q
(DcPostConcatenate\);)281.801 519.4 Q(ddr_sampledev_matrix_concat)254.801 530.4
Q(\(dde_sampledev_drom_data.nrmlcstowcsmat,)276.401 541.4 Q
(tinverse, DcPostConcatenate\);)281.801 552.4 Q(/)254.801 574.4 Q/F5 9/Symbol
SF(*)A(*)260.201 585.4 Q F4(For postconcatenation of the lcstofcsmat matrix)5.4
E F5(*)260.201 596.4 Q F4
(\(it contains the projection matrix\) the lcstowcsmat)5.4 E F5(*)260.201 607.4
Q F4(matrix is copied to the lcstofcsmat and then)5.4 E F5(*)260.201 618.4 Q F4
(the world-to-frustum matrix is postconcatenated)5.4 E F5(*)260.201 629.4 Q F4
(to this matrix)5.4 E F5(*)260.201 640.4 Q F4(/)A(ddr_sampledev_matrix_concat)
254.801 662.4 Q(\(dde_sampledev_drom_data.lcstofcsmat,)276.401 673.4 Q
(dde_sampledev_drom_data.lcstowcsmat,)281.801 684.4 Q(DcReplace\);)281.801
695.4 Q(ddr_sampledev_matrix_concat)254.801 706.4 Q 1.44 LW 90 756 72 756 DL 99
756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756
153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756 221.4 756 DL 257.4
756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756 DL 311.4 756 293.4
756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4 756 347.4 756 DL
383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4 756 DL 437.4 756
419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL 491.4 756 473.4 756
DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F6 9
/Helvetica-Bold@0 SF(11-138)72 768.96 Q/F7 9/Helvetica@0 SF(Dore)6.504 E 3.506
<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)
-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E
(er)-.225 E EP
%%Page: 139 19
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)401.92 57.6 Q(DR)506.05
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(\(dde_sampledev_drom_data.lcstofcsmat,)127.8 107 Q
(dde_sampledev_drom_curcamdat->wcstofcsmat,)133.2 118 Q(DcPostConcatenate\);)
133.2 129 Q(break;)106.2 140 Q(case DcReplace:)84.6 162 Q
(ddr_sampledev_matrix_concat)106.2 173 Q
(\(dde_sampledev_drom_data.lcstowcsmat, matrix,)127.8 184 Q(DcReplace\);)133.2
195 Q(ddr_sampledev_matrix_concat)106.2 217 Q
(\(dde_sampledev_drom_data.nrmlcstowcsmat,)127.8 228 Q(tinverse, DcReplace\);)
133.2 239 Q(/)106.2 261 Q/F3 9/Symbol SF(*)A(*)111.6 272 Q F2
(For replacement of the lcstofcsmat matrix \(it)5.4 E F3(*)111.6 283 Q F2
(contains the projection matrix\) the world-to-)5.4 E F3(*)111.6 294 Q F2
(frustum matrix is copied into the lcstofcsmat)5.4 E F3(*)111.6 305 Q F2
(and the new matrix will be preconcatenated to)5.4 E F3(*)111.6 316 Q F2
(the wcstofcsmat.)5.4 E F3(*)111.6 327 Q F2(/)A(ddr_sampledev_matrix_concat)
106.2 382 Q(\(dde_sampledev_drom_data.lcstofcsmat,)127.8 393 Q
(dde_sampledev_drom_curcamdat->wcstofcsmat,)133.2 404 Q(DcReplace\);)133.2 415
Q(ddr_sampledev_matrix_concat)106.2 426 Q
(\(dde_sampledev_drom_data.lcstofcsmat, matrix,)127.8 437 Q
(DcPreConcatenate\);)133.2 448 Q(break;)106.2 459 Q(})84.6 470 Q(})63 481 Q/F4
11/Palatino-Roman@0 SF 2.165(Because all of the transformation r)63 506.2 R
2.165(outines ar)-.198 F 4.915(es)-.198 G(imilar)305.582 506.2 Q 4.915(,o)-.814
G 2.165(nly two)347.6 506.2 R 1.994(examples ar)63 519.4 R 4.744(es)-.198 G
4.744(hown. The)137.971 519.4 R(\214rst,)4.745 E/F5 11/Palatino-Italic@0 SF(dr)
4.745 E(om.update_lcstowcsmat_lokatfrm)-.198 E F4(,)A .184
(concatenates a look-at-fr)63 532.6 R .184
(om matrix \(given two locations and an up)-.198 F 1.058
(vector\) with the CTM.)63 545.8 R 1.059
(The sample computes the inverse using a)6.559 F(general inverse r)63 559 Q
(outine.)-.198 E F2(void)63 582 Q
(ddr_sampledev_drom_update_lcstowcsmat_lokatfrm)63 593 Q
(\(at, from, up, concat\))106.2 604 Q(DtPoint3 at;)63 615 Q(DtPoint3 from;)63
626 Q(DtVector3 up;)63 637 Q(DtCompType concat;)63 648 Q({)63 659 Q
(DtMatrix4x4 matrix, invertmatrix;)84.6 670 Q
(ddr_sampledev_matrix_look_at_from)84.6 692 Q(\(matrix, at, from, up\);)106.2
703 Q 1.44 LW 81 756 63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117
756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756
DL 225 756 207 756 DL 243 756 225 756 DL 261 756 243 756 DL 279 756 261 756 DL
297 756 279 756 DL 315 756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL 369
756 351 756 DL 387 756 369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL
446.4 756 428.4 756 DL 464.4 756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756
482.4 756 DL 518.4 756 500.4 756 DL 536.4 756 518.4 756 DL/F6 9/Helvetica@0 SF
(Sample De)300.348 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296
768.96 Q 3.506<b444>424.798 768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper')
.27 E 2.502(sG)-.45 G(uide)487.371 768.96 Q/F7 9/Helvetica-Bold@0 SF(11-139)
4.002 E EP
%%Page: 140 20
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)72 57.6 Q(DR)72
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(ddr_sampledev_matrix_concat \(invertmatrix, matrix,)243.1 107 Q
(DcReplace\);)394.3 118 Q(ddr_sampledev_matrix_invert \(invertmatrix\);)243.1
129 Q(ddr_sampledev_drom_update_matrices)243.1 151 Q
(\(matrix, invertmatrix, concat\);)264.7 162 Q(})221.5 173 Q/F3 11
/Palatino-Roman@0 SF(The)221.5 198.2 Q/F4 11/Palatino-Italic@0 SF
(ddr_sampledev_matrix_look_at_fr)4.976 E(om)-.198 E F3 -.198(ro)4.976 G 2.226
(utine actually generates).198 F(the look-at-fr)221.5 211.4 Q(om matrix.)-.198
E F2(void)221.5 234.4 Q(ddr_sampledev_matrix_look_at_from\(matrix,at,from,up\))
221.5 245.4 Q(DtMatrix4x4 matrix;)221.5 256.4 Q(DtPoint3 at;)221.5 267.4 Q
(DtPoint3 from;)221.5 278.4 Q(DtVector3 up;)221.5 289.4 Q({)221.5 300.4 Q
(static char)243.1 311.4 Q/F5 9/Symbol SF(*)5.4 E F2(proc_name =)A
("ddr_sampledev_matrix_look_at_from";)264.7 322.4 Q(DtReal u[3], v[3], n[3];)
243.1 333.4 Q(ddr_sampledev_matrix_concat)243.1 355.4 Q
(\(matrix, dde_sampledev_identmatrix, DcReplace\);)264.7 366.4 Q(v[0] = up[0];)
243.1 388.4 Q(v[1] = up[1];)243.1 399.4 Q(v[2] = up[2];)243.1 410.4 Q
(if \( !ddr_sampledev_math_renormalize\(v\) \){)243.1 432.4 Q
(DDerror \(ERR_DEGEN_LOKATFRM, proc_name,)264.7 443.4 Q("null up vector"\);)
313.3 454.4 Q(return;)264.7 465.4 Q(})243.1 476.4 Q(n[0] = from[0]-at[0];)243.1
498.4 Q(n[1] = from[1]-at[1];)243.1 509.4 Q(n[2] = from[2]-at[2];)243.1 520.4 Q
(if \(!ddr_sampledev_math_renormalize\(n\)\){)243.1 542.4 Q
(DDerror \(ERR_DEGEN_LOKATFRM, proc_name,)264.7 553.4 Q
("up and from are coincident"\);)313.3 564.4 Q(return;)264.7 575.4 Q(})243.1
586.4 Q(ddr_sampledev_math_crossproduct\(v,n,u\);)243.1 608.4 Q
(if \(!ddr_sampledev_math_renormalize\(u\)\){)243.1 630.4 Q
(DDerror \(ERR_DEGEN_LOKATFRM, proc_name,)264.7 641.4 Q
("view normal and up vector are parallel"\);)313.3 652.4 Q(return;)264.7 663.4
Q(})243.1 674.4 Q(ddr_sampledev_math_crossproduct\(n,u,v\);)243.1 696.4 Q 1.44
LW 90 756 72 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153
756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4
756 221.4 756 DL 257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4
756 DL 311.4 756 293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL
365.4 756 347.4 756 DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756
401.4 756 DL 437.4 756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756
DL 491.4 756 473.4 756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4
756 527.4 756 DL/F6 9/Helvetica-Bold@0 SF(11-140)72 768.96 Q/F7 9/Helvetica@0
SF(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T
(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q
(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 141 21
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)401.92 57.6 Q(DR)506.05
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(if \(!ddr_sampledev_math_renormalize\(v\)\){)84.6 107 Q
(DDerror \(ERR_DEGEN_LOKATFRM, proc_name,)106.2 118 Q
("view normal and u vector are parallel"\);)149.4 129 Q(return;)106.2 140 Q(})
84.6 151 Q(matrix[0][0] = u[0];)84.6 173 Q(matrix[1][0] = u[1];)84.6 184 Q
(matrix[2][0] = u[2];)84.6 195 Q(matrix[3][0] = 0.0;)84.6 206 Q
(matrix[0][1] = v[0];)84.6 228 Q(matrix[1][1] = v[1];)84.6 239 Q
(matrix[2][1] = v[2];)84.6 250 Q(matrix[3][1] = 0.0;)84.6 261 Q
(matrix[0][2] = n[0];)84.6 294 Q(matrix[1][2] = n[1];)84.6 305 Q
(matrix[2][2] = n[2];)84.6 316 Q(matrix[3][2] = 0.0;)84.6 327 Q
(matrix[0][3] = from[0];)84.6 349 Q(matrix[1][3] = from[1];)84.6 360 Q
(matrix[2][3] = from[2];)84.6 371 Q(matrix[3][3] = 1.0;)84.6 382 Q(})63 393 Q
/F3 11/Palatino-Roman@0 SF .213(In contrast to)63 418.2 R/F4 11
/Palatino-Italic@0 SF(dr)2.963 E(om.update_lcstowcsmat_lokatfrm)-.198 E F3
2.963(,y)C .212(ou do not need to)300.539 418.2 R 1.959
(use a general inverse r)63 431.4 R 1.959(outine with)-.198 F F4(dr)4.709 E
(om.update_lcstowcsmat_scale)-.198 E F3(,)A(because you can generate it dir)63
444.6 Q(ectly fr)-.198 E(om the input parameters.)-.198 E F2(void)63 467.6 Q
(ddr_sampledev_drom_update_lcstowcsmat_scale \(sx, sy, sz,)63 478.6 Q(concat\))
300.6 489.6 Q(DtReal sx, sy, sz;)63 500.6 Q(DtCompType concat;)63 511.6 Q({)63
522.6 Q(static DtMatrix4x4 matrix = { 1., 0., 0., 0.,)84.6 533.6 Q
(0., 1., 0., 0.,)246.6 544.6 Q(0., 0., 1., 0.,)246.6 555.6 Q(0., 0., 0., 1.};)
246.6 566.6 Q(static DtMatrix4x4 invertmatrix = { 1., 0., 0., 0.,)84.6 577.6 Q
(0., 1., 0., 0.,)279 588.6 Q(0., 0., 1., 0.,)279 599.6 Q(0., 0., 0., 1.};)279
610.6 Q(matrix[0][0] = sx;)84.6 632.6 Q(matrix[1][1] = sy;)84.6 643.6 Q
(matrix[2][2] = sz;)84.6 654.6 Q(invertmatrix[0][0] = 1./sx;)84.6 676.6 Q
(invertmatrix[1][1] = 1./sy;)84.6 687.6 Q(invertmatrix[2][2] = 1./sz;)84.6
698.6 Q 1.44 LW 81 756 63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117
756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756
DL 225 756 207 756 DL 243 756 225 756 DL 261 756 243 756 DL 279 756 261 756 DL
297 756 279 756 DL 315 756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL 369
756 351 756 DL 387 756 369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL
446.4 756 428.4 756 DL 464.4 756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756
482.4 756 DL 518.4 756 500.4 756 DL 536.4 756 518.4 756 DL/F5 9/Helvetica@0 SF
(Sample De)300.348 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296
768.96 Q 3.506<b444>424.798 768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper')
.27 E 2.502(sG)-.45 G(uide)487.371 768.96 Q/F6 9/Helvetica-Bold@0 SF(11-141)
4.002 E EP
%%Page: 142 22
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)72 57.6 Q(DR)72
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(ddr_sampledev_drom_update_matrices \(matrix, invertmatrix,)
237.701 107 Q(concat\);)426.701 118 Q(})216.101 129 Q/F3 11/Palatino-Roman@0 SF
(Ther)221.5 154.2 Q 4.459(ea)-.198 G 2.105 -.198(re t)259.289 154.2 T(hr).198 E
1.709(ee additional interface functions in the DROM that)-.198 F(ar)221.5 167.4
Q 5.87(eu)-.198 G 3.119(sed by frame coor)248.919 167.4 R 3.119
(dinate geometries \(annotation text and)-.198 F .994(polymarkers\) to af)221.5
180.6 R .995(fect the transformation matrices.)-.198 F .995(They ar)6.495 F
3.745(ed)-.198 G(is-)533.972 180.6 Q(cussed in)221.5 193.8 Q/F4 11
/Palatino-Italic@0 SF(The Complete DROM)2.75 E F3 2.75(,l)C(ater)376.534 193.8
Q(.)-.814 E .16 LW 223.4 219.8 221.4 219.8 DL 225.4 219.8 223.4 219.8 DL 227.4
219.8 225.4 219.8 DL 229.4 219.8 227.4 219.8 DL 231.4 219.8 229.4 219.8 DL
233.4 219.8 231.4 219.8 DL 235.4 219.8 233.4 219.8 DL 237.4 219.8 235.4 219.8
DL 239.4 219.8 237.4 219.8 DL 241.4 219.8 239.4 219.8 DL 243.4 219.8 241.4
219.8 DL 245.4 219.8 243.4 219.8 DL 247.4 219.8 245.4 219.8 DL 249.4 219.8
247.4 219.8 DL 251.4 219.8 249.4 219.8 DL 253.4 219.8 251.4 219.8 DL 255.4
219.8 253.4 219.8 DL 257.4 219.8 255.4 219.8 DL 259.4 219.8 257.4 219.8 DL
261.4 219.8 259.4 219.8 DL 263.4 219.8 261.4 219.8 DL 265.4 219.8 263.4 219.8
DL 267.4 219.8 265.4 219.8 DL 269.4 219.8 267.4 219.8 DL 271.4 219.8 269.4
219.8 DL 273.4 219.8 271.4 219.8 DL 275.4 219.8 273.4 219.8 DL 277.4 219.8
275.4 219.8 DL 279.4 219.8 277.4 219.8 DL 281.4 219.8 279.4 219.8 DL 283.4
219.8 281.4 219.8 DL 285.4 219.8 283.4 219.8 DL 287.4 219.8 285.4 219.8 DL
289.4 219.8 287.4 219.8 DL 291.4 219.8 289.4 219.8 DL 293.4 219.8 291.4 219.8
DL 295.4 219.8 293.4 219.8 DL 297.4 219.8 295.4 219.8 DL 299.4 219.8 297.4
219.8 DL 301.4 219.8 299.4 219.8 DL 303.4 219.8 301.4 219.8 DL 305.4 219.8
303.4 219.8 DL 307.4 219.8 305.4 219.8 DL 309.4 219.8 307.4 219.8 DL 311.4
219.8 309.4 219.8 DL 313.4 219.8 311.4 219.8 DL 315.4 219.8 313.4 219.8 DL
317.4 219.8 315.4 219.8 DL 319.4 219.8 317.4 219.8 DL 321.4 219.8 319.4 219.8
DL 323.4 219.8 321.4 219.8 DL 325.4 219.8 323.4 219.8 DL 327.4 219.8 325.4
219.8 DL 329.4 219.8 327.4 219.8 DL 331.4 219.8 329.4 219.8 DL 333.4 219.8
331.4 219.8 DL 335.4 219.8 333.4 219.8 DL 337.4 219.8 335.4 219.8 DL 339.4
219.8 337.4 219.8 DL 341.4 219.8 339.4 219.8 DL 343.4 219.8 341.4 219.8 DL
345.4 219.8 343.4 219.8 DL 347.4 219.8 345.4 219.8 DL 349.4 219.8 347.4 219.8
DL 351.4 219.8 349.4 219.8 DL 353.4 219.8 351.4 219.8 DL 355.4 219.8 353.4
219.8 DL 357.4 219.8 355.4 219.8 DL 359.4 219.8 357.4 219.8 DL 361.4 219.8
359.4 219.8 DL 363.4 219.8 361.4 219.8 DL 365.4 219.8 363.4 219.8 DL 367.4
219.8 365.4 219.8 DL 369.4 219.8 367.4 219.8 DL 371.4 219.8 369.4 219.8 DL
373.4 219.8 371.4 219.8 DL 375.4 219.8 373.4 219.8 DL 377.4 219.8 375.4 219.8
DL 379.4 219.8 377.4 219.8 DL 381.4 219.8 379.4 219.8 DL 383.4 219.8 381.4
219.8 DL 385.4 219.8 383.4 219.8 DL 387.4 219.8 385.4 219.8 DL 389.4 219.8
387.4 219.8 DL 391.4 219.8 389.4 219.8 DL 393.4 219.8 391.4 219.8 DL 395.4
219.8 393.4 219.8 DL 397.4 219.8 395.4 219.8 DL 399.4 219.8 397.4 219.8 DL
401.4 219.8 399.4 219.8 DL 403.4 219.8 401.4 219.8 DL 405.4 219.8 403.4 219.8
DL 407.4 219.8 405.4 219.8 DL 409.4 219.8 407.4 219.8 DL 411.4 219.8 409.4
219.8 DL 413.4 219.8 411.4 219.8 DL 415.4 219.8 413.4 219.8 DL 417.4 219.8
415.4 219.8 DL 419.4 219.8 417.4 219.8 DL 421.4 219.8 419.4 219.8 DL 423.4
219.8 421.4 219.8 DL 425.4 219.8 423.4 219.8 DL 427.4 219.8 425.4 219.8 DL
429.4 219.8 427.4 219.8 DL 431.4 219.8 429.4 219.8 DL 433.4 219.8 431.4 219.8
DL 435.4 219.8 433.4 219.8 DL 437.4 219.8 435.4 219.8 DL 439.4 219.8 437.4
219.8 DL 441.4 219.8 439.4 219.8 DL 443.4 219.8 441.4 219.8 DL 445.4 219.8
443.4 219.8 DL 447.4 219.8 445.4 219.8 DL 449.4 219.8 447.4 219.8 DL 451.4
219.8 449.4 219.8 DL 453.4 219.8 451.4 219.8 DL 455.4 219.8 453.4 219.8 DL
457.4 219.8 455.4 219.8 DL 459.4 219.8 457.4 219.8 DL 461.4 219.8 459.4 219.8
DL 463.4 219.8 461.4 219.8 DL 465.4 219.8 463.4 219.8 DL 467.4 219.8 465.4
219.8 DL 469.4 219.8 467.4 219.8 DL 471.4 219.8 469.4 219.8 DL 473.4 219.8
471.4 219.8 DL 475.4 219.8 473.4 219.8 DL 477.4 219.8 475.4 219.8 DL 479.4
219.8 477.4 219.8 DL 481.4 219.8 479.4 219.8 DL 483.4 219.8 481.4 219.8 DL
485.4 219.8 483.4 219.8 DL 487.4 219.8 485.4 219.8 DL 489.4 219.8 487.4 219.8
DL 491.4 219.8 489.4 219.8 DL 493.4 219.8 491.4 219.8 DL 495.4 219.8 493.4
219.8 DL 497.4 219.8 495.4 219.8 DL 499.4 219.8 497.4 219.8 DL 501.4 219.8
499.4 219.8 DL 503.4 219.8 501.4 219.8 DL 505.4 219.8 503.4 219.8 DL 507.4
219.8 505.4 219.8 DL 509.4 219.8 507.4 219.8 DL 511.4 219.8 509.4 219.8 DL
513.4 219.8 511.4 219.8 DL 515.4 219.8 513.4 219.8 DL 517.4 219.8 515.4 219.8
DL 519.4 219.8 517.4 219.8 DL 521.4 219.8 519.4 219.8 DL 523.4 219.8 521.4
219.8 DL 525.4 219.8 523.4 219.8 DL 527.4 219.8 525.4 219.8 DL 529.4 219.8
527.4 219.8 DL 531.4 219.8 529.4 219.8 DL 533.4 219.8 531.4 219.8 DL 535.4
219.8 533.4 219.8 DL 537.4 219.8 535.4 219.8 DL 539.4 219.8 537.4 219.8 DL
541.4 219.8 539.4 219.8 DL 543.4 219.8 541.4 219.8 DL 545.4 219.8 543.4 219.8
DL 1.44 LW 90 220.3 72 220.3 DL 99 220.3 81 220.3 DL 117 220.3 99 220.3 DL 135
220.3 117 220.3 DL 153 220.3 135 220.3 DL 171 220.3 153 220.3 DL 189 220.3 171
220.3 DL 207 220.3 189 220.3 DL/F5 12/Helvetica-Oblique@0 SF(The Camer)72 234.3
Q 3.336(aa)-.12 G(nd Its)148.572 234.3 Q -3.156(Attr ib)72 248.3 R(utes)-.24 E
F3 2.246(The attributes of the camera ar)221.5 248.4 R 4.996(ep)-.198 G 2.245
(assed to the minimal DROM)398.007 248.4 R(with the r)221.5 261.6 Q(outines:)
-.198 E F4(dr)261.5 279 Q(om.set_camera_matrix)-.198 E(dr)261.5 292.2 Q
(om.set_parallel_matrix)-.198 E(dr)261.5 305.4 Q(om.set_perspective_matrix)
-.198 E(dr)261.5 318.6 Q(om.set_pr)-.198 E(ojection_matrix)-.198 E F3 3.396
(In the sample device driver)221.5 348 R 6.146(,t)-.814 G 3.396
(hese functions stor)379.731 348 R 6.146(et)-.198 G 3.396(he camera)492.472 348
R 3.455(attributes in the)221.5 361.2 R F4(dde_sampledev_dr)6.205 E(om_data)
-.198 E F3(str)6.205 E(uctur)-.088 E 6.205(e. The)-.198 F(corr)6.205 E(e-)-.198
E(sponding \214elds ar)221.5 374.4 Q(e:)-.198 E F2 5.4
(DtCameraMatrixType camera_type;)243.1 397.4 R 43.2(DtMatrix4x4 projmat;)243.1
408.4 R F3(Ther)221.5 433.6 Q 3.022(ei)-.198 G 3.022(so)255.553 433.6 S .272
(nly one camera pr)269.245 433.6 R .273(ojection matrix, but ther)-.198 F 3.023
(ea)-.198 G .669 -.198(re f)488.942 433.6 T .273(our r).198 F(ou-)-.198 E .159
(tines that set the matrix.)221.5 446.8 R .159(They all cr)5.659 F .159
(eate the appr)-.198 F .159(opriate pr)-.198 F(ojection)-.198 E 1.564
(matrix, overwrite the pr)221.5 460 R 1.564(evious one \()-.198 F F4(pr)A
(ojmat)-.198 E F3 1.564(\), and set the camera)B 4.611(type. Both)221.5 473.2 R
1.861(the parallel and perspective r)4.611 F 1.861(outines adjust for non-)
-.198 F(squar)221.5 486.4 Q 2.75(ev)-.198 G 2.75(iews. For)262.838 486.4 R
(example, the perspective r)2.75 E(outine is:)-.198 E F2(void)210.701 509.4 Q
(ddr_sampledev_drom_set_perspective_matrix\(fov,hither,yon\))210.701 520.4 Q
(DtReal fov;)210.701 531.4 Q(DtReal hither,yon;)210.701 542.4 Q({)210.701 553.4
Q(DtReal yoverxscalefactor,extentx,extenty;)232.301 564.4 Q(DtVolume volume;)
232.301 575.4 Q(dde_sampledev_drom_data.camera_type = DcCameraPerspective;)
232.301 597.4 Q(DvInqBoundary\(dde_sampledev_drom_data.view, &volume\);)232.301
619.4 Q(extentx = volume.fur[0] - volume.bll[0];)232.301 641.4 Q
(extenty = volume.fur[1] - volume.bll[1];)232.301 652.4 Q
(yoverxscalefactor = extenty / extentx;)232.301 674.4 Q
(if \( extentx >= extenty \) {)232.301 696.4 Q(ddr_sampledev_matrix_scale)
253.901 707.4 Q 90 756 72 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117
756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756
DL 239.4 756 221.4 756 DL 257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4
756 275.4 756 DL 311.4 756 293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4
756 DL 365.4 756 347.4 756 DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL
419.4 756 401.4 756 DL 437.4 756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756
455.4 756 DL 491.4 756 473.4 756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756
DL 545.4 756 527.4 756 DL/F6 9/Helvetica-Bold@0 SF(11-142)72 768.96 Q/F7 9
/Helvetica@0 SF(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187 -.27(ev e)
135.024 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q(Sample De)
221.4 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 143 23
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)401.92 57.6 Q(DR)506.05
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(\(dde_sampledev_drom_data.projmat,)149.4 107 Q
(yoverxscalefactor, 1., 1., DcReplace\);)154.8 118 Q 5.4(}e)84.6 129 S(lse {)
100.8 129 Q(ddr_sampledev_matrix_scale)106.2 140 Q
(\(dde_sampledev_drom_data.projmat,)149.4 162 Q
(1., 1./yoverxscalefactor, 1., DcReplace\);)154.8 173 Q(})84.6 184 Q
(ddr_sampledev_matrix_perspective)84.6 206 Q
(\(dde_sampledev_drom_data.projmat,)149.4 217 Q
(fov, hither, yon, DcPostConcatenate\);)154.8 228 Q(})63 239 Q/F3 11
/Palatino-Roman@0 SF 1.8(The camera attributes ar)63 264.2 R 4.55(ea)-.198 G
1.801(pplied to the camera when it is exe-)201.694 264.2 R 2.853(cuted. The)63
277.4 R .103(camera attributes ar)2.853 F 2.853(ec)-.198 G .103
(ollected and stor)229.736 277.4 R .103(ed in a separate)-.198 F(str)63 290.6 Q
(uctur)-.088 E 2.75(ea)-.198 G(ssociated with the view when)114.909 290.6 Q/F4
11/Palatino-Italic@0 SF(dr)2.75 E(om.camera)-.198 E F3(is called.)2.75 E F2
(void)63 313.6 Q(ddr_sampledev_drom_camera\(\))63 324.6 Q({)63 335.6 Q
(ddr_sampledev_matrix_concat)84.6 346.6 Q
(\(dde_sampledev_drom_curcamdat->projmat,)106.2 357.6 Q
(dde_sampledev_drom_data.projmat, DcReplace\);)111.6 368.6 Q
(dde_sampledev_drom_curcamdat->camera_type =)84.6 379.6 Q
(dde_sampledev_drom_data.camera_type;)154.8 390.6 Q
(ddr_sampledev_drom_get_lcstowcsmat)84.6 412.6 Q
(\(dde_sampledev_drom_curcamdat->camtowcsmat\);)149.4 423.6 Q(})63 434.6 Q F3
1.728(The curr)63 459.8 R 1.728(ent local-to-world transformation matrix \()
-.198 F F4(lcstowcsmat)A F3 4.478(\)i)C(s)382.336 459.8 Q 2.072(also stor)63
473 R 2.071(ed when the camera is executed.)-.198 F 2.071
(This matrix indicates)7.571 F(wher)63 486.2 Q 2.75(et)-.198 G
(he camera is located.)99.597 486.2 Q .308
(After the studio traversal is completed, the r)63 511.4 R .309
(est of the camera data)-.198 F .478(needs to be computed.)63 524.6 R .478
(This data is stor)5.978 F .477(ed in the camera str)-.198 F(uctur)-.088 E(e)
-.198 E(inside the view local data.)63 537.8 Q F2(typedef struct {)63 560.8 Q
5.4(DtCameraMatrixType camera_type;)84.6 571.8 R 43.2(DtMatrix4x4 projmat;)84.6
582.8 R 43.2(DtMatrix4x4 camtowcsmat;)84.6 593.8 R 43.2
(DtMatrix4x4 wcstocammat;)84.6 604.8 R 43.2(DtMatrix4x4 wcstofcsmat;)84.6 615.8
R 70.2(DtReal wcscamloc[3];)84.6 626.8 R 70.2(DtReal wcscamnorm[3];)84.6 637.8
R 5.4(}d)63 648.8 S(dt_sampledev_drom_camera;)79.2 648.8 Q F3 3.287
(Because multiple cameras may be executed during the studio)63 674 R .702
(traversal it is best to leave the matrix computations until the \214nal)63
687.2 R 1.065(values for the camera ar)63 700.4 R 3.815(ek)-.198 G 3.815
(nown. Y)199.071 700.4 R 1.066(ou have the camera-to-world)-1.012 F 1.67
(transformation \()63 713.6 R F4(camtowcsmat)A F3 1.67
(\), but you need to compute location)B 1.44 LW 81 756 63 756 DL 99 756 81 756
DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL
189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756 225 756 DL 261
756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297 756 DL 333 756
315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756 DL 419.4 756
401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4 756 446.4 756
DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4 756 DL 536.4
756 518.4 756 DL/F5 9/Helvetica@0 SF(Sample De)300.348 768.96 Q(vice Dr)-.27 E
(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798 768.96 S -2.187
-.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)487.371 768.96 Q
/F6 9/Helvetica-Bold@0 SF(11-143)4.002 E EP
%%Page: 144 24
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)72 57.6 Q(DR)72
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 11
/Palatino-Roman@0 SF .625(and orientation of the camera in world coor)221.5
109.2 R .624(dinates, as well as the)-.198 F(world-to-fr)221.5 122.4 Q 3.602
(ustum transformation.)-.088 F 3.603(These computations ar)9.102 F 6.353(ed)
-.198 G(is-)533.972 122.4 Q 2.201(cussed her)221.5 135.6 R 2.201
(e, even though they ar)-.198 F 4.951(ea)-.198 G 2.2
(ctually performed after the)407.967 135.6 R(studio traversal in the)221.5
148.8 Q/F3 11/Palatino-Italic@0 SF(dr)2.75 E(om.update_studio)-.198 E F2(contr)
2.75 E(ol r)-.198 E(outine.)-.198 E 2.541
(First, the position of the camera is determined.)221.5 174 R 2.542
(The camera is)8.042 F .176(located at the origin in the local coor)221.5 187.2
R .175(dinate system, pointing down)-.198 F .253(the negative z axis.)221.5
200.4 R .254(The sample transforms the point \(0,0,0\) by the)5.753 F F3
(camtowcsmat)221.5 213.6 Q F2 2.072
(matrix to \214nd the position of the camera in world)4.822 F(coor)221.5 226.8
Q 2.981(dinates. Internally)-.198 F 2.982(,f)-1.221 G .232
(or shading calculations, the sample stor)342.27 226.8 R(es)-.198 E 2.074
(the vector opposite to the camera dir)221.5 240 R 4.823(ection. The)-.198 F
2.073(camera points)4.823 F .911
(down the negative axis. So, to get the opposite vector the sample)221.5 253.2
R 1.076(\214rst transforms the point \(0,0,1\).)221.5 266.4 R 1.076
(Subtracting the camera location)6.576 F(fr)221.5 279.6 Q .172
(om this second point and normalizing the r)-.198 F .173
(esult gives you a vec-)-.198 F(tor in world space that points towar)221.5
292.8 Q 2.75(dt)-.198 G(he camera.)408.929 292.8 Q/F4 9/Courier@0 SF
(static DtReal lcscamloc[4])243.1 315.8 Q 5.4(={0)394.3 315.8 S
(., 0., 0., 1.};)421.3 315.8 Q
(static DtReal lcscamnorm[4] = { 0., 0., 1., 1.};)243.1 326.8 Q
(DtReal wcscamloc[4];)243.1 337.8 Q(DtReal wcscamnorm[4];)243.1 348.8 Q
(ddt_sampledev_drom_camera)243.1 359.8 Q/F5 9/Symbol SF(*)5.4 E F4(camdat;)A
(camdat = dde_sampledev_drom_curcamdat;)243.1 381.8 Q(/)243.1 403.8 Q F5(*)A(*)
248.5 414.8 Q F4(Compute the location of the camera in world)5.4 E F5(*)248.5
425.8 Q F4 5.4(coordinates. It)5.4 F(is located at the origin)5.4 E F5(*)248.5
436.8 Q F4(looking down -Z in camera coordinates.)5.4 E F5(*)248.5 447.8 Q F4
(/)A(ddr_sampledev_math_pnttrns)243.1 469.8 Q
(\(lcscamloc, camdat->camtowcsmat, wcscamloc\);)264.7 480.8 Q
(if \(wcscamloc[3] != 0.0\) {)243.1 491.8 Q(wcscamloc[0] /= wcscamloc[3];)264.7
502.8 Q(wcscamloc[1] /= wcscamloc[3];)264.7 513.8 Q
(wcscamloc[2] /= wcscamloc[3];)264.7 524.8 Q(})243.1 535.8 Q(/)243.1 557.8 Q F5
(*)A(*)248.5 568.8 Q F4(Compute the vector toward the camera location.)5.4 E F5
(*)248.5 579.8 Q F4(The camera is looking in the -Z direction so)5.4 E F5(*)
248.5 590.8 Q F4(\(0, 0, 1\) is the vector toward the camera in)5.4 E F5(*)
248.5 601.8 Q F4(camera coordinates.)5.4 E F5(*)248.5 612.8 Q F4(/)A
(ddr_sampledev_math_pnttrns)243.1 634.8 Q
(\(lcscamnorm,camdat->camtowcsmat,wcscamnorm\);)264.7 645.8 Q
(if \(wcscamnorm[3] != 0.0\) {)243.1 678.8 Q(wcscamnorm[0] /= wcscamnorm[3];)
264.7 689.8 Q(wcscamnorm[1] /= wcscamnorm[3];)264.7 700.8 Q
(wcscamnorm[2] /= wcscamnorm[3];)264.7 711.8 Q 1.44 LW 90 756 72 756 DL 99 756
81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153
756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756 221.4 756 DL 257.4 756
239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756 DL 311.4 756 293.4 756
DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4 756 347.4 756 DL 383.4
756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4 756 DL 437.4 756 419.4
756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL 491.4 756 473.4 756 DL
509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F6 9
/Helvetica-Bold@0 SF(11-144)72 768.96 Q/F7 9/Helvetica@0 SF(Dore)6.504 E 3.506
<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)
-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E
(er)-.225 E EP
%%Page: 145 25
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)401.92 57.6 Q(DR)506.05
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(})84.6 107 Q(wcscamnorm[0] -= wcscamloc[0];)84.6 129 Q
(wcscamnorm[1] -= wcscamloc[1];)84.6 140 Q(wcscamnorm[2] -= wcscamloc[2];)84.6
151 Q(ddr_sampledev_math_renormalize\(wcscamnorm\);)84.6 162 Q
(camdat->wcscamloc[0] = wcscamloc[0];)84.6 184 Q
(camdat->wcscamloc[1] = wcscamloc[1];)84.6 195 Q
(camdat->wcscamloc[2] = wcscamloc[2];)84.6 206 Q
(camdat->wcscamnorm[0] = wcscamnorm[0];)84.6 228 Q
(camdat->wcscamnorm[1] = wcscamnorm[1];)84.6 239 Q
(camdat->wcscamnorm[2] = wcscamnorm[2];)84.6 250 Q/F3 11/Palatino-Roman@0 SF
-1.012(Yo)63 275.2 S 3.136(uh)1.012 G .386(ave the camera pr)91.502 275.2 R
.386(ojection \()-.198 F/F4 11/Palatino-Italic@0 SF(pr)A(ojmat)-.198 E F3 3.136
(\)a)C .385(nd the camera-to-world)270.774 275.2 R(\()63 288.4 Q F4
(camtowcsmat)A F3 8.224(\)t)C 5.474(ransformation matrices.)142.405 288.4 R
5.474(The world-to-fr)274.848 288.4 R(ustum)-.088 E 2.096
(matrix now needs to be computed.)63 301.6 R 2.095(This matrix is the one that)
7.596 F 1.27(transforms fr)63 314.8 R 1.27(om the world coor)-.198 F 1.271
(dinate system to the volume that)-.198 F 2.728
(will be displayed on the device.)63 328 R 2.727(This transformation needs to)
8.227 F(ensur)63 341.2 Q 2.804(et)-.198 G .055
(hat only the visible portion of the view volume is included)101.774 341.2 R
(in the fr)63 354.4 Q(ustum space.)-.088 E 2.121(The following steps ar)63
379.6 R 4.871(et)-.198 G 2.121(aken to compute the world-to-fr)191.164 379.6 R
(ustum)-.088 E(transformation.)63 392.8 Q 13.75(\(1\) T)68.5 418 R 1.497
(ransform fr)-.99 F 1.497(om world coor)-.198 F 1.497(dinates to camera coor)
-.198 F(dinates.)-.198 E .791
(This is just the inverse of the camera-to-world transforma-)97.826 431.2 R
(tion matrix \()97.826 444.4 Q F4(camtowcsmat)A F3(\).)A 13.75(\(2\) T)68.5
469.6 R 1.425(ransform fr)-.99 F 1.425(om camera coor)-.198 F 1.426
(dinates to normalized pr)-.198 F(ojec-)-.198 E 3.018(tion coor)97.826 482.8 R
5.768(dinates. This)-.198 F 3.017(is the normalized volume of the)5.768 F(view)
97.826 496 Q 4.56(,a)-1.012 G 1.811
(nd is de\214ned in homogeneous space as any point)133.483 496 R .33(\(x, y ,)
97.826 509.2 R 3.08(z,)1.87 G
(w\) that satis\214es the following set of conditions:)-1.21 E/F5 11/Symbol SF
(-)133.826 522.4 Q F3(w)A F5<a3>3.08 E F3(x)3.08 E F5<a3>3.08 E F3(w)3.08 E F5
(-)133.826 535.6 Q F3(w)A F5<a3>3.08 E F3(y)3.08 E F5<a3>3.08 E F3(w)3.08 E F5
(-)133.826 548.8 Q F3(w)A F5<a3>3.08 E F3(z)3.08 E F5<a3>3.08 E F3(0)3.08 E
(This is the camera pr)97.826 562 Q(ojection matrix \()-.198 E F4(pr)A(ojmat)
-.198 E F3(\).)A 13.75(\(3\) T)68.5 587.2 R .729(ransform fr)-.99 F .729
(om normalized pr)-.198 F .729(ojection coor)-.198 F .729(dinates to view)-.198
F(coor)97.826 600.4 Q 6.563(dinates. This)-.198 F 3.814
(involves a scale, a translate, and an)6.563 F(adjustment for nonsquar)97.826
613.6 Q 2.75(ed)-.198 G(evice pixels.)232.642 613.6 Q 1.44 LW 81 756 63 756 DL
99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171
756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756
225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297
756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756
DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4
756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4
756 DL 536.4 756 518.4 756 DL/F6 9/Helvetica@0 SF(Sample De)300.348 768.96 Q
(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798
768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)
487.371 768.96 Q/F7 9/Helvetica-Bold@0 SF(11-145)4.002 E EP
%%Page: 146 26
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)72 57.6 Q(DR)72
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 11
/Palatino-Roman@0 SF 13.75(\(4\) T)227 109.2 R 1.772(ransform fr)-.99 F 1.772
(om view coor)-.198 F 1.772(dinates to fr)-.198 F 1.772(ustum coor)-.088 F
(dinates.)-.198 E 2.533(This coor)256.326 122.4 R 2.532
(dinate system is like the normalized pr)-.198 F(ojection)-.198 E(coor)256.326
135.6 Q .68(dinate system but includes only the intersection of the)-.198 F
.825(view volume and the frame volume.)256.326 148.8 R .824
(This involves a scale)6.324 F(and translate.)256.326 162 Q 3.756
(These steps may seem complicated, but they ar)221.5 187.2 R 6.507(er)-.198 G
(equir)492.001 187.2 Q 3.757(ed to)-.198 F(ensur)221.5 200.4 Q 5.93(et)-.198 G
3.18(hat only the visible view volume is displayed on the)263.4 200.4 R 3.498
(device. Clipping)221.5 213.6 R .749(is done in fr)3.498 F .749
(ustum space, befor)-.088 F 3.499(et)-.198 G .749(he perspective)474.406 213.6
R/F3 11/Palatino-Italic@0 SF(w)221.5 226.8 Q F2 3.926(-divide. Then)B 3.926(as)
3.926 G 1.175(cale and translate ar)316.691 226.8 R 3.925(ep)-.198 G 1.175
(erformed to map fr)433.449 226.8 R(om)-.198 E(fr)221.5 240 Q 2.375
(ustum space to device coor)-.088 F 5.125(dinates. The)-.198 F(Dore)5.126 E
5.929<b466>459.447 240 S(unction)472.702 240 Q F3(DDde-)5.126 E
(vice_InqFrustumScaleT)221.5 253.2 Q(rans)-1.221 E F2 -.198(re)2.761 G .01
(turns the scale and translate values for).198 F(mapping fr)221.5 266.4 Q
(om fr)-.198 E(ustum space to device coor)-.088 E(dinates.)-.198 E 3.801
(The code fr)221.5 291.6 R 3.801(om the)-.198 F F3(dr)6.551 E(om.update_studio)
-.198 E F2 -.198(ro)6.551 G 3.802(utine to compute the).198 F(world-to-fr)221.5
304.8 Q(ustum transformation is shown below)-.088 E(.)-1.012 E/F4 9/Courier@0
SF(DtMatrix4x4 matrix;)243.1 327.8 Q(DtVolume)243.1 338.8 Q/F5 9/Symbol SF(*)
5.4 E F4(clipvol;)A(DtVolume viewbndry;)243.1 349.8 Q(DtReal xres, yres;)243.1
360.8 Q(DtReal scale[3];)243.1 371.8 Q(DtReal trans[3];)243.1 382.8 Q(/)243.1
404.8 Q F5(*)A(*)248.5 415.8 Q F4
(Compute the world coordinate to camera coordinate)5.4 E F5(*)248.5 426.8 Q F4
(transformation matrix.)5.4 E F5(*)248.5 437.8 Q F4
(This maps from world coordinates to camera)5.4 E F5(*)248.5 448.8 Q F4
(coordinates, where the camera is at the origin)5.4 E F5(*)248.5 459.8 Q F4
(looking down the -Z axis with Y up.)5.4 E F5(*)248.5 470.8 Q F4(/)A
(ddr_sampledev_matrix_concat)243.1 492.8 Q
(\(camdat->wcstocammat, camdat->camtowcsmat,)264.7 503.8 Q(DcReplace\);)270.1
514.8 Q(ddr_sampledev_matrix_invert \(camdat->wcstocammat\);)243.1 525.8 Q
(ddr_sampledev_matrix_concat)243.1 547.8 Q
(\(camdat->wcstofcsmat, camdat->wcstocammat,)264.7 558.8 Q(DcReplace\);)270.1
569.8 Q(/)243.1 591.8 Q F5(*)A(*)248.5 602.8 Q F4
(Map from the camera coordinates to normalized)5.4 E F5(*)248.5 613.8 Q F4
(projection coordinates)5.4 E F5(*)248.5 624.8 Q F4
(-w < x < w, -w < y < w, -w < z < 0)5.4 E F5(*)248.5 635.8 Q F4(/)A
(ddr_sampledev_matrix_concat)243.1 679.8 Q
(\(camdat->wcstofcsmat, camdat->projmat,)264.7 690.8 Q(DcPostConcatenate\);)
270.1 701.8 Q 1.44 LW 90 756 72 756 DL 99 756 81 756 DL 117 756 99 756 DL 135
756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756
189 756 DL 239.4 756 221.4 756 DL 257.4 756 239.4 756 DL 275.4 756 257.4 756 DL
293.4 756 275.4 756 DL 311.4 756 293.4 756 DL 329.4 756 311.4 756 DL 347.4 756
329.4 756 DL 365.4 756 347.4 756 DL 383.4 756 365.4 756 DL 401.4 756 383.4 756
DL 419.4 756 401.4 756 DL 437.4 756 419.4 756 DL 455.4 756 437.4 756 DL 473.4
756 455.4 756 DL 491.4 756 473.4 756 DL 509.4 756 491.4 756 DL 527.4 756 509.4
756 DL 545.4 756 527.4 756 DL/F6 9/Helvetica-Bold@0 SF(11-146)72 768.96 Q/F7 9
/Helvetica@0 SF(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187 -.27(ev e)
135.024 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q(Sample De)
221.4 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 147 27
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)401.92 57.6 Q(DR)506.05
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(/)84.6 107 Q/F3 9/Symbol SF(*)A(*)90 118 Q F2
(Map from normalized projection coordinates to)5.4 E F3(*)90 129 Q F2
(to the volume of the view)5.4 E F3(*)90 140 Q F2(/)A
(if \(camdat->camera_type !=)84.6 162 Q(DcCameraArbitrary\) {)111.6 173 Q
(DvInqBoundary\(dde_sampledev_drom_data.view,)106.2 184 Q(&viewbndry\);)181.8
195 Q(scale[0] = \(viewbndry.fur[0]-viewbndry.bll[0]\)/2.;)106.2 217 Q
(scale[1] = \(viewbndry.fur[1]-viewbndry.bll[1]\)/2.;)106.2 228 Q
(scale[2] = \(viewbndry.fur[2]-viewbndry.bll[2]\);)106.2 239 Q
(trans[0] = \(viewbndry.fur[0]+viewbndry.bll[0]\)/2.;)106.2 261 Q
(trans[1] = \(viewbndry.fur[1]+viewbndry.bll[1]\)/2.;)106.2 272 Q
(trans[2] = viewbndry.fur[2];)106.2 283 Q(/)106.2 305 Q F3(*)A(*)111.6 316 Q F2
(Adjust the x scaling if the pixels of the screen)5.4 E F3(*)111.6 327 Q F2
(are non-square)5.4 E F3(*)111.6 338 Q F2(/)A
(DdInqResolution\(dde_sampledev_drom_data.device,)106.2 360 Q(&xres,&yres\);)
192.6 371 Q(if \(xres != 0.0\) {)106.2 382 Q(scale[0])127.8 393 Q F3(*)5.4 E F2
5.4(=\()C(yres / xres\);)197.1 393 Q(})106.2 404 Q(ddr_sampledev_matrix_scale)
106.2 426 Q(\(camdat->wcstofcsmat,)149.4 437 Q(scale[0], scale[1], scale[2],)
154.8 448 Q(DcPostConcatenate\);)154.8 459 Q(ddr_sampledev_matrix_translate)
106.2 470 Q(\(camdat->wcstofcsmat,)149.4 481 Q(trans[0], trans[1], trans[2],)
154.8 492 Q(DcPostConcatenate\);)154.8 503 Q(})84.6 514 Q(/)84.6 536 Q F3(*)A
(*)90 547 Q F2(Map from the view volume back to a normalized space)5.4 E F3(*)
90 558 Q F2 5.4(\(-)5.4 G(w<x<w, -w<y<w, -w<z<0\). This normalized space)116.1
558 Q F3(*)90 569 Q F2(just includes the visible portion of the volume.)5.4 E
F3(*)90 580 Q F2(The clipping volume is in frame coordinates, the)5.4 E F3(*)90
591 Q F2(same coordinates as the view volume)5.4 E F3(*)90 602 Q F2(/)A
(clipvol = DDdevice_InqClippingVolume)84.6 624 Q
(\(dde_sampledev_drom_data.device\);)149.4 635 Q
(scale[0] = 2./\(clipvol->fur[0]-clipvol->bll[0]\);)84.6 657 Q
(scale[1] = 2./\(clipvol->fur[1]-clipvol->bll[1]\);)84.6 668 Q
(scale[2] = 1./\(clipvol->fur[2]-clipvol->bll[2]\);)84.6 679 Q
(trans[0] = -scale[0])84.6 701 Q F3(*)A F2(clipvol->bll[0]-1;)A
(trans[1] = -scale[1])84.6 712 Q F3(*)A F2(clipvol->bll[1]-1;)A 1.44 LW 81 756
63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756
DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL
243 756 225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315
756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756
369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL
464.4 756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756
500.4 756 DL 536.4 756 518.4 756 DL/F4 9/Helvetica@0 SF(Sample De)300.348
768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>
424.798 768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G
(uide)487.371 768.96 Q/F5 9/Helvetica-Bold@0 SF(11-147)4.002 E EP
%%Page: 148 28
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)72 57.6 Q(DR)72
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(trans[2] = -scale[2])243.1 107 Q/F3 9/Symbol SF(*)A F2
(clipvol->fur[2];)A(ddr_sampledev_matrix_scale)243.1 129 Q
(\(camdat->wcstofcsmat,)307.9 140 Q(scale[0], scale[1], scale[2],)313.3 151 Q
(DcPostConcatenate\);)307.9 162 Q(ddr_sampledev_matrix_translate)243.1 184 Q
(\(camdat->wcstofcsmat,)307.9 195 Q(trans[0], trans[1], trans[2],)313.3 206 Q
(DcPostConcatenate\);)313.3 217 Q .16 LW 223.4 243 221.4 243 DL 225.4 243 223.4
243 DL 227.4 243 225.4 243 DL 229.4 243 227.4 243 DL 231.4 243 229.4 243 DL
233.4 243 231.4 243 DL 235.4 243 233.4 243 DL 237.4 243 235.4 243 DL 239.4 243
237.4 243 DL 241.4 243 239.4 243 DL 243.4 243 241.4 243 DL 245.4 243 243.4 243
DL 247.4 243 245.4 243 DL 249.4 243 247.4 243 DL 251.4 243 249.4 243 DL 253.4
243 251.4 243 DL 255.4 243 253.4 243 DL 257.4 243 255.4 243 DL 259.4 243 257.4
243 DL 261.4 243 259.4 243 DL 263.4 243 261.4 243 DL 265.4 243 263.4 243 DL
267.4 243 265.4 243 DL 269.4 243 267.4 243 DL 271.4 243 269.4 243 DL 273.4 243
271.4 243 DL 275.4 243 273.4 243 DL 277.4 243 275.4 243 DL 279.4 243 277.4 243
DL 281.4 243 279.4 243 DL 283.4 243 281.4 243 DL 285.4 243 283.4 243 DL 287.4
243 285.4 243 DL 289.4 243 287.4 243 DL 291.4 243 289.4 243 DL 293.4 243 291.4
243 DL 295.4 243 293.4 243 DL 297.4 243 295.4 243 DL 299.4 243 297.4 243 DL
301.4 243 299.4 243 DL 303.4 243 301.4 243 DL 305.4 243 303.4 243 DL 307.4 243
305.4 243 DL 309.4 243 307.4 243 DL 311.4 243 309.4 243 DL 313.4 243 311.4 243
DL 315.4 243 313.4 243 DL 317.4 243 315.4 243 DL 319.4 243 317.4 243 DL 321.4
243 319.4 243 DL 323.4 243 321.4 243 DL 325.4 243 323.4 243 DL 327.4 243 325.4
243 DL 329.4 243 327.4 243 DL 331.4 243 329.4 243 DL 333.4 243 331.4 243 DL
335.4 243 333.4 243 DL 337.4 243 335.4 243 DL 339.4 243 337.4 243 DL 341.4 243
339.4 243 DL 343.4 243 341.4 243 DL 345.4 243 343.4 243 DL 347.4 243 345.4 243
DL 349.4 243 347.4 243 DL 351.4 243 349.4 243 DL 353.4 243 351.4 243 DL 355.4
243 353.4 243 DL 357.4 243 355.4 243 DL 359.4 243 357.4 243 DL 361.4 243 359.4
243 DL 363.4 243 361.4 243 DL 365.4 243 363.4 243 DL 367.4 243 365.4 243 DL
369.4 243 367.4 243 DL 371.4 243 369.4 243 DL 373.4 243 371.4 243 DL 375.4 243
373.4 243 DL 377.4 243 375.4 243 DL 379.4 243 377.4 243 DL 381.4 243 379.4 243
DL 383.4 243 381.4 243 DL 385.4 243 383.4 243 DL 387.4 243 385.4 243 DL 389.4
243 387.4 243 DL 391.4 243 389.4 243 DL 393.4 243 391.4 243 DL 395.4 243 393.4
243 DL 397.4 243 395.4 243 DL 399.4 243 397.4 243 DL 401.4 243 399.4 243 DL
403.4 243 401.4 243 DL 405.4 243 403.4 243 DL 407.4 243 405.4 243 DL 409.4 243
407.4 243 DL 411.4 243 409.4 243 DL 413.4 243 411.4 243 DL 415.4 243 413.4 243
DL 417.4 243 415.4 243 DL 419.4 243 417.4 243 DL 421.4 243 419.4 243 DL 423.4
243 421.4 243 DL 425.4 243 423.4 243 DL 427.4 243 425.4 243 DL 429.4 243 427.4
243 DL 431.4 243 429.4 243 DL 433.4 243 431.4 243 DL 435.4 243 433.4 243 DL
437.4 243 435.4 243 DL 439.4 243 437.4 243 DL 441.4 243 439.4 243 DL 443.4 243
441.4 243 DL 445.4 243 443.4 243 DL 447.4 243 445.4 243 DL 449.4 243 447.4 243
DL 451.4 243 449.4 243 DL 453.4 243 451.4 243 DL 455.4 243 453.4 243 DL 457.4
243 455.4 243 DL 459.4 243 457.4 243 DL 461.4 243 459.4 243 DL 463.4 243 461.4
243 DL 465.4 243 463.4 243 DL 467.4 243 465.4 243 DL 469.4 243 467.4 243 DL
471.4 243 469.4 243 DL 473.4 243 471.4 243 DL 475.4 243 473.4 243 DL 477.4 243
475.4 243 DL 479.4 243 477.4 243 DL 481.4 243 479.4 243 DL 483.4 243 481.4 243
DL 485.4 243 483.4 243 DL 487.4 243 485.4 243 DL 489.4 243 487.4 243 DL 491.4
243 489.4 243 DL 493.4 243 491.4 243 DL 495.4 243 493.4 243 DL 497.4 243 495.4
243 DL 499.4 243 497.4 243 DL 501.4 243 499.4 243 DL 503.4 243 501.4 243 DL
505.4 243 503.4 243 DL 507.4 243 505.4 243 DL 509.4 243 507.4 243 DL 511.4 243
509.4 243 DL 513.4 243 511.4 243 DL 515.4 243 513.4 243 DL 517.4 243 515.4 243
DL 519.4 243 517.4 243 DL 521.4 243 519.4 243 DL 523.4 243 521.4 243 DL 525.4
243 523.4 243 DL 527.4 243 525.4 243 DL 529.4 243 527.4 243 DL 531.4 243 529.4
243 DL 533.4 243 531.4 243 DL 535.4 243 533.4 243 DL 537.4 243 535.4 243 DL
539.4 243 537.4 243 DL 541.4 243 539.4 243 DL 543.4 243 541.4 243 DL 545.4 243
543.4 243 DL 1.44 LW 90 243.5 72 243.5 DL 99 243.5 81 243.5 DL 117 243.5 99
243.5 DL 135 243.5 117 243.5 DL 153 243.5 135 243.5 DL 171 243.5 153 243.5 DL
189 243.5 171 243.5 DL 207 243.5 189 243.5 DL/F4 12/Helvetica-Oblique@0 SF
(Control Routines)72 257.5 Q/F5 11/Palatino-Roman@0 SF .533(The contr)221.5
271.6 R .533(ol r)-.198 F .533(outines for the DROM ar)-.198 F 3.282(ec)-.198 G
.532(alled to initiate a particu-)421.019 271.6 R .141(lar sequence in the r)
221.5 284.8 R .141(endering pr)-.198 F 2.891(ocess. The)-.198 F(contr)2.892 E
.142(ol functions of the)-.198 F(minimal DROM ar)221.5 298 Q(e:)-.198 E/F6 11
/Palatino-Italic@0 SF(dr)261.5 315.4 Q(om.start_update)-.198 E(dr)261.5 328.6 Q
(om.update_local_data)-.198 E(dr)261.5 341.8 Q(om.update_studio)-.198 E(dr)
261.5 355 Q(om.update_display)-.198 E F5(The)221.5 384.4 Q F6(dr)3.588 E
(om.start_update)-.198 E F5 -.198(ro)3.588 G .838
(utine passes to the DROM the pointers to).198 F .102
(the local data it should use for the update.)221.5 397.6 R .103
(For the sample DROM,)5.602 F(these ar)221.5 410.8 Q 2.75(ea)-.198 G
(ssigned to global variables.)272.606 410.8 Q F2(void)221.5 433.8 Q
(ddr_sampledev_drom_start_update \(device, view, device_data,)221.5 444.8 Q
(view_data, window_data\))394.3 455.8 Q(DtObject device;)221.5 466.8 Q
(DtObject view;)221.5 477.8 Q(DtPtr device_data;)221.5 488.8 Q
(DtPtr view_data;)221.5 499.8 Q(DtPtr window_data;)221.5 510.8 Q({)221.5 521.8
Q(dde_sampledev_drom_data.device = device;)243.1 532.8 Q
(dde_sampledev_drom_data.view = view;)243.1 543.8 Q
(dde_sampledev_drom_curdevdat = device_data;)243.1 554.8 Q
(dde_sampledev_drom_curviwdat = view_data;)243.1 565.8 Q
(dde_sampledev_drom_curwindat = window_data;)243.1 576.8 Q
(dde_sampledev_drom_curcamdat =)243.1 587.8 Q
(&\(dde_sampledev_drom_curviwdat->camera_data\);)264.7 598.8 Q(})221.5 609.8 Q
F5(The)221.5 635 Q F6(dr)253.759 635 Q(om.update_local_data)-.198 E F5 -.198
(ro)373.611 635 S 11.094(utine will be called after).198 F F6(dr)221.5 648.2 Q
(om.start_update)-.198 E F5 6.223(.I)C 3.473(tq)316.163 648.2 S .723
(ueries the device and view for data that the)329.382 648.2 R 2.019
(DROM needs to stor)221.5 661.4 R 4.769(el)-.198 G(ocally)340.281 661.4 Q 7.519
(.F)-1.221 G 2.019(or the device this includes data)384.353 661.4 R 2.757
(such as the actual viewport, the fr)221.5 674.6 R 2.758
(ustum-to-device scaling and)-.088 F 3.869
(translation parameters, and the visual type.)221.5 687.8 R 3.869(For the view)
9.369 F 6.619(,i)-1.012 G(t)541.914 687.8 Q 1.363(includes the backgr)221.5 701
R 1.364(ound color and justi\214cation and the status of)-.198 F
(the clear \215ag.)221.5 714.2 Q 90 756 72 756 DL 99 756 81 756 DL 117 756 99
756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756
DL 207 756 189 756 DL 239.4 756 221.4 756 DL 257.4 756 239.4 756 DL 275.4 756
257.4 756 DL 293.4 756 275.4 756 DL 311.4 756 293.4 756 DL 329.4 756 311.4 756
DL 347.4 756 329.4 756 DL 365.4 756 347.4 756 DL 383.4 756 365.4 756 DL 401.4
756 383.4 756 DL 419.4 756 401.4 756 DL 437.4 756 419.4 756 DL 455.4 756 437.4
756 DL 473.4 756 455.4 756 DL 491.4 756 473.4 756 DL 509.4 756 491.4 756 DL
527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F7 9/Helvetica-Bold@0 SF(11-148)
72 768.96 Q/F8 9/Helvetica@0 SF(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187
-.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q
(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 149 29
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)401.92 57.6 Q(DR)506.05
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(void)63 107 Q(ddr_sampledev_drom_update_local_data\(\))63 118 Q
({)63 129 Q 32.4(DtInt shaderange[2];)84.6 140 R(DtVolume)84.6 151 Q/F3 9
/Symbol SF(*)5.4 E F2(actviewport;)149.4 151 Q(/)84.6 173 Q F3(*)A(*)90 184 Q
F2(Store active viewport)5.4 E F3(*)90 195 Q F2(/)A
(actviewport = DDdevice_InqActualViewport)84.6 217 Q
(\(dde_sampledev_drom_data.device\);)149.4 228 Q
(dde_sampledev_drom_curwindat->actviewxmin =)84.6 250 Q(actviewport->bll[0];)
149.4 261 Q(dde_sampledev_drom_curwindat->actviewymin =)84.6 272 Q
(actviewport->bll[1];)149.4 283 Q(dde_sampledev_drom_curwindat->actviewxmax =)
84.6 294 Q(actviewport->fur[0];)149.4 305 Q
(dde_sampledev_drom_curwindat->actviewymax =)84.6 316 Q(actviewport->fur[1];)
149.4 327 Q(/)84.6 349 Q F3(*)A(*)90 360 Q F2(Store stereo flag)5.4 E F3(*)90
371 Q F2(/)A(dde_sampledev_drom_curdevdat->stereoflag =)84.6 393 Q
(DDdevice_InqStereo\(dde_sampledev_drom_data.device\);)106.2 404 Q(/)84.6 426 Q
F3(*)A F2(Store frustum-to-device scale and translate values,)5.4 E F3(*)90 437
Q F2(and compute frame coordinate geometry scaling \(for)5.4 E F3(*)90 448 Q F2
(annotation text and poly markers\))5.4 E F3(*)90 459 Q F2(/)A
(DDdevice_InqFrustumScaleTrans)84.6 481 Q(\(dde_sampledev_drom_data.device,)
127.8 492 Q(dde_sampledev_drom_curdevdat->ctodscale,)133.2 503 Q
(dde_sampledev_drom_curdevdat->ctodtrans\);)133.2 514 Q
(DDdevice_InqFrameScaleTrans)84.6 536 Q(\(dde_sampledev_drom_data.device,)127.8
547 Q(dde_sampledev_drom_curdevdat->ftodscale,)133.2 558 Q
(dde_sampledev_drom_curdevdat->ftodtrans\);)133.2 569 Q
(dde_sampledev_drom_curdevdat->annoscale[0] =)84.6 591 Q
(dde_sampledev_drom_curdevdat->ftodscale[0] /)127.8 602 Q
(dde_sampledev_drom_curdevdat->ctodscale[0];)149.4 613 Q
(dde_sampledev_drom_curdevdat->annoscale[1] =)84.6 624 Q
(dde_sampledev_drom_curdevdat->ftodscale[1] /)127.8 635 Q
(dde_sampledev_drom_curdevdat->ctodscale[1];)149.4 646 Q
(dde_sampledev_drom_curdevdat->annoscale[2] =)84.6 657 Q
(dde_sampledev_drom_curdevdat->ftodscale[2] /)127.8 668 Q
(dde_sampledev_drom_curdevdat->ctodscale[2];)149.4 679 Q(/)84.6 701 Q F3(*)A(*)
90 712 Q F2(Store view clear flag)5.4 E 1.44 LW 81 756 63 756 DL 99 756 81 756
DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL
189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756 225 756 DL 261
756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297 756 DL 333 756
315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756 DL 419.4 756
401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4 756 446.4 756
DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4 756 DL 536.4
756 518.4 756 DL/F4 9/Helvetica@0 SF(Sample De)300.348 768.96 Q(vice Dr)-.27 E
(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798 768.96 S -2.187
-.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)487.371 768.96 Q
/F5 9/Helvetica-Bold@0 SF(11-149)4.002 E EP
%%Page: 150 30
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)72 57.6 Q(DR)72
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 9/Symbol
SF(*)237.701 107 Q/F3 9/Courier@0 SF(/)A
(dde_sampledev_drom_curviwdat->clear_flag =)232.301 129 Q
(DvInqClearFlag\(dde_sampledev_drom_data.view\);)275.501 140 Q(/)232.301 162 Q
F2(*)A(*)237.701 173 Q F3(Store view background color and justification.)5.4 E
F2(*)237.701 184 Q F3(/)A(DvInqBackgroundColor)232.301 206 Q
(\(dde_sampledev_drom_data.view,)248.501 217 Q
(&dde_sampledev_drom_curviwdat->background_color_model,)253.901 228 Q
(dde_sampledev_drom_curviwdat->background_color\);)253.901 239 Q
(DvInqBackgroundJust)232.301 250 Q(\(dde_sampledev_drom_data.view,)248.501 261
Q(&dde_sampledev_drom_curviwdat->background_just[0],)253.901 272 Q
(&dde_sampledev_drom_curviwdat->background_just[1]\);)253.901 283 Q(/)232.301
305 Q F2(*)A(*)237.701 316 Q F3(Store device shade index, mode and visual type)
5.4 E F2(*)237.701 327 Q F3(/)A(dde_sampledev_drom_curviwdat->shade_index =)
232.301 349 Q(DvInqShadeIndex\(dde_sampledev_drom_data.view\);)275.501 360 Q
(dde_sampledev_drom_curdevdat->shade_mode =)232.301 382 Q
(DdInqShadeMode \(dde_sampledev_drom_data.device\);)275.501 393 Q
(dde_sampledev_drom_curdevdat->visual_type =)232.301 415 Q
(DdInqVisualType \(dde_sampledev_drom_data.device\);)275.501 426 Q(})210.701
437 Q/F4 11/Palatino-Roman@0 SF(The)221.5 462.2 Q/F5 11/Palatino-Italic@0 SF
(dr)6.922 E(om.update_studio)-.198 E F4 -.198(ro)6.922 G 4.173
(utine is called to initiate the studio).198 F .333
(traversal and determine the cameras and lights.)221.5 475.4 R -1.012(Yo)5.833
G 3.083(uh)1.012 G .333(ave alr)488.979 475.4 R(eady)-.198 E 4.337
(seen most of this r)221.5 488.6 R 4.338(outine in the section)-.198 F F5 4.338
(The Camera and Its)7.088 F(Attributes)221.5 501.8 Q F4 6.997(.A)C 1.497
(fter the traversal is completed the computations for)285.84 501.8 R
(the camera ar)221.5 515 Q 2.75(ep)-.198 G(erformed.)301.745 515 Q F3(void)
221.5 538 Q(ddr_sampledev_drom_update_studio\(traverse_studio\))221.5 549 Q
(DtPFI traverse_studio;)221.5 560 Q({)221.5 571 Q(static DtReal lcscamloc[4])
243.1 582 Q 5.4(={0)394.3 582 S(., 0., 0., 1.};)421.3 582 Q
(static DtReal lcscamnorm[4] = { 0., 0., 1., 1.};)243.1 593 Q
(DtReal wcscamloc[4];)243.1 604 Q(DtReal wcscamnorm[4];)243.1 615 Q
(DtMatrix4x4 matrix;)243.1 626 Q(DtVolume)243.1 637 Q F2(*)5.4 E F3
(clipvolume;)A(DtVolume viewboundary;)243.1 648 Q(DtReal xres, yres;)243.1 659
Q(DtReal scale[3];)243.1 670 Q(DtReal trans[3];)243.1 681 Q(/)243.1 703 Q F2(*)
A 1.44 LW 90 756 72 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756
DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL
239.4 756 221.4 756 DL 257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756
275.4 756 DL 311.4 756 293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756
DL 365.4 756 347.4 756 DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4
756 401.4 756 DL 437.4 756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4
756 DL 491.4 756 473.4 756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL
545.4 756 527.4 756 DL/F6 9/Helvetica-Bold@0 SF(11-150)72 768.96 Q/F7 9
/Helvetica@0 SF(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187 -.27(ev e)
135.024 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q(Sample De)
221.4 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 151 31
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)401.92 57.6 Q(DR)506.05
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 9
/Symbol SF(*)90 107 Q/F3 9/Courier@0 SF
(Initialize the total number of lights to zero)5.4 E F2(*)90 118 Q F3(/)A
(dde_sampledev_drom_curviwdat->total_lights = 0;)84.6 140 Q(/)84.6 162 Q F2(*)A
(*)90 173 Q F3(Traverse the studio group)5.4 E F2(*)90 184 Q F3(/)A(\()84.6 206
Q F2(*)A F3(traverse_studio\)\(\);)A(/)84.6 228 Q F2(*)A(*)90 239 Q F3
(Compute camera and transformation data)5.4 E(.)106.2 250 Q 10.8(.\()106.2 261
S(see The Camera and Its Attributes\))127.8 261 Q(.)106.2 272 Q F2(*)90 283 Q
F3(/)A(})63 294 Q/F4 11/Palatino-Roman@0 SF 2.158
(The display traversal and the actual generation of the image is)63 319.2 R
.936(done fr)63 332.4 R .936(om the)-.198 F/F5 11/Palatino-Italic@0 SF(dr)3.686
E(om.update_display)-.198 E F4 6.436(.B)C(efor)246.143 332.4 Q 3.686(et)-.198 G
.935(he display traversal is)277.769 332.4 R 1.454(initiated, you need to pr)63
345.6 R(epar)-.198 E 4.204(et)-.198 G 1.455(he backgr)220.585 345.6 R 1.455
(ound of the view if the)-.198 F .335(clear \215ag is set.)63 358.8 R .335
(The backgr)5.835 F .335(ound of the view may include a raster)-.198 F(.)-.814
E 2.366(In the sample DROM, the)63 372 R F5
(ddr_sampledev_dcm_write_scanline_byte)5.117 E F4 -.198(ro)63 385.2 S 3.064
(utine of the DCM is used to actually draw the backgr).198 F(ound)-.198 E
(raster)63 398.4 Q 7.359(.Y)-.814 G 1.86
(ou should note that for simplicity the sample only dis-)106.329 398.4 R 2.607
(plays backgr)63 411.6 R 2.607(ound rasters that ar)-.198 F 5.356(ei)-.198 G(n)
244.047 411.6 Q F5(DcRasterRGB)5.356 E F4 5.356(format. The)5.356 F .257
(sample uses the backgr)63 424.8 R .257
(ound justi\214cation to place the raster within)-.198 F 1.555(the view ar)63
438 R 1.555(ea when ther)-.198 F 4.304(ei)-.198 G 4.304(sam)199.176 438 S 1.554
(ismatch between the size of the)227.661 438 R
(raster and the view as mapped onto the device.)63 451.2 Q F3(void)63 474.2 Q
(ddr_sampledev_drom_update_display\(traverse_display\))63 485.2 Q
(DtPFI traverse_display;)63 496.2 Q({)63 507.2 Q(DtInt vwidth, vheight;)84.6
518.2 Q(DtObject raster_object;)84.6 529.2 Q(DtInt deltax, deltay;)84.6 540.2 Q
(DtInt offsetx, offsety;)84.6 551.2 Q(DtInt rwidth, rheight, rdepth;)84.6 562.2
Q(DtInt width, height;)84.6 573.2 Q(DtRasterType rtype;)84.6 584.2 Q
(DtPtr rtypestring;)84.6 595.2 Q(DtPtr data;)84.6 606.2 Q(DtInt x, y;)84.6
617.2 Q(ddt_sampledev_drom_view)84.6 628.2 Q F2(*)5.4 E F3(viwdat;)A
(ddt_sampledev_drom_window)84.6 639.2 Q F2(*)5.4 E F3(windat;)A
(viwdat = dde_sampledev_drom_curviwdat;)84.6 661.2 Q
(windat = dde_sampledev_drom_curwindat;)84.6 672.2 Q
(if \(viwdat->clear_flag\) {)84.6 694.2 Q(/)106.2 705.2 Q F2(*)A 1.44 LW 81 756
63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756
DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL
243 756 225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315
756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756
369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL
464.4 756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756
500.4 756 DL 536.4 756 518.4 756 DL/F6 9/Helvetica@0 SF(Sample De)300.348
768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>
424.798 768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G
(uide)487.371 768.96 Q/F7 9/Helvetica-Bold@0 SF(11-151)4.002 E EP
%%Page: 152 32
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)72 57.6 Q(DR)72
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E/F2 9/Symbol
SF(*)264.701 107 Q/F3 9/Courier@0 SF
(Clear the view to the background color and)5.4 E F2(*)264.701 118 Q F3
(draw the background raster if it exists.)5.4 E F2(*)264.701 129 Q F3(/)A
(DDdevice_SetBackgroundColor)259.301 151 Q(\(dde_sampledev_drom_data.device,)
302.501 162 Q(viwdat->background_color_model,)307.901 173 Q
(viwdat->background_color\);)307.901 184 Q(DDdevice_ClearRectangleDepthColor)
259.301 195 Q(\(dde_sampledev_drom_data.device,)302.501 206 Q
(\(DtShort\)windat->actviewxmin,)307.901 217 Q(\(DtShort\)windat->actviewymin,)
307.901 228 Q(\(DtShort\)windat->actviewxmax,)307.901 239 Q
(\(DtShort\)windat->actviewymax\);)307.901 250 Q
(vwidth = \(windat->actviewxmax-windat->actviewxmin\);)259.301 272 Q
(vheight = \(windat->actviewymax-windat->actviewymin\);)259.301 283 Q
(raster_object = DDview_ResizeRaster)259.301 305 Q
(\(dde_sampledev_drom_data.view,)302.501 316 Q(vwidth, vheight\);)307.901 327 Q
(if \(raster_object != \(DtObject\)0\) {)259.301 349 Q
(if \(DsInqObjType\(raster_object\) ==)280.901 371 Q
(DsInqClassId\("DoRaster"\)\) {)302.501 382 Q
(DsInqRaster \(raster_object, &rwidth,)302.501 393 Q(&rheight, &rdepth,)372.701
404 Q(&rtype, &rtypestring, &data\);)372.701 415 Q
(if \(rtype == DcRasterRGB\) {)302.501 437 Q(/)324.101 448 Q F2(*)A(*)329.501
459 Q F3(The sample only deals with RGB)5.4 E F2(*)329.501 470 Q F3
(rasters and ignores all other)5.4 E F2(*)329.501 481 Q F3
(rasters for backgrounds.)5.4 E F2(*)329.501 492 Q F3
(Compute how the background is)5.4 E F2(*)329.501 503 Q F3
(aligned to the view.)5.4 E F2(*)329.501 514 Q F3(/)A
(deltax = \(vwidth - rwidth\);)324.101 536 Q(deltay = \(vheight - rheight\);)
324.101 547 Q(offsetx =)324.101 558 Q(deltax)345.701 569 Q F2(*)A F3
(viwdat->background_just[0];)A(offsety = deltay)324.101 580 Q F2(*)A F3
(\(1.0 -)A(viwdat->background_just[1]\);)345.701 591 Q(if \(deltay < 0\) {)
324.101 613 Q(/)345.701 624 Q F2(*)A(*)351.101 635 Q F3
(The raster is bigger in y than)5.4 E F2(*)351.101 646 Q F3
(the view. Offset into the)5.4 E F2(*)351.101 657 Q F3
(data to get the starting)5.4 E F2(*)351.101 668 Q F3
(scanline, and reduce the height)5.4 E F2(*)351.101 679 Q F3
(of the raster to be written.)5.4 E F2(*)351.101 690 Q F3(/)A
(data = \(DtPtr\)\(\(int\)\(data\) +)345.701 712 Q 1.44 LW 90 756 72 756 DL 99
756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756
153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756 221.4 756 DL 257.4
756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756 DL 311.4 756 293.4
756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4 756 347.4 756 DL
383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4 756 DL 437.4 756
419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL 491.4 756 473.4 756
DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F4 9
/Helvetica-Bold@0 SF(11-152)72 768.96 Q/F5 9/Helvetica@0 SF(Dore)6.504 E 3.506
<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)
-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E
(er)-.225 E EP
%%Page: 153 33
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)401.92 57.6 Q(DR)506.05
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)486.48 79.2 Q(ued\))-.1 E/F2 9
/Courier@0 SF(\(-offsety\))235.8 107 Q/F3 9/Symbol SF(*)A F2(rwidth)A F3(*)A F2
(3\);)A(height = rheight + deltay;)192.6 118 Q(offsety = 0;)192.6 129 Q 5.4(}e)
171 140 S(lse {)187.2 140 Q(height = rheight;)192.6 151 Q(})171 162 Q
(if \(deltax < 0\) {)171 184 Q(/)192.6 195 Q F3(*)A(*)198 206 Q F2
(The raster is bigger in x than)5.4 E F3(*)198 217 Q F2(the view.)5.4 E
(Offset into the)267.3 217 Q F3(*)198 228 Q F2(data to get the starting pixel,)
5.4 E F3(*)198 239 Q F2(and reduce the width of the)5.4 E F3(*)198 250 Q F2
(raster to be written.)5.4 E F3(*)198 261 Q F2(/)A
(data = \(DtPtr\)\(\(int\)\(data\) +)192.6 283 Q(\(-offsetx\))235.8 294 Q F3(*)
A F2(3\);)A(width = rwidth + deltax;)192.6 305 Q(offsetx = 0;)192.6 316 Q 5.4
(}e)171 327 S(lse {)187.2 327 Q(width = rwidth;)192.6 338 Q(})171 349 Q(/)171
371 Q F3(*)A(*)176.4 382 Q F2(Rasters have their origin at the)5.4 E F3(*)176.4
393 Q F2(upper left hand corner of the raster,)5.4 E F3(*)176.4 404 Q F2
(while the view coordinates have)5.4 E F3(*)176.4 415 Q F2
(positive y extending up.)5.4 E F3(*)176.4 426 Q F2
(You must compensate for the)5.4 E F3(*)176.4 437 Q F2
(difference in coordinate systems)5.4 E F3(*)176.4 448 Q F2(/)A 5.4(x=w)171 459
S(indat->actviewxmin + offsetx;)198 459 Q 5.4(y=w)171 470 S
(indat->actviewymax - offsety;)198 470 Q
(for \(; height > 0 ; height--, y--\) {)171 492 Q
(ddr_sampledev_dcm_write_scanline_byte)192.6 503 Q(\(x, y, width, data\);)235.8
514 Q(data = \(DtPtr\)\(\(int\)\(data\) +)192.6 525 Q(rwidth)284.4 536 Q F3(*)A
F2(3\);)A(})171 547 Q(})149.4 558 Q(})127.8 569 Q(})106.2 580 Q(})84.6 591 Q(/)
84.6 613 Q F3(*)A(*)90 624 Q F2(Traverse the display group)5.4 E F3(*)90 635 Q
F2(/)A(\()84.6 657 Q F3(*)A F2(traverse_display\) \(\);)A(})63 668 Q 1.44 LW 81
756 63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135
756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756
DL 243 756 225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL
315 756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387
756 369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4
756 DL 464.4 756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL
518.4 756 500.4 756 DL 536.4 756 518.4 756 DL/F4 9/Helvetica@0 SF(Sample De)
300.348 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q
3.506<b444>424.798 768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E
2.502(sG)-.45 G(uide)487.371 768.96 Q/F5 9/Helvetica-Bold@0 SF(11-153)4.002 E
EP
%%Page: 154 34
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 6: Implement a Minimal)72 57.6 Q(DR)72
68.4 Q(OM)-.2 E/F1 10/Helvetica@0 SF(\(contin)72 79.2 Q(ued\))-.1 E .16 LW
223.4 110 221.4 110 DL 225.4 110 223.4 110 DL 227.4 110 225.4 110 DL 229.4 110
227.4 110 DL 231.4 110 229.4 110 DL 233.4 110 231.4 110 DL 235.4 110 233.4 110
DL 237.4 110 235.4 110 DL 239.4 110 237.4 110 DL 241.4 110 239.4 110 DL 243.4
110 241.4 110 DL 245.4 110 243.4 110 DL 247.4 110 245.4 110 DL 249.4 110 247.4
110 DL 251.4 110 249.4 110 DL 253.4 110 251.4 110 DL 255.4 110 253.4 110 DL
257.4 110 255.4 110 DL 259.4 110 257.4 110 DL 261.4 110 259.4 110 DL 263.4 110
261.4 110 DL 265.4 110 263.4 110 DL 267.4 110 265.4 110 DL 269.4 110 267.4 110
DL 271.4 110 269.4 110 DL 273.4 110 271.4 110 DL 275.4 110 273.4 110 DL 277.4
110 275.4 110 DL 279.4 110 277.4 110 DL 281.4 110 279.4 110 DL 283.4 110 281.4
110 DL 285.4 110 283.4 110 DL 287.4 110 285.4 110 DL 289.4 110 287.4 110 DL
291.4 110 289.4 110 DL 293.4 110 291.4 110 DL 295.4 110 293.4 110 DL 297.4 110
295.4 110 DL 299.4 110 297.4 110 DL 301.4 110 299.4 110 DL 303.4 110 301.4 110
DL 305.4 110 303.4 110 DL 307.4 110 305.4 110 DL 309.4 110 307.4 110 DL 311.4
110 309.4 110 DL 313.4 110 311.4 110 DL 315.4 110 313.4 110 DL 317.4 110 315.4
110 DL 319.4 110 317.4 110 DL 321.4 110 319.4 110 DL 323.4 110 321.4 110 DL
325.4 110 323.4 110 DL 327.4 110 325.4 110 DL 329.4 110 327.4 110 DL 331.4 110
329.4 110 DL 333.4 110 331.4 110 DL 335.4 110 333.4 110 DL 337.4 110 335.4 110
DL 339.4 110 337.4 110 DL 341.4 110 339.4 110 DL 343.4 110 341.4 110 DL 345.4
110 343.4 110 DL 347.4 110 345.4 110 DL 349.4 110 347.4 110 DL 351.4 110 349.4
110 DL 353.4 110 351.4 110 DL 355.4 110 353.4 110 DL 357.4 110 355.4 110 DL
359.4 110 357.4 110 DL 361.4 110 359.4 110 DL 363.4 110 361.4 110 DL 365.4 110
363.4 110 DL 367.4 110 365.4 110 DL 369.4 110 367.4 110 DL 371.4 110 369.4 110
DL 373.4 110 371.4 110 DL 375.4 110 373.4 110 DL 377.4 110 375.4 110 DL 379.4
110 377.4 110 DL 381.4 110 379.4 110 DL 383.4 110 381.4 110 DL 385.4 110 383.4
110 DL 387.4 110 385.4 110 DL 389.4 110 387.4 110 DL 391.4 110 389.4 110 DL
393.4 110 391.4 110 DL 395.4 110 393.4 110 DL 397.4 110 395.4 110 DL 399.4 110
397.4 110 DL 401.4 110 399.4 110 DL 403.4 110 401.4 110 DL 405.4 110 403.4 110
DL 407.4 110 405.4 110 DL 409.4 110 407.4 110 DL 411.4 110 409.4 110 DL 413.4
110 411.4 110 DL 415.4 110 413.4 110 DL 417.4 110 415.4 110 DL 419.4 110 417.4
110 DL 421.4 110 419.4 110 DL 423.4 110 421.4 110 DL 425.4 110 423.4 110 DL
427.4 110 425.4 110 DL 429.4 110 427.4 110 DL 431.4 110 429.4 110 DL 433.4 110
431.4 110 DL 435.4 110 433.4 110 DL 437.4 110 435.4 110 DL 439.4 110 437.4 110
DL 441.4 110 439.4 110 DL 443.4 110 441.4 110 DL 445.4 110 443.4 110 DL 447.4
110 445.4 110 DL 449.4 110 447.4 110 DL 451.4 110 449.4 110 DL 453.4 110 451.4
110 DL 455.4 110 453.4 110 DL 457.4 110 455.4 110 DL 459.4 110 457.4 110 DL
461.4 110 459.4 110 DL 463.4 110 461.4 110 DL 465.4 110 463.4 110 DL 467.4 110
465.4 110 DL 469.4 110 467.4 110 DL 471.4 110 469.4 110 DL 473.4 110 471.4 110
DL 475.4 110 473.4 110 DL 477.4 110 475.4 110 DL 479.4 110 477.4 110 DL 481.4
110 479.4 110 DL 483.4 110 481.4 110 DL 485.4 110 483.4 110 DL 487.4 110 485.4
110 DL 489.4 110 487.4 110 DL 491.4 110 489.4 110 DL 493.4 110 491.4 110 DL
495.4 110 493.4 110 DL 497.4 110 495.4 110 DL 499.4 110 497.4 110 DL 501.4 110
499.4 110 DL 503.4 110 501.4 110 DL 505.4 110 503.4 110 DL 507.4 110 505.4 110
DL 509.4 110 507.4 110 DL 511.4 110 509.4 110 DL 513.4 110 511.4 110 DL 515.4
110 513.4 110 DL 517.4 110 515.4 110 DL 519.4 110 517.4 110 DL 521.4 110 519.4
110 DL 523.4 110 521.4 110 DL 525.4 110 523.4 110 DL 527.4 110 525.4 110 DL
529.4 110 527.4 110 DL 531.4 110 529.4 110 DL 533.4 110 531.4 110 DL 535.4 110
533.4 110 DL 537.4 110 535.4 110 DL 539.4 110 537.4 110 DL 541.4 110 539.4 110
DL 543.4 110 541.4 110 DL 545.4 110 543.4 110 DL 1.44 LW 90 110.5 72 110.5 DL
99 110.5 81 110.5 DL 117 110.5 99 110.5 DL 135 110.5 117 110.5 DL 153 110.5 135
110.5 DL 171 110.5 153 110.5 DL 189 110.5 171 110.5 DL 207 110.5 189 110.5 DL
/F2 12/Helvetica-Oblique@0 SF -2.976(Geometr y)72 124.5 R(Routines)3.336 E/F3
11/Palatino-Roman@0 SF 1.369(The geometry r)221.5 138.6 R 1.369
(outines, like the output r)-.198 F 1.369(outines of the DCM, ar)-.198 F(e)
-.198 E(device speci\214c.)221.5 151.8 Q(These r)5.5 E(outines ar)-.198 E(e:)
-.198 E/F4 11/Palatino-Italic@0 SF(dr)261.5 169.2 Q(om.r)-.198 E
(ender_point_list)-.198 E(dr)261.5 182.4 Q(om.r)-.198 E(ender_line_list)-.198 E
(dr)261.5 195.6 Q(om.r)-.198 E(ender_connected_line_list)-.198 E(dr)261.5 208.8
Q(om.r)-.198 E(ender_triangle_list)-.198 E(dr)261.5 222 Q(om.r)-.198 E
(ender_triangle_mesh)-.198 E F3 .295(In a r)221.5 238.2 R .295
(eal DROM, these r)-.198 F .296(outines ar)-.198 F 3.046(ew)-.198 G(her)403.396
238.2 Q 3.046(ea)-.198 G .296(ll the actual drawing is)433.029 238.2 R 2.993
(done. In)221.5 251.4 R .243(the minimal DROM, these r)2.993 F .242
(outines would use the)-.198 F F4(lcstofc-)2.992 E(smat)221.5 264.6 Q F3 .486
(matrix to transform the data fr)3.235 F .486(om local coor)-.198 F .486
(dinates to device)-.198 F(coor)221.5 277.8 Q .536
(dinates and draw the geometry without shading.)-.198 F .536(In the sam-)6.036
F(ple driver these r)221.5 291 Q(outines just print out geometry information.)
-.198 E .16 LW 223.4 317 221.4 317 DL 225.4 317 223.4 317 DL 227.4 317 225.4
317 DL 229.4 317 227.4 317 DL 231.4 317 229.4 317 DL 233.4 317 231.4 317 DL
235.4 317 233.4 317 DL 237.4 317 235.4 317 DL 239.4 317 237.4 317 DL 241.4 317
239.4 317 DL 243.4 317 241.4 317 DL 245.4 317 243.4 317 DL 247.4 317 245.4 317
DL 249.4 317 247.4 317 DL 251.4 317 249.4 317 DL 253.4 317 251.4 317 DL 255.4
317 253.4 317 DL 257.4 317 255.4 317 DL 259.4 317 257.4 317 DL 261.4 317 259.4
317 DL 263.4 317 261.4 317 DL 265.4 317 263.4 317 DL 267.4 317 265.4 317 DL
269.4 317 267.4 317 DL 271.4 317 269.4 317 DL 273.4 317 271.4 317 DL 275.4 317
273.4 317 DL 277.4 317 275.4 317 DL 279.4 317 277.4 317 DL 281.4 317 279.4 317
DL 283.4 317 281.4 317 DL 285.4 317 283.4 317 DL 287.4 317 285.4 317 DL 289.4
317 287.4 317 DL 291.4 317 289.4 317 DL 293.4 317 291.4 317 DL 295.4 317 293.4
317 DL 297.4 317 295.4 317 DL 299.4 317 297.4 317 DL 301.4 317 299.4 317 DL
303.4 317 301.4 317 DL 305.4 317 303.4 317 DL 307.4 317 305.4 317 DL 309.4 317
307.4 317 DL 311.4 317 309.4 317 DL 313.4 317 311.4 317 DL 315.4 317 313.4 317
DL 317.4 317 315.4 317 DL 319.4 317 317.4 317 DL 321.4 317 319.4 317 DL 323.4
317 321.4 317 DL 325.4 317 323.4 317 DL 327.4 317 325.4 317 DL 329.4 317 327.4
317 DL 331.4 317 329.4 317 DL 333.4 317 331.4 317 DL 335.4 317 333.4 317 DL
337.4 317 335.4 317 DL 339.4 317 337.4 317 DL 341.4 317 339.4 317 DL 343.4 317
341.4 317 DL 345.4 317 343.4 317 DL 347.4 317 345.4 317 DL 349.4 317 347.4 317
DL 351.4 317 349.4 317 DL 353.4 317 351.4 317 DL 355.4 317 353.4 317 DL 357.4
317 355.4 317 DL 359.4 317 357.4 317 DL 361.4 317 359.4 317 DL 363.4 317 361.4
317 DL 365.4 317 363.4 317 DL 367.4 317 365.4 317 DL 369.4 317 367.4 317 DL
371.4 317 369.4 317 DL 373.4 317 371.4 317 DL 375.4 317 373.4 317 DL 377.4 317
375.4 317 DL 379.4 317 377.4 317 DL 381.4 317 379.4 317 DL 383.4 317 381.4 317
DL 385.4 317 383.4 317 DL 387.4 317 385.4 317 DL 389.4 317 387.4 317 DL 391.4
317 389.4 317 DL 393.4 317 391.4 317 DL 395.4 317 393.4 317 DL 397.4 317 395.4
317 DL 399.4 317 397.4 317 DL 401.4 317 399.4 317 DL 403.4 317 401.4 317 DL
405.4 317 403.4 317 DL 407.4 317 405.4 317 DL 409.4 317 407.4 317 DL 411.4 317
409.4 317 DL 413.4 317 411.4 317 DL 415.4 317 413.4 317 DL 417.4 317 415.4 317
DL 419.4 317 417.4 317 DL 421.4 317 419.4 317 DL 423.4 317 421.4 317 DL 425.4
317 423.4 317 DL 427.4 317 425.4 317 DL 429.4 317 427.4 317 DL 431.4 317 429.4
317 DL 433.4 317 431.4 317 DL 435.4 317 433.4 317 DL 437.4 317 435.4 317 DL
439.4 317 437.4 317 DL 441.4 317 439.4 317 DL 443.4 317 441.4 317 DL 445.4 317
443.4 317 DL 447.4 317 445.4 317 DL 449.4 317 447.4 317 DL 451.4 317 449.4 317
DL 453.4 317 451.4 317 DL 455.4 317 453.4 317 DL 457.4 317 455.4 317 DL 459.4
317 457.4 317 DL 461.4 317 459.4 317 DL 463.4 317 461.4 317 DL 465.4 317 463.4
317 DL 467.4 317 465.4 317 DL 469.4 317 467.4 317 DL 471.4 317 469.4 317 DL
473.4 317 471.4 317 DL 475.4 317 473.4 317 DL 477.4 317 475.4 317 DL 479.4 317
477.4 317 DL 481.4 317 479.4 317 DL 483.4 317 481.4 317 DL 485.4 317 483.4 317
DL 487.4 317 485.4 317 DL 489.4 317 487.4 317 DL 491.4 317 489.4 317 DL 493.4
317 491.4 317 DL 495.4 317 493.4 317 DL 497.4 317 495.4 317 DL 499.4 317 497.4
317 DL 501.4 317 499.4 317 DL 503.4 317 501.4 317 DL 505.4 317 503.4 317 DL
507.4 317 505.4 317 DL 509.4 317 507.4 317 DL 511.4 317 509.4 317 DL 513.4 317
511.4 317 DL 515.4 317 513.4 317 DL 517.4 317 515.4 317 DL 519.4 317 517.4 317
DL 521.4 317 519.4 317 DL 523.4 317 521.4 317 DL 525.4 317 523.4 317 DL 527.4
317 525.4 317 DL 529.4 317 527.4 317 DL 531.4 317 529.4 317 DL 533.4 317 531.4
317 DL 535.4 317 533.4 317 DL 537.4 317 535.4 317 DL 539.4 317 537.4 317 DL
541.4 317 539.4 317 DL 543.4 317 541.4 317 DL 545.4 317 543.4 317 DL 1.44 LW 90
317.5 72 317.5 DL 99 317.5 81 317.5 DL 117 317.5 99 317.5 DL 135 317.5 117
317.5 DL 153 317.5 135 317.5 DL 171 317.5 153 317.5 DL 189 317.5 171 317.5 DL
207 317.5 189 317.5 DL/F5 12/Helvetica-BoldOblique@0 SF(Step 8: Complete the)72
331.5 Q(DR)72 345.5 Q(OM)-.24 E F3 1.088
(This section describes the functions that need to be implemented)221.5 345.6 R
.771(to complete the dynamic r)221.5 358.8 R(ender)-.198 E .771
(er output module.)-.198 F .77(These r)6.27 F(emain-)-.198 E
(ing functions complete the categories described above, i.e.)221.5 372 Q 18.334
<8367>221.5 397.2 S(eometric transformations)252.616 397.2 Q 18.334<8374>221.5
416.4 S(he camera and its attributes)250.086 416.4 Q 18.334<8367>221.5 435.6 S
(eometry r)252.616 435.6 Q(endering)-.198 E 18.334<8363>221.5 454.8 S(ontr)
251.384 454.8 Q(ol r)-.198 E(outines)-.198 E(Ther)221.5 480 Q 2.75(ea)-.198 G
.396 -.198(re a)257.58 480 T(lso functions for:).198 E 18.334<836c>221.5 499.2
S(ights and their attributes)249.701 499.2 Q 18.334<8361>221.5 518.4 S
(ppearance attributes)252 518.4 Q .16 LW 223.4 544.4 221.4 544.4 DL 225.4 544.4
223.4 544.4 DL 227.4 544.4 225.4 544.4 DL 229.4 544.4 227.4 544.4 DL 231.4
544.4 229.4 544.4 DL 233.4 544.4 231.4 544.4 DL 235.4 544.4 233.4 544.4 DL
237.4 544.4 235.4 544.4 DL 239.4 544.4 237.4 544.4 DL 241.4 544.4 239.4 544.4
DL 243.4 544.4 241.4 544.4 DL 245.4 544.4 243.4 544.4 DL 247.4 544.4 245.4
544.4 DL 249.4 544.4 247.4 544.4 DL 251.4 544.4 249.4 544.4 DL 253.4 544.4
251.4 544.4 DL 255.4 544.4 253.4 544.4 DL 257.4 544.4 255.4 544.4 DL 259.4
544.4 257.4 544.4 DL 261.4 544.4 259.4 544.4 DL 263.4 544.4 261.4 544.4 DL
265.4 544.4 263.4 544.4 DL 267.4 544.4 265.4 544.4 DL 269.4 544.4 267.4 544.4
DL 271.4 544.4 269.4 544.4 DL 273.4 544.4 271.4 544.4 DL 275.4 544.4 273.4
544.4 DL 277.4 544.4 275.4 544.4 DL 279.4 544.4 277.4 544.4 DL 281.4 544.4
279.4 544.4 DL 283.4 544.4 281.4 544.4 DL 285.4 544.4 283.4 544.4 DL 287.4
544.4 285.4 544.4 DL 289.4 544.4 287.4 544.4 DL 291.4 544.4 289.4 544.4 DL
293.4 544.4 291.4 544.4 DL 295.4 544.4 293.4 544.4 DL 297.4 544.4 295.4 544.4
DL 299.4 544.4 297.4 544.4 DL 301.4 544.4 299.4 544.4 DL 303.4 544.4 301.4
544.4 DL 305.4 544.4 303.4 544.4 DL 307.4 544.4 305.4 544.4 DL 309.4 544.4
307.4 544.4 DL 311.4 544.4 309.4 544.4 DL 313.4 544.4 311.4 544.4 DL 315.4
544.4 313.4 544.4 DL 317.4 544.4 315.4 544.4 DL 319.4 544.4 317.4 544.4 DL
321.4 544.4 319.4 544.4 DL 323.4 544.4 321.4 544.4 DL 325.4 544.4 323.4 544.4
DL 327.4 544.4 325.4 544.4 DL 329.4 544.4 327.4 544.4 DL 331.4 544.4 329.4
544.4 DL 333.4 544.4 331.4 544.4 DL 335.4 544.4 333.4 544.4 DL 337.4 544.4
335.4 544.4 DL 339.4 544.4 337.4 544.4 DL 341.4 544.4 339.4 544.4 DL 343.4
544.4 341.4 544.4 DL 345.4 544.4 343.4 544.4 DL 347.4 544.4 345.4 544.4 DL
349.4 544.4 347.4 544.4 DL 351.4 544.4 349.4 544.4 DL 353.4 544.4 351.4 544.4
DL 355.4 544.4 353.4 544.4 DL 357.4 544.4 355.4 544.4 DL 359.4 544.4 357.4
544.4 DL 361.4 544.4 359.4 544.4 DL 363.4 544.4 361.4 544.4 DL 365.4 544.4
363.4 544.4 DL 367.4 544.4 365.4 544.4 DL 369.4 544.4 367.4 544.4 DL 371.4
544.4 369.4 544.4 DL 373.4 544.4 371.4 544.4 DL 375.4 544.4 373.4 544.4 DL
377.4 544.4 375.4 544.4 DL 379.4 544.4 377.4 544.4 DL 381.4 544.4 379.4 544.4
DL 383.4 544.4 381.4 544.4 DL 385.4 544.4 383.4 544.4 DL 387.4 544.4 385.4
544.4 DL 389.4 544.4 387.4 544.4 DL 391.4 544.4 389.4 544.4 DL 393.4 544.4
391.4 544.4 DL 395.4 544.4 393.4 544.4 DL 397.4 544.4 395.4 544.4 DL 399.4
544.4 397.4 544.4 DL 401.4 544.4 399.4 544.4 DL 403.4 544.4 401.4 544.4 DL
405.4 544.4 403.4 544.4 DL 407.4 544.4 405.4 544.4 DL 409.4 544.4 407.4 544.4
DL 411.4 544.4 409.4 544.4 DL 413.4 544.4 411.4 544.4 DL 415.4 544.4 413.4
544.4 DL 417.4 544.4 415.4 544.4 DL 419.4 544.4 417.4 544.4 DL 421.4 544.4
419.4 544.4 DL 423.4 544.4 421.4 544.4 DL 425.4 544.4 423.4 544.4 DL 427.4
544.4 425.4 544.4 DL 429.4 544.4 427.4 544.4 DL 431.4 544.4 429.4 544.4 DL
433.4 544.4 431.4 544.4 DL 435.4 544.4 433.4 544.4 DL 437.4 544.4 435.4 544.4
DL 439.4 544.4 437.4 544.4 DL 441.4 544.4 439.4 544.4 DL 443.4 544.4 441.4
544.4 DL 445.4 544.4 443.4 544.4 DL 447.4 544.4 445.4 544.4 DL 449.4 544.4
447.4 544.4 DL 451.4 544.4 449.4 544.4 DL 453.4 544.4 451.4 544.4 DL 455.4
544.4 453.4 544.4 DL 457.4 544.4 455.4 544.4 DL 459.4 544.4 457.4 544.4 DL
461.4 544.4 459.4 544.4 DL 463.4 544.4 461.4 544.4 DL 465.4 544.4 463.4 544.4
DL 467.4 544.4 465.4 544.4 DL 469.4 544.4 467.4 544.4 DL 471.4 544.4 469.4
544.4 DL 473.4 544.4 471.4 544.4 DL 475.4 544.4 473.4 544.4 DL 477.4 544.4
475.4 544.4 DL 479.4 544.4 477.4 544.4 DL 481.4 544.4 479.4 544.4 DL 483.4
544.4 481.4 544.4 DL 485.4 544.4 483.4 544.4 DL 487.4 544.4 485.4 544.4 DL
489.4 544.4 487.4 544.4 DL 491.4 544.4 489.4 544.4 DL 493.4 544.4 491.4 544.4
DL 495.4 544.4 493.4 544.4 DL 497.4 544.4 495.4 544.4 DL 499.4 544.4 497.4
544.4 DL 501.4 544.4 499.4 544.4 DL 503.4 544.4 501.4 544.4 DL 505.4 544.4
503.4 544.4 DL 507.4 544.4 505.4 544.4 DL 509.4 544.4 507.4 544.4 DL 511.4
544.4 509.4 544.4 DL 513.4 544.4 511.4 544.4 DL 515.4 544.4 513.4 544.4 DL
517.4 544.4 515.4 544.4 DL 519.4 544.4 517.4 544.4 DL 521.4 544.4 519.4 544.4
DL 523.4 544.4 521.4 544.4 DL 525.4 544.4 523.4 544.4 DL 527.4 544.4 525.4
544.4 DL 529.4 544.4 527.4 544.4 DL 531.4 544.4 529.4 544.4 DL 533.4 544.4
531.4 544.4 DL 535.4 544.4 533.4 544.4 DL 537.4 544.4 535.4 544.4 DL 539.4
544.4 537.4 544.4 DL 541.4 544.4 539.4 544.4 DL 543.4 544.4 541.4 544.4 DL
545.4 544.4 543.4 544.4 DL 1.44 LW 90 544.9 72 544.9 DL 99 544.9 81 544.9 DL
117 544.9 99 544.9 DL 135 544.9 117 544.9 DL 153 544.9 135 544.9 DL 171 544.9
153 544.9 DL 189 544.9 171 544.9 DL 207 544.9 189 544.9 DL F2 -3.156
(Geometr ic)72 558.9 R -.576 -1.44(Tr a)72 572.9 T(nsf)1.44 E -3.036
(or mations)-.36 F F3 2.989
(In addition to the functions described in the minimal DROM,)221.5 573 R(ther)
221.5 586.2 Q 2.994(ea)-.198 G .64 -.198(re f)254.667 586.2 T .243
(our other functions that have to do with the transforma-).198 F
(tion matrices.)221.5 599.4 Q(They ar)5.5 E(e:)-.198 E F4(dr)261.5 616.8 Q
(om.transform_clip_z_point)-.198 E(dr)261.5 630 Q(om.push_lcstofcsmat)-.198 E
(dr)261.5 643.2 Q(om.pop_lcstofcsmat)-.198 E(dr)261.5 656.4 Q
(om.get_wcstofcsmat)-.198 E F3 .894(The \214rst thr)221.5 685.8 R .895
(ee functions ar)-.198 F 3.645(ea)-.198 G .895
(ll used by geometric primitives that)367.918 685.8 R(ar)221.5 699 Q 2.838(ed)
-.198 G .088(e\214ned in frame coor)245.975 699 R .087
(dinates, such as annotation text \()-.198 F F4(DoAnno-)A -1.221(Te)221.5 712.2
S(xt)1.221 E F3 6.149(\)a)C 3.4(nd polymarkers \()255.754 712.2 R F4
(DoPolymarker)A F3 6.15(\). The)B 3.4(primitive uses the)6.15 F 90 756 72 756
DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171
756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756 221.4 756 DL
257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756 DL 311.4 756
293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4 756 347.4 756
DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4 756 DL 437.4
756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL 491.4 756 473.4
756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F6
9/Helvetica-Bold@0 SF(11-154)72 768.96 Q/F7 9/Helvetica@0 SF(Dore)6.504 E 3.506
<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)
-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E
(er)-.225 E EP
%%Page: 155 35
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)403.81 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)486.48 68.4 Q(ued\))-.1 E/F2 11/Palatino-Roman@0 SF
-.198(ro)63 109.2 S(utine).198 E/F3 11/Palatino-Italic@0 SF(dr)5.515 E
(om.transform_clip_z_point)-.198 E F2 2.764(to compute a transformation)5.515 F
.446(matrix that will position and scale a glyph so that it can be drawn)63
122.4 R(corr)63 135.6 Q .61(ectly on the device.)-.198 F .609
(The location of the glyph is de\214ned in its)6.109 F .704(local coor)63 148.8
R .704(dinate system.)-.198 F .705(The location needs to be transformed by)
6.204 F(the)63 162 Q F3(lcstofcsmat)4.397 E F2 7.147(.T)C 1.646(he r)148.574
162 R 1.646(esulting point is then used to constr)-.198 F 1.646(uct the)-.088 F
(needed matrix.)63 175.2 Q/F4 9/Courier@0 SF(DtFlag)63 198.2 Q
(ddr_sampledev_drom_transform_clip_z_point\(point,tfmmatrix\))63 209.2 Q
(DtRealTriple point;)63 220.2 Q(DtMatrix4x4 tfmmatrix;)63 231.2 Q({)63 242.2 Q
(DtInt row, column;)84.6 253.2 Q(DtReal fcspoint[4];)84.6 264.2 Q
(DtReal oneoverw;)84.6 275.2 Q(DtRealTriple tfmpoint;)84.6 286.2 Q(/)84.6 308.2
Q/F5 9/Symbol SF(*)A(*)90 319.2 Q F4(Transform the point from local space to)
5.4 E F5(*)90 330.2 Q F4(frustum space coordinates.)5.4 E F5(*)90 341.2 Q F4
(If the transformed point is clipped in Z)5.4 E F5(*)90 352.2 Q F4
(return DcTrue.)5.4 E F5(*)90 363.2 Q F4
(If the transformed point is not clipped in Z)5.4 E F5(*)90 374.2 Q F4
(then set tfmmatrix to be a translation to the)5.4 E F5(*)90 385.2 Q F4
(transformed point followed by a scale by the)5.4 E F5(*)90 396.2 Q F4
(annotation scale for the device and return)5.4 E F5(*)90 407.2 Q F4(DcFalse.)
5.4 E F5(*)90 418.2 Q F4(/)A(/)84.6 440.2 Q F5(*)A F4(Transform the point)5.4 E
F5(*)5.4 E F4(/)A(for \(row=0;row<4;row++\) {)84.6 462.2 Q(fcspoint[row] =)
106.2 473.2 Q(dde_sampledev_drom_data.lcstofcsmat[row][3];)127.8 484.2 Q
(for \(column=0;column<3;column++\) {)106.2 506.2 Q
(fcspoint[row] += dde_sampledev_drom_data.)127.8 517.2 Q
(lcstofcsmat[row][column])192.6 528.2 Q F5(*)5.4 E F4(point[column];)171 539.2
Q(})106.2 550.2 Q(})84.6 561.2 Q(/)84.6 583.2 Q F5(*)A F4
(Check z clipping range)5.4 E F5(*)5.4 E F4(/)A
(if \(fcspoint[2] < -fcspoint[3]\))84.6 605.2 Q(return\(DcTrue\);)127.8 616.2 Q
(if \(fcspoint[2] > 0\))84.6 627.2 Q(return\(DcTrue\);)127.8 638.2 Q(/)84.6
660.2 Q F5(*)A F4(Build matrix)5.4 E F5(*)5.4 E F4(/)A
(oneoverw = 1. / fcspoint[3];)84.6 682.2 Q(tfmpoint[0] = fcspoint[0])84.6 704.2
Q F5(*)5.4 E F4(oneoverw;)5.4 E 1.44 LW 81 756 63 756 DL 99 756 81 756 DL 117
756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756
171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756 225 756 DL 261 756 243
756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297 756 DL 333 756 315 756
DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756 DL 419.4 756 401.4 756
DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4 756 446.4 756 DL 482.4
756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4 756 DL 536.4 756 518.4
756 DL/F6 9/Helvetica@0 SF(Sample De)300.348 768.96 Q(vice Dr)-.27 E(iv).135 E
(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798 768.96 S -2.187 -.27(ev e)
437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)487.371 768.96 Q/F7 9
/Helvetica-Bold@0 SF(11-155)4.002 E EP
%%Page: 156 36
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)72 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)72 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF
(tfmpoint[1] = fcspoint[1])243.1 107 Q/F3 9/Symbol SF(*)5.4 E F2(oneoverw;)5.4
E(tfmpoint[2] = fcspoint[2])243.1 118 Q F3(*)5.4 E F2(oneoverw;)5.4 E
(ddr_sampledev_matrix_translate\(tfmmatrix,)243.1 140 Q
(tfmpoint[0],tfmpoint[1],tfmpoint[2],)307.9 151 Q(DcReplace\);)405.1 162 Q
(ddr_sampledev_matrix_scale\(tfmmatrix,)243.1 184 Q
(dde_sampledev_drom_curdevdat->annoscale[0],)307.9 195 Q
(dde_sampledev_drom_curdevdat->annoscale[1],)307.9 206 Q
(dde_sampledev_drom_curdevdat->annoscale[2],)307.9 217 Q(DcPreConcatenate\);)
307.9 228 Q(return\(DcFalse\);)243.1 250 Q(})221.5 261 Q/F4 11/Palatino-Roman@0
SF 3.865(The primitive then will r)221.5 286.2 R 3.865(eplace the)-.198 F/F5 11
/Palatino-Italic@0 SF(lcstofcsmat)6.615 E F4 3.865(with a call to)6.615 F F5
(dr)221.5 299.4 Q(om.push_lcstofcsmat)-.198 E F4 6.277(.W)C .778
(hen it is \214nished, it r)343.475 299.4 R(estor)-.198 E .778(es the pr)-.198
F(evious)-.198 E F5(lcstofcsmat)221.5 312.6 Q F4 .987(with a call to)3.737 F F5
(dr)3.737 E(om.pop_lcstofcsmat)-.198 E F4 6.486(.S)C .986(ince frame coor)
455.154 312.6 R(di-)-.198 E 1.758(nate primitives ar)221.5 325.8 R 4.508(ea)
-.198 G 1.759(lways displayed in the plane of the device,)326.203 325.8 R 1.636
(they should not be lit.)221.5 339 R 1.636
(The surface shader is set to the constant)7.136 F(shader)221.5 352.2 Q(.)-.814
E F2(void)221.5 375.2 Q(ddr_sampledev_drom_push_lcstofcsmat\(newmatrix\))221.5
386.2 Q(DtMatrix4x4 newmatrix;)221.5 397.2 Q({)221.5 408.2 Q
(ddr_sampledev_matrix_concat)243.1 419.2 Q(\(dde_sampledev_save_lcstofcsmat,)
270.1 430.2 Q(dde_sampledev_drom_data.lcstofcsmat,)275.5 441.2 Q(DcReplace\);)
275.5 452.2 Q(ddr_sampledev_matrix_concat)243.1 474.2 Q
(\(dde_sampledev_drom_data.lcstofcsmat,)270.1 485.2 Q(newmatrix, DcReplace\);)
275.5 496.2 Q(dde_sampledev_save_shader =)243.1 518.2 Q
(dde_sampledev_drom_data.srfshd;)264.7 529.2 Q(/)243.1 551.2 Q F3(*)A(*)248.5
562.2 Q F2(Set the shading to the constant shader.)5.4 E F3(*)248.5 573.2 Q F2
(/)A(ddr_sampledev_drom_set_att_srfshd \(DcShaderConstant\);)243.1 595.2 Q(})
221.5 606.2 Q(void)221.5 629.2 Q(ddr_sampledev_drom_pop_lcstofcsmat\(\))221.5
640.2 Q({)221.5 651.2 Q(ddr_sampledev_matrix_concat)243.1 662.2 Q
(\(dde_sampledev_drom_data.lcstofcsmat,)270.1 673.2 Q
(dde_sampledev_save_lcstofcsmat,)275.5 684.2 Q(DcReplace\);)275.5 695.2 Q 1.44
LW 90 756 72 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153
756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4
756 221.4 756 DL 257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4
756 DL 311.4 756 293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL
365.4 756 347.4 756 DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756
401.4 756 DL 437.4 756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756
DL 491.4 756 473.4 756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4
756 527.4 756 DL/F6 9/Helvetica-Bold@0 SF(11-156)72 768.96 Q/F7 9/Helvetica@0
SF(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T
(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q
(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 157 37
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)403.81 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)486.48 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF(/)84.6
107 Q/F3 9/Symbol SF(*)A(*)90 118 Q F2
(Restore the shader that was saved with the pop)5.4 E F3(*)90 129 Q F2(/)A
(ddr_sampledev_drom_set_att_srfshd)84.6 151 Q(\(dde_sampledev_save_shader\);)
111.6 162 Q(})63 173 Q/F4 11/Palatino-Roman@0 SF .164(The function)63 198.2 R
/F5 11/Palatino-Italic@0 SF(dr)2.914 E(om.get_wcstofcsmat)-.198 E F4 .164
(is called by the r)2.914 F(ender)-.198 E .165(er when it)-.198 F .849
(needs access to the curr)63 211.4 R .849
(ent transformation matrix that transforms)-.198 F .917(data fr)63 224.6 R .917
(om the world coor)-.198 F .917(dinate system to the fr)-.198 F .918
(ustum coor)-.088 F(dinate)-.198 E(system.)63 237.8 Q F2(void)63 260.8 Q
(ddr_sampledev_drom_get_wcstofcsmat\(wcstofcsmat\))63 271.8 Q
(DtMatrix4x4 wcstofcsmat;)63 282.8 Q({)63 293.8 Q
(ddr_sampledev_matrix_concat \()84.6 304.8 Q(wcstofcsmat,)165.6 315.8 Q
(dde_sampledev_drom_curcamdat->wcstofcsmat,)165.6 326.8 Q(DcReplace\);)165.6
337.8 Q(})63 348.8 Q .16 LW 65 374.8 63 374.8 DL 67 374.8 65 374.8 DL 69 374.8
67 374.8 DL 71 374.8 69 374.8 DL 73 374.8 71 374.8 DL 75 374.8 73 374.8 DL 77
374.8 75 374.8 DL 79 374.8 77 374.8 DL 81 374.8 79 374.8 DL 83 374.8 81 374.8
DL 85 374.8 83 374.8 DL 87 374.8 85 374.8 DL 89 374.8 87 374.8 DL 91 374.8 89
374.8 DL 93 374.8 91 374.8 DL 95 374.8 93 374.8 DL 97 374.8 95 374.8 DL 99
374.8 97 374.8 DL 101 374.8 99 374.8 DL 103 374.8 101 374.8 DL 105 374.8 103
374.8 DL 107 374.8 105 374.8 DL 109 374.8 107 374.8 DL 111 374.8 109 374.8 DL
113 374.8 111 374.8 DL 115 374.8 113 374.8 DL 117 374.8 115 374.8 DL 119 374.8
117 374.8 DL 121 374.8 119 374.8 DL 123 374.8 121 374.8 DL 125 374.8 123 374.8
DL 127 374.8 125 374.8 DL 129 374.8 127 374.8 DL 131 374.8 129 374.8 DL 133
374.8 131 374.8 DL 135 374.8 133 374.8 DL 137 374.8 135 374.8 DL 139 374.8 137
374.8 DL 141 374.8 139 374.8 DL 143 374.8 141 374.8 DL 145 374.8 143 374.8 DL
147 374.8 145 374.8 DL 149 374.8 147 374.8 DL 151 374.8 149 374.8 DL 153 374.8
151 374.8 DL 155 374.8 153 374.8 DL 157 374.8 155 374.8 DL 159 374.8 157 374.8
DL 161 374.8 159 374.8 DL 163 374.8 161 374.8 DL 165 374.8 163 374.8 DL 167
374.8 165 374.8 DL 169 374.8 167 374.8 DL 171 374.8 169 374.8 DL 173 374.8 171
374.8 DL 175 374.8 173 374.8 DL 177 374.8 175 374.8 DL 179 374.8 177 374.8 DL
181 374.8 179 374.8 DL 183 374.8 181 374.8 DL 185 374.8 183 374.8 DL 187 374.8
185 374.8 DL 189 374.8 187 374.8 DL 191 374.8 189 374.8 DL 193 374.8 191 374.8
DL 195 374.8 193 374.8 DL 197 374.8 195 374.8 DL 199 374.8 197 374.8 DL 201
374.8 199 374.8 DL 203 374.8 201 374.8 DL 205 374.8 203 374.8 DL 207 374.8 205
374.8 DL 209 374.8 207 374.8 DL 211 374.8 209 374.8 DL 213 374.8 211 374.8 DL
215 374.8 213 374.8 DL 217 374.8 215 374.8 DL 219 374.8 217 374.8 DL 221 374.8
219 374.8 DL 223 374.8 221 374.8 DL 225 374.8 223 374.8 DL 227 374.8 225 374.8
DL 229 374.8 227 374.8 DL 231 374.8 229 374.8 DL 233 374.8 231 374.8 DL 235
374.8 233 374.8 DL 237 374.8 235 374.8 DL 239 374.8 237 374.8 DL 241 374.8 239
374.8 DL 243 374.8 241 374.8 DL 245 374.8 243 374.8 DL 247 374.8 245 374.8 DL
249 374.8 247 374.8 DL 251 374.8 249 374.8 DL 253 374.8 251 374.8 DL 255 374.8
253 374.8 DL 257 374.8 255 374.8 DL 259 374.8 257 374.8 DL 261 374.8 259 374.8
DL 263 374.8 261 374.8 DL 265 374.8 263 374.8 DL 267 374.8 265 374.8 DL 269
374.8 267 374.8 DL 271 374.8 269 374.8 DL 273 374.8 271 374.8 DL 275 374.8 273
374.8 DL 277 374.8 275 374.8 DL 279 374.8 277 374.8 DL 281 374.8 279 374.8 DL
283 374.8 281 374.8 DL 285 374.8 283 374.8 DL 287 374.8 285 374.8 DL 289 374.8
287 374.8 DL 291 374.8 289 374.8 DL 293 374.8 291 374.8 DL 295 374.8 293 374.8
DL 297 374.8 295 374.8 DL 299 374.8 297 374.8 DL 301 374.8 299 374.8 DL 303
374.8 301 374.8 DL 305 374.8 303 374.8 DL 307 374.8 305 374.8 DL 309 374.8 307
374.8 DL 311 374.8 309 374.8 DL 313 374.8 311 374.8 DL 315 374.8 313 374.8 DL
317 374.8 315 374.8 DL 319 374.8 317 374.8 DL 321 374.8 319 374.8 DL 323 374.8
321 374.8 DL 325 374.8 323 374.8 DL 327 374.8 325 374.8 DL 329 374.8 327 374.8
DL 331 374.8 329 374.8 DL 333 374.8 331 374.8 DL 335 374.8 333 374.8 DL 337
374.8 335 374.8 DL 339 374.8 337 374.8 DL 341 374.8 339 374.8 DL 343 374.8 341
374.8 DL 345 374.8 343 374.8 DL 347 374.8 345 374.8 DL 349 374.8 347 374.8 DL
351 374.8 349 374.8 DL 353 374.8 351 374.8 DL 355 374.8 353 374.8 DL 357 374.8
355 374.8 DL 359 374.8 357 374.8 DL 361 374.8 359 374.8 DL 363 374.8 361 374.8
DL 365 374.8 363 374.8 DL 367 374.8 365 374.8 DL 369 374.8 367 374.8 DL 371
374.8 369 374.8 DL 373 374.8 371 374.8 DL 375 374.8 373 374.8 DL 377 374.8 375
374.8 DL 379 374.8 377 374.8 DL 381 374.8 379 374.8 DL 383 374.8 381 374.8 DL
385 374.8 383 374.8 DL 387 374.8 385 374.8 DL 1.44 LW 419.4 375.3 401.4 375.3
DL 428.4 375.3 410.4 375.3 DL 446.4 375.3 428.4 375.3 DL 464.4 375.3 446.4
375.3 DL 482.4 375.3 464.4 375.3 DL 500.4 375.3 482.4 375.3 DL 518.4 375.3
500.4 375.3 DL 536.4 375.3 518.4 375.3 DL/F6 12/Helvetica-Oblique@0 SF(The)
515.724 389.3 Q(Camer)493.848 403.3 Q(a)-.12 E(and)516.384 417.3 Q(Its)523.728
431.3 Q -3.156(Attr ib)485.772 445.3 R(utes)-.24 E F4 -.99(Tw)63 403.4 S 3.896
(oc).99 G 1.146(amera attributes wer)92.713 403.4 R 3.896(en)-.198 G 1.146
(ot included in the minimal DROM.)211.442 403.4 R 1.046(These ar)63 416.6 R
3.796(et)-.198 G 1.046(he ster)117.441 416.6 R 1.047(eo attributes.)-.198 F
1.047(The DROM functions that set the)6.547 F(ster)63 429.8 Q(eo attributes ar)
-.198 E(e:)-.198 E F5(dr)103 447.2 Q(om.set_att_ster)-.198 E(eo)-.198 E(dr)103
460.4 Q(om.set_att_ster)-.198 E(eoswi)-.198 E F4 .387
(They set the following \214elds in the)63 476.6 R F5(dde_sampledev_dr)3.137 E
(om_data)-.198 E F4(str)3.137 E(uc-)-.088 E(tur)63 489.8 Q(e:)-.198 E F2 70.2
(DtReal stereo_eyeseparation;)84.6 512.8 R 70.2(DtReal stereo_distance;)84.6
523.8 R 59.4(DtSwitch stereo_switch;)84.6 534.8 R F4(The ster)63 560 Q(eo r)
-.198 E(outines ar)-.198 E(e:)-.198 E F2(void)63 583 Q
(ddr_sampledev_drom_set_att_stereo \(eyeseparation, distance\))63 594 Q
(DtReal eyeseparation;)63 605 Q(DtReal distance;)63 616 Q({)63 627 Q
(dde_sampledev_drom_data.stereo_eyeseparation = eyeseparation;)84.6 638 Q
(dde_sampledev_drom_data.stereo_distance = distance;)84.6 649 Q(})63 660 Q
(void)63 682 Q(ddr_sampledev_drom_set_att_stereoswi \(switchvalue\))63 693 Q
(DtSwitch switchvalue;)63 704 Q 81 756 63 756 DL 99 756 81 756 DL 117 756 99
756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756
DL 207 756 189 756 DL 225 756 207 756 DL 243 756 225 756 DL 261 756 243 756 DL
279 756 261 756 DL 297 756 279 756 DL 315 756 297 756 DL 333 756 315 756 DL 351
756 333 756 DL 369 756 351 756 DL 387 756 369 756 DL 419.4 756 401.4 756 DL
428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4 756 446.4 756 DL 482.4 756
464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4 756 DL 536.4 756 518.4 756
DL/F7 9/Helvetica@0 SF(Sample De)300.348 768.96 Q(vice Dr)-.27 E(iv).135 E(er)
-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798 768.96 S -2.187 -.27(ev e)
437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)487.371 768.96 Q/F8 9
/Helvetica-Bold@0 SF(11-157)4.002 E EP
%%Page: 158 38
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)72 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)72 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF({)194.501
107 Q(dde_sampledev_drom_data.stereo_switch = switchvalue;)216.101 118 Q(})
194.501 129 Q/F3 11/Palatino-Roman@0 SF 1.081
(The following code needs to be added to the)221.5 154.2 R/F4 11
/Palatino-Italic@0 SF(dr)3.83 E(om.camera)-.198 E F3 -.198(ro)3.83 G(utine).198
E F4(ddr_sampledev_dr)221.5 167.4 Q(om_camera)-.198 E F3(:)A F2
(dde_sampledev_drom_curcamdat->stereoswitch =)243.1 190.4 Q
(dde_sampledev_drom_data.stereo_switch;)286.3 201.4 Q
(dde_sampledev_drom_curcamdat->stereo_eyeseparation =)243.1 212.4 Q
(dde_sampledev_drom_data.stereo_eyeseparation;)286.3 223.4 Q
(dde_sampledev_drom_curcamdat->stereo_distance =)243.1 234.4 Q
(dde_sampledev_drom_data.stereo_distance;)286.3 245.4 Q F3
(The complete camera str)221.5 270.6 Q(uctur)-.088 E 2.75(es)-.198 G(tor)
378.987 270.6 Q(ed in the view local data is:)-.198 E F2(typedef struct {)221.5
293.6 Q 5.4(DtCameraMatrixType camera_type;)243.1 304.6 R 59.4
(DtSwitch stereoswitch;)243.1 315.6 R 70.2(DtReal stereo_eyeseparation;)243.1
326.6 R 70.2(DtReal stereo_distance;)243.1 337.6 R 43.2(DtMatrix4x4 projmat;)
243.1 348.6 R 43.2(DtMatrix4x4 camtowcsmat;)243.1 359.6 R 43.2
(DtMatrix4x4 wcstocammat;)243.1 370.6 R 43.2(DtMatrix4x4 wcstofcsmat;)243.1
381.6 R 70.2(DtReal wcscamloc[3];)243.1 392.6 R 70.2(DtReal wcscamnorm[3];)
243.1 403.6 R 5.4(}d)221.5 414.6 S(dt_sampledev_drom_camera;)237.7 414.6 Q .16
LW 223.4 440.6 221.4 440.6 DL 225.4 440.6 223.4 440.6 DL 227.4 440.6 225.4
440.6 DL 229.4 440.6 227.4 440.6 DL 231.4 440.6 229.4 440.6 DL 233.4 440.6
231.4 440.6 DL 235.4 440.6 233.4 440.6 DL 237.4 440.6 235.4 440.6 DL 239.4
440.6 237.4 440.6 DL 241.4 440.6 239.4 440.6 DL 243.4 440.6 241.4 440.6 DL
245.4 440.6 243.4 440.6 DL 247.4 440.6 245.4 440.6 DL 249.4 440.6 247.4 440.6
DL 251.4 440.6 249.4 440.6 DL 253.4 440.6 251.4 440.6 DL 255.4 440.6 253.4
440.6 DL 257.4 440.6 255.4 440.6 DL 259.4 440.6 257.4 440.6 DL 261.4 440.6
259.4 440.6 DL 263.4 440.6 261.4 440.6 DL 265.4 440.6 263.4 440.6 DL 267.4
440.6 265.4 440.6 DL 269.4 440.6 267.4 440.6 DL 271.4 440.6 269.4 440.6 DL
273.4 440.6 271.4 440.6 DL 275.4 440.6 273.4 440.6 DL 277.4 440.6 275.4 440.6
DL 279.4 440.6 277.4 440.6 DL 281.4 440.6 279.4 440.6 DL 283.4 440.6 281.4
440.6 DL 285.4 440.6 283.4 440.6 DL 287.4 440.6 285.4 440.6 DL 289.4 440.6
287.4 440.6 DL 291.4 440.6 289.4 440.6 DL 293.4 440.6 291.4 440.6 DL 295.4
440.6 293.4 440.6 DL 297.4 440.6 295.4 440.6 DL 299.4 440.6 297.4 440.6 DL
301.4 440.6 299.4 440.6 DL 303.4 440.6 301.4 440.6 DL 305.4 440.6 303.4 440.6
DL 307.4 440.6 305.4 440.6 DL 309.4 440.6 307.4 440.6 DL 311.4 440.6 309.4
440.6 DL 313.4 440.6 311.4 440.6 DL 315.4 440.6 313.4 440.6 DL 317.4 440.6
315.4 440.6 DL 319.4 440.6 317.4 440.6 DL 321.4 440.6 319.4 440.6 DL 323.4
440.6 321.4 440.6 DL 325.4 440.6 323.4 440.6 DL 327.4 440.6 325.4 440.6 DL
329.4 440.6 327.4 440.6 DL 331.4 440.6 329.4 440.6 DL 333.4 440.6 331.4 440.6
DL 335.4 440.6 333.4 440.6 DL 337.4 440.6 335.4 440.6 DL 339.4 440.6 337.4
440.6 DL 341.4 440.6 339.4 440.6 DL 343.4 440.6 341.4 440.6 DL 345.4 440.6
343.4 440.6 DL 347.4 440.6 345.4 440.6 DL 349.4 440.6 347.4 440.6 DL 351.4
440.6 349.4 440.6 DL 353.4 440.6 351.4 440.6 DL 355.4 440.6 353.4 440.6 DL
357.4 440.6 355.4 440.6 DL 359.4 440.6 357.4 440.6 DL 361.4 440.6 359.4 440.6
DL 363.4 440.6 361.4 440.6 DL 365.4 440.6 363.4 440.6 DL 367.4 440.6 365.4
440.6 DL 369.4 440.6 367.4 440.6 DL 371.4 440.6 369.4 440.6 DL 373.4 440.6
371.4 440.6 DL 375.4 440.6 373.4 440.6 DL 377.4 440.6 375.4 440.6 DL 379.4
440.6 377.4 440.6 DL 381.4 440.6 379.4 440.6 DL 383.4 440.6 381.4 440.6 DL
385.4 440.6 383.4 440.6 DL 387.4 440.6 385.4 440.6 DL 389.4 440.6 387.4 440.6
DL 391.4 440.6 389.4 440.6 DL 393.4 440.6 391.4 440.6 DL 395.4 440.6 393.4
440.6 DL 397.4 440.6 395.4 440.6 DL 399.4 440.6 397.4 440.6 DL 401.4 440.6
399.4 440.6 DL 403.4 440.6 401.4 440.6 DL 405.4 440.6 403.4 440.6 DL 407.4
440.6 405.4 440.6 DL 409.4 440.6 407.4 440.6 DL 411.4 440.6 409.4 440.6 DL
413.4 440.6 411.4 440.6 DL 415.4 440.6 413.4 440.6 DL 417.4 440.6 415.4 440.6
DL 419.4 440.6 417.4 440.6 DL 421.4 440.6 419.4 440.6 DL 423.4 440.6 421.4
440.6 DL 425.4 440.6 423.4 440.6 DL 427.4 440.6 425.4 440.6 DL 429.4 440.6
427.4 440.6 DL 431.4 440.6 429.4 440.6 DL 433.4 440.6 431.4 440.6 DL 435.4
440.6 433.4 440.6 DL 437.4 440.6 435.4 440.6 DL 439.4 440.6 437.4 440.6 DL
441.4 440.6 439.4 440.6 DL 443.4 440.6 441.4 440.6 DL 445.4 440.6 443.4 440.6
DL 447.4 440.6 445.4 440.6 DL 449.4 440.6 447.4 440.6 DL 451.4 440.6 449.4
440.6 DL 453.4 440.6 451.4 440.6 DL 455.4 440.6 453.4 440.6 DL 457.4 440.6
455.4 440.6 DL 459.4 440.6 457.4 440.6 DL 461.4 440.6 459.4 440.6 DL 463.4
440.6 461.4 440.6 DL 465.4 440.6 463.4 440.6 DL 467.4 440.6 465.4 440.6 DL
469.4 440.6 467.4 440.6 DL 471.4 440.6 469.4 440.6 DL 473.4 440.6 471.4 440.6
DL 475.4 440.6 473.4 440.6 DL 477.4 440.6 475.4 440.6 DL 479.4 440.6 477.4
440.6 DL 481.4 440.6 479.4 440.6 DL 483.4 440.6 481.4 440.6 DL 485.4 440.6
483.4 440.6 DL 487.4 440.6 485.4 440.6 DL 489.4 440.6 487.4 440.6 DL 491.4
440.6 489.4 440.6 DL 493.4 440.6 491.4 440.6 DL 495.4 440.6 493.4 440.6 DL
497.4 440.6 495.4 440.6 DL 499.4 440.6 497.4 440.6 DL 501.4 440.6 499.4 440.6
DL 503.4 440.6 501.4 440.6 DL 505.4 440.6 503.4 440.6 DL 507.4 440.6 505.4
440.6 DL 509.4 440.6 507.4 440.6 DL 511.4 440.6 509.4 440.6 DL 513.4 440.6
511.4 440.6 DL 515.4 440.6 513.4 440.6 DL 517.4 440.6 515.4 440.6 DL 519.4
440.6 517.4 440.6 DL 521.4 440.6 519.4 440.6 DL 523.4 440.6 521.4 440.6 DL
525.4 440.6 523.4 440.6 DL 527.4 440.6 525.4 440.6 DL 529.4 440.6 527.4 440.6
DL 531.4 440.6 529.4 440.6 DL 533.4 440.6 531.4 440.6 DL 535.4 440.6 533.4
440.6 DL 537.4 440.6 535.4 440.6 DL 539.4 440.6 537.4 440.6 DL 541.4 440.6
539.4 440.6 DL 543.4 440.6 541.4 440.6 DL 545.4 440.6 543.4 440.6 DL 1.44 LW 90
441.1 72 441.1 DL 99 441.1 81 441.1 DL 117 441.1 99 441.1 DL 135 441.1 117
441.1 DL 153 441.1 135 441.1 DL 171 441.1 153 441.1 DL 189 441.1 171 441.1 DL
207 441.1 189 441.1 DL/F5 12/Helvetica-Oblique@0 SF(Lights and Their)72 455.1 Q
-3.156(Attr ib)72 469.1 R(utes)-.24 E F3 .72(Lights and their corr)221.5 469.2
R .72(esponding attributes ar)-.198 F 3.47(ee)-.198 G .72(xecuted during the)
451.847 469.2 R .549(studio traversal.)221.5 482.4 R .549(All the lights ar)
6.049 F 3.298(ed)-.198 G .548(e\214ned befor)399.252 482.4 R 3.298(ea)-.198 G
.548(ny geometry is)472.101 482.4 R(pr)221.5 495.6 Q .943(esented to the DROM.)
-.198 F .943(The DROM r)6.443 F .943(outines that pr)-.198 F .943(ovide infor)
-.198 F(-)-.198 E(mation on lights ar)221.5 508.8 Q(e:)-.198 E F4(dr)261.5
526.2 Q(om.light)-.198 E(dr)261.5 539.4 Q(om.set_att_lgtatn)-.198 E(dr)261.5
552.6 Q(om.set_att_lgtclr)-.198 E(dr)261.5 565.8 Q(om.set_att_lgtint)-.198 E
(dr)261.5 579 Q(om.set_att_lgtspdang)-.198 E(dr)261.5 592.2 Q
(om.set_att_lgtspdexp)-.198 E(dr)261.5 605.4 Q(om.set_att_lgtswi)-.198 E(dr)
261.5 618.6 Q(om.set_att_lgttyp)-.198 E F3 1.086(Each of these r)221.5 634.8 R
1.085(outines, with the exception of)-.198 F F4(dr)3.835 E(om.light)-.198 E F3
3.835(,j)C 1.085(ust stor)503.11 634.8 R(e)-.198 E(their parameters in the)
221.5 648 Q F4(dde_sampledev_dr)2.75 E(om_data)-.198 E F3(data str)2.75 E
(uctur)-.088 E(e.)-.198 E F2 59.4(DtObject light_type;)243.1 671 R 48.6
(DtColorRGB light_color;)243.1 682 R 70.2(DtReal light_intensity;)243.1 693 R
70.2(DtReal light_spread_angle_total;)243.1 704 R 90 756 72 756 DL 99 756 81
756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756
DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756 221.4 756 DL 257.4 756 239.4
756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756 DL 311.4 756 293.4 756 DL
329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4 756 347.4 756 DL 383.4 756
365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4 756 DL 437.4 756 419.4 756
DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL 491.4 756 473.4 756 DL 509.4
756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F6 9
/Helvetica-Bold@0 SF(11-158)72 768.96 Q/F7 9/Helvetica@0 SF(Dore)6.504 E 3.506
<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)
-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E
(er)-.225 E EP
%%Page: 159 39
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)403.81 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)486.48 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF 70.2
(DtReal light_spread_angle_delta;)84.6 107 R 70.2
(DtReal light_spread_exponent;)84.6 118 R 70.2(DtReal light_att_c1;)84.6 129 R
70.2(DtReal light_att_c2;)84.6 140 R/F3 11/Palatino-Roman@0 SF
(For example the implementation of)63 165.2 Q/F4 11/Palatino-Italic@0 SF(dr)
2.75 E(om.set_att_lgtspdang)-.198 E F3(is:)2.75 E F2(void)63 188.2 Q
(ddr_sampledev_drom_set_att_lgtspdang \(total, delta\))63 199.2 Q
(DtReal total;)63 210.2 Q(DtReal delta;)63 221.2 Q({)63 232.2 Q
(dde_sampledev_drom_data.light_spread_angle_total = total;)84.6 243.2 Q
(dde_sampledev_drom_data.light_spread_angle_delta = delta;)84.6 254.2 Q(})63
265.2 Q F3(When)63 290.4 Q F4(dr)3.902 E(om.light)-.198 E F3 1.152
(is executed, the light handle along with the cur)3.902 F(-)-.198 E -.198(re)63
303.6 S .76(nt values of all the light attributes, ar).198 F 3.509(es)-.198 G
(tor)270.081 303.6 Q .759(ed in a separate data)-.198 F(str)63 316.8 Q(uctur)
-.088 E 2.981(el)-.198 G .231(ocated in the view local data.)112.841 316.8 R
.232(The view local data str)5.732 F(uc-)-.088 E(tur)63 330 Q 2.75(ec)-.198 G
(ontains the following data for lighting:)90.269 330 Q F2 75.6
(DtInt total_lights;)84.6 353 R 75.6(DtInt max_lights;)84.6 364 R
(ddt_sampledev_drom_light)84.6 375 Q/F5 9/Symbol SF(*)5.4 E F2(light;)A F3
(wher)63 400.2 Q 2.75(et)-.198 G(he light str)99.597 400.2 Q(uctur)-.088 E 2.75
(ei)-.198 G(s)188.884 400.2 Q F2(typedef struct {)63 423.2 Q 59.4
(DtObject light;)84.6 434.2 R 59.4(DtObject type;)84.6 445.2 R 70.2
(DtReal position[3];)84.6 456.2 R 70.2(DtReal direction[3];)84.6 467.2 R 48.6
(DtColorRGB color;)84.6 478.2 R 70.2(DtReal angle_total;)84.6 489.2 R 70.2
(DtReal angle_delta;)84.6 500.2 R 70.2(DtReal exponent;)84.6 511.2 R 70.2
(DtReal c1;)84.6 522.2 R 70.2(DtReal c2;)84.6 533.2 R 59.4(DtSwitch status;)
84.6 544.2 R 5.4(}d)63 555.2 S(dt_sampledev_drom_light;)79.2 555.2 Q F3 2.79
-1.012(To r)63 580.4 T .765(educe memory fragmentation and the over).814 F .765
(head of r)-.198 F(epeatedly)-.198 E -.198(re)63 593.6 S 1.288
(allocating memory).198 F 4.039(,t)-1.221 G 1.289(he sample DROM incr)174.367
593.6 R 1.289(eases the size of the)-.198 F F4(light)63 606.8 Q F3 1.047
(array by 10 each time the total number of lights,)3.797 F F4(total_lights)
3.796 E F3(,)A(exceeds the maximum number of lights available,)63 620 Q F4
(max_lights)2.75 E F3(.)A 1.848(The light r)63 645.2 R 1.848(outine stor)-.198
F 1.849(es the light attributes in the)-.198 F F4(light)4.599 E F3(str)4.599 E
(uctur)-.088 E(e)-.198 E 2.192(and computes the light position and dir)63 658.4
R 2.192(ection fr)-.198 F 2.192(om the curr)-.198 F(ent)-.198 E 2.089
(local-to-world transformation matrix \()63 671.6 R F4(lcstowcsmat)A F3 4.839
(\). Each)B 2.09(light is)4.839 F .746
(de\214ned locally as being at the origin and pointing in the -z dir)63 684.8 R
(ec-)-.198 E(tion \(0,0,-1\).)63 698 Q 1.44 LW 81 756 63 756 DL 99 756 81 756
DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL
189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756 225 756 DL 261
756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297 756 DL 333 756
315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756 DL 419.4 756
401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4 756 446.4 756
DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4 756 DL 536.4
756 518.4 756 DL/F6 9/Helvetica@0 SF(Sample De)300.348 768.96 Q(vice Dr)-.27 E
(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798 768.96 S -2.187
-.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)487.371 768.96 Q
/F7 9/Helvetica-Bold@0 SF(11-159)4.002 E EP
%%Page: 160 40
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)72 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)72 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF(void)216.101
107 Q(ddr_sampledev_drom_light\(light\))216.101 118 Q(DtObject light;)216.101
129 Q({)216.101 140 Q(static DtReal lcspos[4] = { 0., 0.,)237.701 151 Q
(0., 1.};)437.501 151 Q(static DtReal lcsdir[4] = { 0., 0., -1., 1.};)237.701
162 Q(DtReal pos[4];)237.701 173 Q(DtReal dir[4];)237.701 184 Q
(DtColorRGB color;)237.701 195 Q(int lightno;)237.701 206 Q
(DtMatrix4x4 lcstowcsmat;)237.701 217 Q(ddt_sampledev_drom_light)237.701 228 Q
/F3 9/Symbol SF(*)5.4 E F2(light;)A(/)237.701 250 Q F3(*)A(*)243.101 261 Q F2
(Store light handle and attributes.)5.4 E F3(*)243.101 272 Q F2
(Also compute and store light position and direction)5.4 E F3(*)243.101 283 Q
F2(/)A(ddr_sampledev_drom_get_lcstowcsmat\(lcstowcsmat\);)237.701 294 Q
(lightno=\(dde_sampledev_drom_curviwdat->total_lights\)++;)237.701 316 Q
(if \(dde_sampledev_drom_curviwdat->total_lights >)237.701 338 Q
(dde_sampledev_drom_curviwdat->max_lights\) {)259.301 349 Q
(dde_sampledev_drom_curviwdat->light =)259.301 360 Q
(\(ddt_sampledev_drom_light)264.701 371 Q F3(*)5.4 E F2(\)DDspace_Reallocate)A
(\(dde_sampledev_drom_curviwdat->light,)280.901 382 Q
(\(dde_sampledev_drom_curviwdat->max_lights+10\))286.301 393 Q F3(*)A F2
(sizeof\(ddt_sampledev_drom_light\)\);)291.701 404 Q
(dde_sampledev_drom_curviwdat->max_lights += 10;)259.301 415 Q(})237.701 426 Q
(light = dde_sampledev_drom_curviwdat->light;)237.701 448 Q
(ddr_sampledev_math_pnttrns\(lcspos,lcstowcsmat, pos\);)237.701 470 Q
(if \(pos[3] != 0.0\) {)237.701 481 Q(pos[0] /= pos[3];)259.301 492 Q
(pos[1] /= pos[3];)259.301 503 Q(pos[2] /= pos[3];)259.301 514 Q(})237.701 525
Q(ddr_sampledev_math_pnttrns\(lcsdir, lcstowcsmat, dir\);)237.701 547 Q
(if \(dir[3] != 0.0\) {)237.701 558 Q(dir[0] /= dir[3];)259.301 569 Q
(dir[1] /= dir[3];)259.301 580 Q(dir[2] /= dir[3];)259.301 591 Q(})237.701 602
Q(dir[0] -= pos[0];)237.701 624 Q(dir[1] -= pos[1];)237.701 635 Q
(dir[2] -= pos[2];)237.701 646 Q(ddr_sampledev_math_renormalize\(dir\);)237.701
668 Q(color[0] = dde_sampledev_drom_data.light_color[0])237.701 690 Q F3(*)5.4
E F2(dde_sampledev_drom_data.light_intensity;)280.901 701 Q
(color[1] = dde_sampledev_drom_data.light_color[1])237.701 712 Q F3(*)5.4 E
1.44 LW 90 756 72 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL
153 756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL
239.4 756 221.4 756 DL 257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756
275.4 756 DL 311.4 756 293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756
DL 365.4 756 347.4 756 DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4
756 401.4 756 DL 437.4 756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4
756 DL 491.4 756 473.4 756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL
545.4 756 527.4 756 DL/F4 9/Helvetica-Bold@0 SF(11-160)72 768.96 Q/F5 9
/Helvetica@0 SF(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187 -.27(ev e)
135.024 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q(Sample De)
221.4 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 161 41
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)403.81 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)486.48 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF
(dde_sampledev_drom_data.light_intensity;)127.8 107 Q
(color[2] = dde_sampledev_drom_data.light_color[2])84.6 118 Q/F3 9/Symbol SF(*)
5.4 E F2(dde_sampledev_drom_data.light_intensity;)127.8 129 Q
(light[lightno].light = light;)84.6 151 Q
(light[lightno].type = dde_sampledev_drom_data.light_type;)84.6 173 Q
(light[lightno].position[0] = pos[0];)84.6 206 Q
(light[lightno].position[1] = pos[1];)84.6 217 Q
(light[lightno].position[2] = pos[2];)84.6 228 Q
(light[lightno].direction[0] = dir[0];)84.6 250 Q
(light[lightno].direction[1] = dir[1];)84.6 261 Q
(light[lightno].direction[2] = dir[2];)84.6 272 Q
(light[lightno].color[0] = color[0];)84.6 294 Q
(light[lightno].color[1] = color[1];)84.6 305 Q
(light[lightno].color[2] = color[2];)84.6 316 Q(light[lightno].angle_total =)
84.6 349 Q(dde_sampledev_drom_data.light_spread_angle_total;)106.2 360 Q
(light[lightno].angle_delta =)84.6 371 Q
(dde_sampledev_drom_data.light_spread_angle_delta;)106.2 382 Q
(light[lightno].exponent =)84.6 393 Q
(dde_sampledev_drom_data.light_spread_exponent;)106.2 404 Q
(light[lightno].c1 =)84.6 426 Q(dde_sampledev_drom_data.light_att_c1;)106.2 437
Q(light[lightno].c2 =)84.6 448 Q(dde_sampledev_drom_data.light_att_c2;)106.2
459 Q(/)84.6 492 Q F3(*)A(*)90 503 Q F2(Lights are on by default)5.4 E F3(*)90
514 Q F2(/)A(light[lightno].status = DcOn;)84.6 525 Q(})63 536 Q/F4 11
/Palatino-Roman@0 SF 1.116
(An application can disable or enable lights at any time using the)63 561.2 R
/F5 11/Palatino-Italic@0 SF(DoLightSwitch)63 574.4 Q F4 2.954
(primitive attribute.)5.704 F 2.955(During display traversal the)8.454 F -.198
(ro)63 587.6 S(utine).198 E F5(dr)5.007 E(om.set_att_lgtswi)-.198 E F4 2.257
(is called with a list of lights that ar)5.007 F(e)-.198 E 3.241(turned of)63
600.8 R 5.991(f. This)-.198 F -.198(ro)5.991 G 3.241(utine goes thr).198 F
3.241(ough the view light list and)-.198 F
(changes the status of the lights to r)63 614 Q(e\215ect this list.)-.198 E F2
(void)63 637 Q(ddr_sampledev_drom_set_att_lgtswi \(count, lights\))63 648 Q
(DtInt count;)63 659 Q(DtObject)63 670 Q F3(*)5.4 E F2(lights;)A({)63 681 Q
(DtInt i;)84.6 692 Q(DtInt lidx;)84.6 703 Q 1.44 LW 81 756 63 756 DL 99 756 81
756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756
DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756 225 756 DL
261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297 756 DL 333
756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756 DL 419.4
756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4 756 446.4
756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4 756 DL
536.4 756 518.4 756 DL/F6 9/Helvetica@0 SF(Sample De)300.348 768.96 Q(vice Dr)
-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798 768.96 S
-2.187 -.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)487.371
768.96 Q/F7 9/Helvetica-Bold@0 SF(11-161)4.002 E EP
%%Page: 162 42
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)72 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)72 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF
(DtInt enabled;)243.1 107 Q(/)243.1 129 Q/F3 9/Symbol SF(*)A(*)248.5 140 Q F2
(Lights are disable/enabled for subsequent primitives)5.4 E F3(*)248.5 151 Q F2
(with DoLightSwitch)5.4 E F3(*)248.5 162 Q F2(/)A
(if \(dde_sampledev_drom_pre_init\))243.1 184 Q(return;)286.3 195 Q
(if \(dde_sampledev_drom_curviwdat ==)243.1 217 Q(\(ddt_sampledev_drom_view)
264.7 228 Q F3(*)5.4 E F2(\)0\))A(return;)286.3 239 Q(for \(lidx = 0;)243.1 261
Q(lidx < dde_sampledev_drom_curviwdat->total_lights;)270.1 272 Q(lidx++\) {)
270.1 283 Q(enabled = DcTrue;)264.7 294 Q(for \(i=0; i<count; i++\) {)264.7 305
Q(if \(dde_sampledev_drom_curviwdat->)286.3 316 Q
(light[lidx].light == lights[i]\) {)351.1 327 Q(enabled = DcFalse;)307.9 338 Q
(break;)307.9 349 Q(})286.3 360 Q(})264.7 371 Q(dde_sampledev_drom_curviwdat->)
264.7 382 Q(light[lidx].status = enabled;)307.9 393 Q(})243.1 404 Q(})221.5 415
Q .16 LW 223.4 441 221.4 441 DL 225.4 441 223.4 441 DL 227.4 441 225.4 441 DL
229.4 441 227.4 441 DL 231.4 441 229.4 441 DL 233.4 441 231.4 441 DL 235.4 441
233.4 441 DL 237.4 441 235.4 441 DL 239.4 441 237.4 441 DL 241.4 441 239.4 441
DL 243.4 441 241.4 441 DL 245.4 441 243.4 441 DL 247.4 441 245.4 441 DL 249.4
441 247.4 441 DL 251.4 441 249.4 441 DL 253.4 441 251.4 441 DL 255.4 441 253.4
441 DL 257.4 441 255.4 441 DL 259.4 441 257.4 441 DL 261.4 441 259.4 441 DL
263.4 441 261.4 441 DL 265.4 441 263.4 441 DL 267.4 441 265.4 441 DL 269.4 441
267.4 441 DL 271.4 441 269.4 441 DL 273.4 441 271.4 441 DL 275.4 441 273.4 441
DL 277.4 441 275.4 441 DL 279.4 441 277.4 441 DL 281.4 441 279.4 441 DL 283.4
441 281.4 441 DL 285.4 441 283.4 441 DL 287.4 441 285.4 441 DL 289.4 441 287.4
441 DL 291.4 441 289.4 441 DL 293.4 441 291.4 441 DL 295.4 441 293.4 441 DL
297.4 441 295.4 441 DL 299.4 441 297.4 441 DL 301.4 441 299.4 441 DL 303.4 441
301.4 441 DL 305.4 441 303.4 441 DL 307.4 441 305.4 441 DL 309.4 441 307.4 441
DL 311.4 441 309.4 441 DL 313.4 441 311.4 441 DL 315.4 441 313.4 441 DL 317.4
441 315.4 441 DL 319.4 441 317.4 441 DL 321.4 441 319.4 441 DL 323.4 441 321.4
441 DL 325.4 441 323.4 441 DL 327.4 441 325.4 441 DL 329.4 441 327.4 441 DL
331.4 441 329.4 441 DL 333.4 441 331.4 441 DL 335.4 441 333.4 441 DL 337.4 441
335.4 441 DL 339.4 441 337.4 441 DL 341.4 441 339.4 441 DL 343.4 441 341.4 441
DL 345.4 441 343.4 441 DL 347.4 441 345.4 441 DL 349.4 441 347.4 441 DL 351.4
441 349.4 441 DL 353.4 441 351.4 441 DL 355.4 441 353.4 441 DL 357.4 441 355.4
441 DL 359.4 441 357.4 441 DL 361.4 441 359.4 441 DL 363.4 441 361.4 441 DL
365.4 441 363.4 441 DL 367.4 441 365.4 441 DL 369.4 441 367.4 441 DL 371.4 441
369.4 441 DL 373.4 441 371.4 441 DL 375.4 441 373.4 441 DL 377.4 441 375.4 441
DL 379.4 441 377.4 441 DL 381.4 441 379.4 441 DL 383.4 441 381.4 441 DL 385.4
441 383.4 441 DL 387.4 441 385.4 441 DL 389.4 441 387.4 441 DL 391.4 441 389.4
441 DL 393.4 441 391.4 441 DL 395.4 441 393.4 441 DL 397.4 441 395.4 441 DL
399.4 441 397.4 441 DL 401.4 441 399.4 441 DL 403.4 441 401.4 441 DL 405.4 441
403.4 441 DL 407.4 441 405.4 441 DL 409.4 441 407.4 441 DL 411.4 441 409.4 441
DL 413.4 441 411.4 441 DL 415.4 441 413.4 441 DL 417.4 441 415.4 441 DL 419.4
441 417.4 441 DL 421.4 441 419.4 441 DL 423.4 441 421.4 441 DL 425.4 441 423.4
441 DL 427.4 441 425.4 441 DL 429.4 441 427.4 441 DL 431.4 441 429.4 441 DL
433.4 441 431.4 441 DL 435.4 441 433.4 441 DL 437.4 441 435.4 441 DL 439.4 441
437.4 441 DL 441.4 441 439.4 441 DL 443.4 441 441.4 441 DL 445.4 441 443.4 441
DL 447.4 441 445.4 441 DL 449.4 441 447.4 441 DL 451.4 441 449.4 441 DL 453.4
441 451.4 441 DL 455.4 441 453.4 441 DL 457.4 441 455.4 441 DL 459.4 441 457.4
441 DL 461.4 441 459.4 441 DL 463.4 441 461.4 441 DL 465.4 441 463.4 441 DL
467.4 441 465.4 441 DL 469.4 441 467.4 441 DL 471.4 441 469.4 441 DL 473.4 441
471.4 441 DL 475.4 441 473.4 441 DL 477.4 441 475.4 441 DL 479.4 441 477.4 441
DL 481.4 441 479.4 441 DL 483.4 441 481.4 441 DL 485.4 441 483.4 441 DL 487.4
441 485.4 441 DL 489.4 441 487.4 441 DL 491.4 441 489.4 441 DL 493.4 441 491.4
441 DL 495.4 441 493.4 441 DL 497.4 441 495.4 441 DL 499.4 441 497.4 441 DL
501.4 441 499.4 441 DL 503.4 441 501.4 441 DL 505.4 441 503.4 441 DL 507.4 441
505.4 441 DL 509.4 441 507.4 441 DL 511.4 441 509.4 441 DL 513.4 441 511.4 441
DL 515.4 441 513.4 441 DL 517.4 441 515.4 441 DL 519.4 441 517.4 441 DL 521.4
441 519.4 441 DL 523.4 441 521.4 441 DL 525.4 441 523.4 441 DL 527.4 441 525.4
441 DL 529.4 441 527.4 441 DL 531.4 441 529.4 441 DL 533.4 441 531.4 441 DL
535.4 441 533.4 441 DL 537.4 441 535.4 441 DL 539.4 441 537.4 441 DL 541.4 441
539.4 441 DL 543.4 441 541.4 441 DL 545.4 441 543.4 441 DL 1.44 LW 90 441.5 72
441.5 DL 99 441.5 81 441.5 DL 117 441.5 99 441.5 DL 135 441.5 117 441.5 DL 153
441.5 135 441.5 DL 171 441.5 153 441.5 DL 189 441.5 171 441.5 DL 207 441.5 189
441.5 DL/F4 12/Helvetica-Oblique@0 SF(Appear)72 455.5 Q(ance Attr)-.12 E(ib).18
E(utes)-.24 E/F5 11/Palatino-Roman@0 SF(Ther)221.5 469.6 Q 3.524(ea)-.198 G
1.17 -.198(re a l)258.354 469.6 T(ar).198 E .774
(ge number of appearance attributes.)-.198 F .774(In the sample)6.274 F 1.214
(DROM, each of these attribute r)221.5 482.8 R 1.214(outines just stor)-.198 F
1.215(es its parameters)-.198 F 2.159(in the)221.5 496 R/F6 11
/Palatino-Italic@0 SF(dde_sampledev_dr)4.909 E(om_data)-.198 E F5 2.158
(data str)4.909 F(uctur)-.088 E 4.908(e. These)-.198 F 2.158(values ar)4.908 F
(e)-.198 E .244(then used by the geometry r)221.5 509.2 R .244(outines when r)
-.198 F .244(endering the geometry)-.198 F(.)-1.221 E .728
(The attributes and the data str)221.5 522.4 R(uctur)-.088 E 3.478(eu)-.198 G
.727(sed ar)412.714 522.4 R 3.477(el)-.198 G .727(isted, but the code)454.439
522.4 R(for all the attributes is not.)221.5 535.6 Q
(The appearance attribute r)5.5 E(outines ar)-.198 E(e:)-.198 E F6(dr)261.5 553
Q(om.set_att_ambint)-.198 E(dr)261.5 566.2 Q(om.set_att_ambswi)-.198 E(dr)261.5
579.4 Q(om.set_att_bacfacculble)-.198 E(dr)261.5 592.6 Q
(om.set_att_bacfacculswi)-.198 E(dr)261.5 605.8 Q(om.set_att_depcue)-.198 E(dr)
261.5 619 Q(om.set_att_depcueswi)-.198 E(dr)261.5 632.2 Q(om.set_att_difclr)
-.198 E(dr)261.5 645.4 Q(om.set_att_di\214nt)-.198 E(dr)261.5 658.6 Q
(om.set_att_difswi)-.198 E(dr)261.5 671.8 Q(om.set_att_hidsrfswi)-.198 E(dr)
261.5 685 Q(om.set_att_inttyp)-.198 E(dr)261.5 698.2 Q(om.set_att_lintyp)-.198
E(dr)261.5 711.4 Q(om.set_att_linwid)-.198 E 90 756 72 756 DL 99 756 81 756 DL
117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL 189
756 171 756 DL 207 756 189 756 DL 239.4 756 221.4 756 DL 257.4 756 239.4 756 DL
275.4 756 257.4 756 DL 293.4 756 275.4 756 DL 311.4 756 293.4 756 DL 329.4 756
311.4 756 DL 347.4 756 329.4 756 DL 365.4 756 347.4 756 DL 383.4 756 365.4 756
DL 401.4 756 383.4 756 DL 419.4 756 401.4 756 DL 437.4 756 419.4 756 DL 455.4
756 437.4 756 DL 473.4 756 455.4 756 DL 491.4 756 473.4 756 DL 509.4 756 491.4
756 DL 527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F7 9/Helvetica-Bold@0 SF
(11-162)72 768.96 Q/F8 9/Helvetica@0 SF(Dore)6.504 E 3.506<b444>122.023 768.96
S -2.187 -.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)184.596
768.96 Q(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 163 43
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)403.81 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)486.48 68.4 Q(ued\))-.1 E/F2 11/Palatino-Italic@0 SF
(dr)103 109.2 Q(om.set_att_localaasty)-.198 E(dr)103 122.4 Q
(om.set_att_localaaswi)-.198 E(dr)103 135.6 Q(om.set_att_r)-.198 E(efswi)-.198
E(dr)103 148.8 Q(om.set_att_r)-.198 E(eptyp)-.198 E(dr)103 162 Q
(om.set_att_shaswi)-.198 E(dr)103 175.2 Q(om.set_att_shdidx)-.198 E(dr)103
188.4 Q(om.set_att_spcclr)-.198 E(dr)103 201.6 Q(om.set_att_spcfct)-.198 E(dr)
103 214.8 Q(om.set_att_spcint)-.198 E(dr)103 228 Q(om.set_att_spcswi)-.198 E
(dr)103 241.2 Q(om.set_att_srfedgclr)-.198 E(dr)103 254.4 Q(om.set_att_srfshd)
-.198 E(dr)103 267.6 Q(om.set_att_transpclr)-.198 E(dr)103 280.8 Q
(om.set_att_transpint)-.198 E(dr)103 294 Q(om.set_att_transpswi)-.198 E/F3 11
/Palatino-Roman@0 SF(The \214elds of the)63 310.2 Q F2(dde_sampledev_dr)2.75 E
(om_data)-.198 E F3(data str)2.75 E(uctur)-.088 E 2.75(ea)-.198 G -.198(re)
342.136 310.2 S(:).198 E/F4 9/Courier@0 SF 70.2(DtReal ambint;)84.6 333.2 R
59.4(DtSwitch ambswi;)84.6 344.2 R 59.4(DtSwitch bacfacculble;)84.6 355.2 R
59.4(DtSwitch bacfacculswi;)84.6 366.2 R 70.2(DtReal depcue_zfront;)84.6 377.2
R 70.2(DtReal depcue_zback;)84.6 388.2 R 70.2(DtReal depcue_sfront;)84.6 399.2
R 70.2(DtReal depcue_sback;)84.6 410.2 R 37.8(DtColorModel depcue_colormodel;)
84.6 421.2 R 48.6(DtColorRGB depcue_color;)84.6 432.2 R 59.4
(DtSwitch depcueswi;)84.6 443.2 R 48.6(DtColorRGB difclr;)84.6 454.2 R 70.2
(DtReal difint;)84.6 465.2 R 59.4(DtSwitch difswi;)84.6 476.2 R 59.4
(DtSwitch hidsrfswi;)84.6 487.2 R 37.8(DtInterpType inttyp;)84.6 498.2 R 48.6
(DtLineType lintyp;)84.6 509.2 R 70.2(DtReal linwid;)84.6 520.2 R
(DtLocalAntiAliasStyle localaasty;)84.6 531.2 Q 59.4(DtSwitch localaaswi;)84.6
542.2 R 59.4(DtSwitch refswi;)84.6 553.2 R 54(DtRepType reptyp;)84.6 564.2 R
59.4(DtSwitch shaswi;)84.6 575.2 R 75.6(DtInt shdidx;)84.6 586.2 R 48.6
(DtColorRGB spcclr;)84.6 597.2 R 70.2(DtReal spcfct;)84.6 608.2 R 70.2
(DtReal spcint;)84.6 619.2 R 59.4(DtSwitch spcswi;)84.6 630.2 R 48.6
(DtColorRGB srfedgclr;)84.6 641.2 R 59.4(DtObject srfshd;)84.6 652.2 R 48.6
(DtColorRGB transpclr;)84.6 663.2 R 70.2(DtReal transpint;)84.6 674.2 R 59.4
(DtSwitch transpswi;)84.6 685.2 R 1.44 LW 81 756 63 756 DL 99 756 81 756 DL 117
756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756
171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756 225 756 DL 261 756 243
756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297 756 DL 333 756 315 756
DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756 DL 419.4 756 401.4 756
DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4 756 446.4 756 DL 482.4
756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4 756 DL 536.4 756 518.4
756 DL/F5 9/Helvetica@0 SF(Sample De)300.348 768.96 Q(vice Dr)-.27 E(iv).135 E
(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798 768.96 S -2.187 -.27(ev e)
437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)487.371 768.96 Q/F6 9
/Helvetica-Bold@0 SF(11-163)4.002 E EP
%%Page: 164 44
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)72 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)72 68.4 Q(ued\))-.1 E/F2 11/Palatino-Roman@0 SF
2.407(In addition to these appearance attributes ther)221.5 109.2 R 5.157(ea)
-.198 G 2.803 -.198(re t)476.347 109.2 T 2.407(he textur).198 F(e)-.198 E 1.481
(mapping attributes.)221.5 122.4 R 1.481(They deserve mor)6.981 F 4.232(ea)
-.198 G 4.232(ttention. By)431.681 122.4 R 1.482(their very)4.232 F(natur)221.5
135.6 Q 3.543(et)-.198 G .793(hey ar)260.166 135.6 R 3.543(em)-.198 G(or)
309.668 135.6 Q 3.543(ec)-.198 G .793(omplicated, because multiple textur)
333.517 135.6 R 3.542(em)-.198 G(aps)528.725 135.6 Q .579
(can be applied to a single object, and textur)221.5 148.8 R 3.329(em)-.198 G
.58(aps inherit a set of)454.312 148.8 R .571
(attributes of their own \(the textur)221.5 162 R 3.32(ea)-.198 G 3.32
(ttributes\). Ther)400.517 162 R 3.32(ea)-.198 G .966 -.198(re f)490.603 162 T
.57(our tex-).198 F(tur)221.5 175.2 Q 2.944(em)-.198 G .194
(apping attributes and corr)253.792 175.2 R .195(esponding switches.)-.198 F
.195(They ar)5.695 F 2.945(ef)-.198 G(or)535.149 175.2 Q 2.847
(bump mapping, dif)221.5 188.4 R 2.846(fuse color mapping, envir)-.198 F 2.846
(onment mapping,)-.198 F 1.948(and transpar)221.5 201.6 R 1.948
(ent intensity mapping.)-.198 F 1.948(The corr)7.448 F 1.948(esponding r)-.198
F(outines)-.198 E(in the DROM interface ar)221.5 214.8 Q(e:)-.198 E/F3 11
/Palatino-Italic@0 SF(dr)261.5 232.2 Q(om.set_att_mapbmp)-.198 E(dr)261.5 245.4
Q(om.set_att_mapbmpswi)-.198 E(dr)261.5 258.6 Q(om.set_att_mapdifclr)-.198 E
(dr)261.5 271.8 Q(om.set_att_mapdifclrswi)-.198 E(dr)261.5 285 Q
(om.set_att_mapenv)-.198 E(dr)261.5 298.2 Q(om.set_att_mapenvswi)-.198 E(dr)
261.5 311.4 Q(om.set_att_maptrnint)-.198 E(dr)261.5 324.6 Q
(om.set_att_maptrnintswi)-.198 E F2 .327
(The data that is passed to the DROM is the same for all four types)221.5 340.8
R 1.792(of textur)221.5 354 R 4.542(em)-.198 G 4.542(apping. However)284.132
354 R 4.542(,t)-.814 G 1.793(he values and interpr)384.109 354 R 1.793
(etations of)-.198 F 1.741
(how the values should be applied vary with each kind of map-)221.5 367.2 R
3.656(ping. A)221.5 380.4 R .906(separate data str)3.656 F(uctur)-.088 E 3.656
(es)-.198 G(tor)386.542 380.4 Q .906(es the textur)-.198 F 3.657(em)-.198 G
.907(apping infor)480.32 380.4 R(-)-.198 E(mation for each type of textur)221.5
393.6 Q 2.75(em)-.198 G(apping.)383.607 393.6 Q/F4 9/Courier@0 SF
(typedef struct {)221.5 416.6 Q 59.4(DtSwitch status;)243.1 427.6 R 75.6
(DtInt max_count;)243.1 438.6 R 75.6(DtInt count;)243.1 449.6 R(DtObject)243.1
460.6 Q/F5 9/Symbol SF(*)351.1 460.6 Q F4(mapping;)A(DtObject)243.1 471.6 Q F5
(*)351.1 471.6 Q F4(raster;)A(dot_stdtexatt)243.1 482.6 Q F5(*)351.1 482.6 Q F4
(attributes;)A 5.4(}d)221.5 493.6 S(dt_sampledev_drom_texmap;)237.7 493.6 Q F2
1.839(The data type)221.5 518.8 R F3(dot_stdtexatt)4.589 E F2 1.839
(is de\214ned by the Dore)4.589 F 5.391<b46b>470.18 518.8 S 1.838(ernel and is)
485.35 518.8 R .838(used by the textur)221.5 532 R 3.588(em)-.198 G .838
(ap objects to stor)330.474 532 R 3.588(et)-.198 G .839(he curr)426.853 532 R
.839(ent set of textur)-.198 F(e)-.198 E 2.914
(attributes to be applied to the textur)221.5 545.2 R 5.663(eo)-.198 G 5.663
(bject. The)430.677 545.2 R(str)5.663 E(uctur)-.088 E 5.663(ei)-.198 G(s)
540.836 545.2 Q(de\214ned in)221.5 558.4 Q F3(dor)2.75 E
(e_develop/private/stdtexatt.h)-.198 E F2(.)A(The)221.5 583.6 Q F3
(dde_sampledev_dr)2.974 E(om_data)-.198 E F2 .225(data str)2.974 F(uctur)-.088
E 2.975(ei)-.198 G .225(ncludes the following)439.549 583.6 R(\214elds:)221.5
596.8 Q F4(ddt_sampledev_drom_texmap mapbmp;)243.1 619.8 Q
(ddt_sampledev_drom_texmap mapdifclr;)243.1 630.8 Q
(ddt_sampledev_drom_texmap mapenv;)243.1 641.8 Q
(ddt_sampledev_drom_texmap maptrnint;)243.1 652.8 Q F2 4.555(As)221.5 678 S
1.805(et of arrays is maintained that contain the data necessary to)239.277 678
R .131(de\214ne the active textur)221.5 691.2 R .131(es of each kind.)-.198 F
.132(The code to maintain these)5.632 F(lists for bump mapping is given below)
221.5 704.4 Q(.)-1.012 E 1.44 LW 90 756 72 756 DL 99 756 81 756 DL 117 756 99
756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756
DL 207 756 189 756 DL 239.4 756 221.4 756 DL 257.4 756 239.4 756 DL 275.4 756
257.4 756 DL 293.4 756 275.4 756 DL 311.4 756 293.4 756 DL 329.4 756 311.4 756
DL 347.4 756 329.4 756 DL 365.4 756 347.4 756 DL 383.4 756 365.4 756 DL 401.4
756 383.4 756 DL 419.4 756 401.4 756 DL 437.4 756 419.4 756 DL 455.4 756 437.4
756 DL 473.4 756 455.4 756 DL 491.4 756 473.4 756 DL 509.4 756 491.4 756 DL
527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F6 9/Helvetica-Bold@0 SF(11-164)
72 768.96 Q/F7 9/Helvetica@0 SF(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187
-.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q
(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 165 45
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)403.81 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)486.48 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF(void)63
107 Q(ddr_sampledev_drom_set_att_mapbmp)63 118 Q
(\(count, mapping, raster, attributes\))106.2 129 Q(DtInt count;)63 140 Q
(DtObject mapping[];)63 151 Q(DtObject raster[];)63 162 Q
(dot_stdtexatt attributes[];)63 173 Q({)63 184 Q(DtInt i;)84.6 195 Q
(if \(count > dde_sampledev_drom_data.mapbmp.max_count\) {)84.6 217 Q
(dde_sampledev_drom_data.mapbmp.mapping=\(DtObject)106.2 228 Q/F3 9/Symbol SF
(*)5.4 E F2(\))A(DDspace_Reallocate)149.4 239 Q
(\(dde_sampledev_drom_data.mapbmp.mapping,)171 250 Q(count)176.4 261 Q F3(*)A
F2(sizeof\(DtObject\)\);)A(dde_sampledev_drom_data.mapbmp.raster=\(DtObject)
106.2 272 Q F3(*)5.4 E F2(\))A(DDspace_Reallocate)149.4 283 Q
(\(dde_sampledev_drom_data.mapbmp.raster,)171 294 Q(count)176.4 305 Q F3(*)A F2
(sizeof\(DtObject\)\);)A(dde_sampledev_drom_data.mapbmp.attributes=)106.2 316 Q
(\(dot_stdtexatt)127.8 327 Q F3(*)5.4 E F2(\))A(DDspace_Reallocate)149.4 338 Q
(\(dde_sampledev_drom_data.mapbmp.attributes,)171 349 Q(count)176.4 360 Q F3(*)
A F2(sizeof\(dot_stdtexatt\)\);)A(if \(dde_sampledev_drom_data.mapbmp.mapping)
106.2 371 Q(== \(DtObject)127.8 382 Q F3(*)5.4 E F2(\)0 ||)A
(dde_sampledev_drom_data.mapbmp.raster)127.8 393 Q(== \(DtObject)127.8 404 Q F3
(*)5.4 E F2(\)0 ||)A(dde_sampledev_drom_data.mapbmp.attributes)127.8 415 Q
(== \(dot_stdtexatt)127.8 426 Q F3(*)5.4 E F2(\)0\))A(return;)149.4 437 Q
(dde_sampledev_drom_data.mapbmp.max_count = count;)106.2 448 Q(})84.6 459 Q
(dde_sampledev_drom_data.mapbmp.count = count;)84.6 470 Q
(for \(i=0; i<count; i++\) {)84.6 492 Q
(dde_sampledev_drom_data.mapbmp.mapping[i] =)106.2 503 Q(mapping[i];)149.4 514
Q(dde_sampledev_drom_data.mapbmp.raster[i] =)106.2 525 Q(raster[i];)149.4 536 Q
(dde_sampledev_drom_data.mapbmp.attributes[i] =)106.2 547 Q(attributes[i];)
149.4 558 Q(})84.6 569 Q(})63 580 Q(void)63 613 Q
(ddr_sampledev_drom_set_att_mapbmpswi \(switchvalue\))63 624 Q
(DtSwitch switchvalue;)63 635 Q({)63 646 Q
(dde_sampledev_drom_data.mapbmp.status = switchvalue;)84.6 657 Q(})63 668 Q
1.44 LW 81 756 63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL
153 756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225
756 207 756 DL 243 756 225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756
279 756 DL 315 756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351
756 DL 387 756 369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4
756 428.4 756 DL 464.4 756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4
756 DL 518.4 756 500.4 756 DL 536.4 756 518.4 756 DL/F4 9/Helvetica@0 SF
(Sample De)300.348 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296
768.96 Q 3.506<b444>424.798 768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper')
.27 E 2.502(sG)-.45 G(uide)487.371 768.96 Q/F5 9/Helvetica-Bold@0 SF(11-165)
4.002 E EP
%%Page: 166 46
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)72 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)72 68.4 Q(ued\))-.1 E .16 LW 223.4 110 221.4 110 DL
225.4 110 223.4 110 DL 227.4 110 225.4 110 DL 229.4 110 227.4 110 DL 231.4 110
229.4 110 DL 233.4 110 231.4 110 DL 235.4 110 233.4 110 DL 237.4 110 235.4 110
DL 239.4 110 237.4 110 DL 241.4 110 239.4 110 DL 243.4 110 241.4 110 DL 245.4
110 243.4 110 DL 247.4 110 245.4 110 DL 249.4 110 247.4 110 DL 251.4 110 249.4
110 DL 253.4 110 251.4 110 DL 255.4 110 253.4 110 DL 257.4 110 255.4 110 DL
259.4 110 257.4 110 DL 261.4 110 259.4 110 DL 263.4 110 261.4 110 DL 265.4 110
263.4 110 DL 267.4 110 265.4 110 DL 269.4 110 267.4 110 DL 271.4 110 269.4 110
DL 273.4 110 271.4 110 DL 275.4 110 273.4 110 DL 277.4 110 275.4 110 DL 279.4
110 277.4 110 DL 281.4 110 279.4 110 DL 283.4 110 281.4 110 DL 285.4 110 283.4
110 DL 287.4 110 285.4 110 DL 289.4 110 287.4 110 DL 291.4 110 289.4 110 DL
293.4 110 291.4 110 DL 295.4 110 293.4 110 DL 297.4 110 295.4 110 DL 299.4 110
297.4 110 DL 301.4 110 299.4 110 DL 303.4 110 301.4 110 DL 305.4 110 303.4 110
DL 307.4 110 305.4 110 DL 309.4 110 307.4 110 DL 311.4 110 309.4 110 DL 313.4
110 311.4 110 DL 315.4 110 313.4 110 DL 317.4 110 315.4 110 DL 319.4 110 317.4
110 DL 321.4 110 319.4 110 DL 323.4 110 321.4 110 DL 325.4 110 323.4 110 DL
327.4 110 325.4 110 DL 329.4 110 327.4 110 DL 331.4 110 329.4 110 DL 333.4 110
331.4 110 DL 335.4 110 333.4 110 DL 337.4 110 335.4 110 DL 339.4 110 337.4 110
DL 341.4 110 339.4 110 DL 343.4 110 341.4 110 DL 345.4 110 343.4 110 DL 347.4
110 345.4 110 DL 349.4 110 347.4 110 DL 351.4 110 349.4 110 DL 353.4 110 351.4
110 DL 355.4 110 353.4 110 DL 357.4 110 355.4 110 DL 359.4 110 357.4 110 DL
361.4 110 359.4 110 DL 363.4 110 361.4 110 DL 365.4 110 363.4 110 DL 367.4 110
365.4 110 DL 369.4 110 367.4 110 DL 371.4 110 369.4 110 DL 373.4 110 371.4 110
DL 375.4 110 373.4 110 DL 377.4 110 375.4 110 DL 379.4 110 377.4 110 DL 381.4
110 379.4 110 DL 383.4 110 381.4 110 DL 385.4 110 383.4 110 DL 387.4 110 385.4
110 DL 389.4 110 387.4 110 DL 391.4 110 389.4 110 DL 393.4 110 391.4 110 DL
395.4 110 393.4 110 DL 397.4 110 395.4 110 DL 399.4 110 397.4 110 DL 401.4 110
399.4 110 DL 403.4 110 401.4 110 DL 405.4 110 403.4 110 DL 407.4 110 405.4 110
DL 409.4 110 407.4 110 DL 411.4 110 409.4 110 DL 413.4 110 411.4 110 DL 415.4
110 413.4 110 DL 417.4 110 415.4 110 DL 419.4 110 417.4 110 DL 421.4 110 419.4
110 DL 423.4 110 421.4 110 DL 425.4 110 423.4 110 DL 427.4 110 425.4 110 DL
429.4 110 427.4 110 DL 431.4 110 429.4 110 DL 433.4 110 431.4 110 DL 435.4 110
433.4 110 DL 437.4 110 435.4 110 DL 439.4 110 437.4 110 DL 441.4 110 439.4 110
DL 443.4 110 441.4 110 DL 445.4 110 443.4 110 DL 447.4 110 445.4 110 DL 449.4
110 447.4 110 DL 451.4 110 449.4 110 DL 453.4 110 451.4 110 DL 455.4 110 453.4
110 DL 457.4 110 455.4 110 DL 459.4 110 457.4 110 DL 461.4 110 459.4 110 DL
463.4 110 461.4 110 DL 465.4 110 463.4 110 DL 467.4 110 465.4 110 DL 469.4 110
467.4 110 DL 471.4 110 469.4 110 DL 473.4 110 471.4 110 DL 475.4 110 473.4 110
DL 477.4 110 475.4 110 DL 479.4 110 477.4 110 DL 481.4 110 479.4 110 DL 483.4
110 481.4 110 DL 485.4 110 483.4 110 DL 487.4 110 485.4 110 DL 489.4 110 487.4
110 DL 491.4 110 489.4 110 DL 493.4 110 491.4 110 DL 495.4 110 493.4 110 DL
497.4 110 495.4 110 DL 499.4 110 497.4 110 DL 501.4 110 499.4 110 DL 503.4 110
501.4 110 DL 505.4 110 503.4 110 DL 507.4 110 505.4 110 DL 509.4 110 507.4 110
DL 511.4 110 509.4 110 DL 513.4 110 511.4 110 DL 515.4 110 513.4 110 DL 517.4
110 515.4 110 DL 519.4 110 517.4 110 DL 521.4 110 519.4 110 DL 523.4 110 521.4
110 DL 525.4 110 523.4 110 DL 527.4 110 525.4 110 DL 529.4 110 527.4 110 DL
531.4 110 529.4 110 DL 533.4 110 531.4 110 DL 535.4 110 533.4 110 DL 537.4 110
535.4 110 DL 539.4 110 537.4 110 DL 541.4 110 539.4 110 DL 543.4 110 541.4 110
DL 545.4 110 543.4 110 DL 1.44 LW 90 110.5 72 110.5 DL 99 110.5 81 110.5 DL 117
110.5 99 110.5 DL 135 110.5 117 110.5 DL 153 110.5 135 110.5 DL 171 110.5 153
110.5 DL 189 110.5 171 110.5 DL 207 110.5 189 110.5 DL/F2 12
/Helvetica-Oblique@0 SF(Control Routines)72 124.5 Q/F3 11/Palatino-Roman@0 SF
1.194(The complete DROM includes two mor)221.5 138.6 R 3.944(ec)-.198 G(ontr)
432.793 138.6 Q 1.194(ol functions.)-.198 F(They)6.694 E(ar)221.5 151.8 Q(e:)
-.198 E/F4 11/Palatino-Italic@0 SF(dr)261.5 169.2 Q(om.pr)-.198 E
(e_initialization)-.198 E(dr)261.5 182.4 Q(om.post_initialization)-.198 E F3
.306(The pr)221.5 198.6 R .306(e- and post-initialization calls come befor)
-.198 F 3.057(ea)-.198 G .307(nd after a set of)469.098 198.6 R .176
(calls to the attribute r)221.5 211.8 R 2.926(outines. They)-.198 F .175
(may be called mor)2.926 F 2.925(et)-.198 G .175(han once,)498.96 211.8 R 2.016
(so it is important to pr)221.5 225 R 2.017
(otect tasks that should only be executed)-.198 F 3.199(once. For)221.5 238.2 R
.448(the sample DROM the pr)3.199 F .448(e-initialize r)-.198 F .448
(outine sets the ini-)-.198 F .985(tial values for the curr)221.5 251.4 R .985
(ent maximum size for the allocated arrays.)-.198 F(This is only done once.)
221.5 264.6 Q/F5 9/Courier@0 SF(void)221.5 287.6 Q
(ddr_sampledev_drom_pre_initialization\(\))221.5 298.6 Q({)221.5 309.6 Q
(static DtMatrix4x4 identmat = { 1.,0.,0.,0.,)243.1 320.6 Q(0.,1.,0.,0.,)415.9
331.6 Q(0.,0.,1.,0.,)415.9 342.6 Q(0.,0.,0.,1.};)415.9 353.6 Q
(if \(!dde_sampledev_drom_initialized\) {)243.1 375.6 Q
(dde_sampledev_drom_data.max_matrices = 0;)264.7 386.6 Q
(dde_sampledev_drom_data.num_matrices = 0;)264.7 397.6 Q
(dde_sampledev_drom_data.matrix_stack =)264.7 408.6 Q
(\(ddt_sampledev_drom_matrix)307.9 419.6 Q/F6 9/Symbol SF(*)5.4 E F5(\)0;)A
(dde_sampledev_drom_data.device = \(DtObject\)0;)264.7 430.6 Q
(dde_sampledev_drom_data.view = \(DtObject\)0;)264.7 441.6 Q
(ddr_sampledev_matrix_concat)264.7 463.6 Q
(\(dde_sampledev_drom_data.lcstowcsmat,)307.9 474.6 Q(identmat, DcReplace\);)
313.3 485.6 Q(ddr_sampledev_matrix_concat)264.7 496.6 Q
(\(dde_sampledev_drom_data.lcstofcsmat,)307.9 507.6 Q(identmat, DcReplace\);)
307.9 518.6 Q(ddr_sampledev_matrix_concat)264.7 529.6 Q
(\(dde_sampledev_drom_data.nrmlcstowcsmat,)307.9 540.6 Q
(identmat, DcReplace\);)307.9 551.6 Q
(dde_sampledev_drom_data.mapbmp.max_count = 0;)264.7 573.6 Q
(dde_sampledev_drom_data.mapbmp.count = 0;)264.7 584.6 Q
(dde_sampledev_drom_data.mapbmp.mapping =)264.7 595.6 Q(\(DtObject)307.9 606.6
Q F6(*)5.4 E F5(\)0;)A(dde_sampledev_drom_data.mapbmp.raster =)264.7 617.6 Q
(\(DtObject)307.9 628.6 Q F6(*)5.4 E F5(\)0;)A
(dde_sampledev_drom_data.mapbmp.attributes =)264.7 639.6 Q(\(dot_stdtexatt)
307.9 650.6 Q F6(*)5.4 E F5(\)0;)A
(dde_sampledev_drom_data.mapdifclr.max_count = 0;)264.7 672.6 Q
(dde_sampledev_drom_data.mapdifclr.count = 0;)264.7 683.6 Q
(dde_sampledev_drom_data.mapdifclr.mapping =)264.7 694.6 Q(\(DtObject)307.9
705.6 Q F6(*)5.4 E F5(\)0;)A 90 756 72 756 DL 99 756 81 756 DL 117 756 99 756
DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL
207 756 189 756 DL 239.4 756 221.4 756 DL 257.4 756 239.4 756 DL 275.4 756
257.4 756 DL 293.4 756 275.4 756 DL 311.4 756 293.4 756 DL 329.4 756 311.4 756
DL 347.4 756 329.4 756 DL 365.4 756 347.4 756 DL 383.4 756 365.4 756 DL 401.4
756 383.4 756 DL 419.4 756 401.4 756 DL 437.4 756 419.4 756 DL 455.4 756 437.4
756 DL 473.4 756 455.4 756 DL 491.4 756 473.4 756 DL 509.4 756 491.4 756 DL
527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F7 9/Helvetica-Bold@0 SF(11-166)
72 768.96 Q/F8 9/Helvetica@0 SF(Dore)6.504 E 3.506<b444>122.023 768.96 S -2.187
-.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q
(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 167 47
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)403.81 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)486.48 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF
(dde_sampledev_drom_data.mapdifclr.raster =)106.2 107 Q(\(DtObject)149.4 118 Q
/F3 9/Symbol SF(*)5.4 E F2(\)0;)A
(dde_sampledev_drom_data.mapdifclr.attributes =)106.2 129 Q(\(dot_stdtexatt)
149.4 140 Q F3(*)5.4 E F2(\)0;)A(dde_sampledev_drom_data.mapenv.max_count = 0;)
106.2 162 Q(dde_sampledev_drom_data.mapenv.count = 0;)106.2 173 Q
(dde_sampledev_drom_data.mapenv.mapping =)106.2 184 Q(\(DtObject)149.4 195 Q F3
(*)5.4 E F2(\)0;)A(dde_sampledev_drom_data.mapenv.raster =)106.2 206 Q
(\(DtObject)149.4 217 Q F3(*)5.4 E F2(\)0;)A
(dde_sampledev_drom_data.mapenv.attributes =)106.2 228 Q(\(dot_stdtexatt)149.4
239 Q F3(*)5.4 E F2(\)0;)A(dde_sampledev_drom_data.maptrnint.max_count = 0;)
106.2 261 Q(dde_sampledev_drom_data.maptrnint.count = 0;)106.2 272 Q
(dde_sampledev_drom_data.maptrnint.mapping =)106.2 283 Q(\(DtObject)149.4 294 Q
F3(*)5.4 E F2(\)0;)A(dde_sampledev_drom_data.maptrnint.raster =)106.2 305 Q
(\(DtObject)149.4 316 Q F3(*)5.4 E F2(\)0;)A
(dde_sampledev_drom_data.maptrnint.attributes =)106.2 327 Q(\(dot_stdtexatt)
149.4 338 Q F3(*)5.4 E F2(\)0;)A(dde_sampledev_drom_initialized = DcTrue;)106.2
360 Q(})84.6 371 Q(dde_sampledev_drom_pre_init = DcTrue;)84.6 393 Q(})63 404 Q
/F4 11/Palatino-Roman@0 SF .145(The post-initialization r)63 429.2 R .145
(outine just turns of)-.198 F 2.895(ft)-.198 G .145(he \215ag indicating that)
280.053 429.2 R(initialization is in pr)63 442.4 Q(ogr)-.198 E(ess.)-.198 E F2
(void)63 465.4 Q(ddr_sampledev_drom_post_initialization\(\))63 476.4 Q({)63
487.4 Q(dde_sampledev_drom_pre_init = DcFalse;)84.6 498.4 Q(})63 509.4 Q .16 LW
65 535.4 63 535.4 DL 67 535.4 65 535.4 DL 69 535.4 67 535.4 DL 71 535.4 69
535.4 DL 73 535.4 71 535.4 DL 75 535.4 73 535.4 DL 77 535.4 75 535.4 DL 79
535.4 77 535.4 DL 81 535.4 79 535.4 DL 83 535.4 81 535.4 DL 85 535.4 83 535.4
DL 87 535.4 85 535.4 DL 89 535.4 87 535.4 DL 91 535.4 89 535.4 DL 93 535.4 91
535.4 DL 95 535.4 93 535.4 DL 97 535.4 95 535.4 DL 99 535.4 97 535.4 DL 101
535.4 99 535.4 DL 103 535.4 101 535.4 DL 105 535.4 103 535.4 DL 107 535.4 105
535.4 DL 109 535.4 107 535.4 DL 111 535.4 109 535.4 DL 113 535.4 111 535.4 DL
115 535.4 113 535.4 DL 117 535.4 115 535.4 DL 119 535.4 117 535.4 DL 121 535.4
119 535.4 DL 123 535.4 121 535.4 DL 125 535.4 123 535.4 DL 127 535.4 125 535.4
DL 129 535.4 127 535.4 DL 131 535.4 129 535.4 DL 133 535.4 131 535.4 DL 135
535.4 133 535.4 DL 137 535.4 135 535.4 DL 139 535.4 137 535.4 DL 141 535.4 139
535.4 DL 143 535.4 141 535.4 DL 145 535.4 143 535.4 DL 147 535.4 145 535.4 DL
149 535.4 147 535.4 DL 151 535.4 149 535.4 DL 153 535.4 151 535.4 DL 155 535.4
153 535.4 DL 157 535.4 155 535.4 DL 159 535.4 157 535.4 DL 161 535.4 159 535.4
DL 163 535.4 161 535.4 DL 165 535.4 163 535.4 DL 167 535.4 165 535.4 DL 169
535.4 167 535.4 DL 171 535.4 169 535.4 DL 173 535.4 171 535.4 DL 175 535.4 173
535.4 DL 177 535.4 175 535.4 DL 179 535.4 177 535.4 DL 181 535.4 179 535.4 DL
183 535.4 181 535.4 DL 185 535.4 183 535.4 DL 187 535.4 185 535.4 DL 189 535.4
187 535.4 DL 191 535.4 189 535.4 DL 193 535.4 191 535.4 DL 195 535.4 193 535.4
DL 197 535.4 195 535.4 DL 199 535.4 197 535.4 DL 201 535.4 199 535.4 DL 203
535.4 201 535.4 DL 205 535.4 203 535.4 DL 207 535.4 205 535.4 DL 209 535.4 207
535.4 DL 211 535.4 209 535.4 DL 213 535.4 211 535.4 DL 215 535.4 213 535.4 DL
217 535.4 215 535.4 DL 219 535.4 217 535.4 DL 221 535.4 219 535.4 DL 223 535.4
221 535.4 DL 225 535.4 223 535.4 DL 227 535.4 225 535.4 DL 229 535.4 227 535.4
DL 231 535.4 229 535.4 DL 233 535.4 231 535.4 DL 235 535.4 233 535.4 DL 237
535.4 235 535.4 DL 239 535.4 237 535.4 DL 241 535.4 239 535.4 DL 243 535.4 241
535.4 DL 245 535.4 243 535.4 DL 247 535.4 245 535.4 DL 249 535.4 247 535.4 DL
251 535.4 249 535.4 DL 253 535.4 251 535.4 DL 255 535.4 253 535.4 DL 257 535.4
255 535.4 DL 259 535.4 257 535.4 DL 261 535.4 259 535.4 DL 263 535.4 261 535.4
DL 265 535.4 263 535.4 DL 267 535.4 265 535.4 DL 269 535.4 267 535.4 DL 271
535.4 269 535.4 DL 273 535.4 271 535.4 DL 275 535.4 273 535.4 DL 277 535.4 275
535.4 DL 279 535.4 277 535.4 DL 281 535.4 279 535.4 DL 283 535.4 281 535.4 DL
285 535.4 283 535.4 DL 287 535.4 285 535.4 DL 289 535.4 287 535.4 DL 291 535.4
289 535.4 DL 293 535.4 291 535.4 DL 295 535.4 293 535.4 DL 297 535.4 295 535.4
DL 299 535.4 297 535.4 DL 301 535.4 299 535.4 DL 303 535.4 301 535.4 DL 305
535.4 303 535.4 DL 307 535.4 305 535.4 DL 309 535.4 307 535.4 DL 311 535.4 309
535.4 DL 313 535.4 311 535.4 DL 315 535.4 313 535.4 DL 317 535.4 315 535.4 DL
319 535.4 317 535.4 DL 321 535.4 319 535.4 DL 323 535.4 321 535.4 DL 325 535.4
323 535.4 DL 327 535.4 325 535.4 DL 329 535.4 327 535.4 DL 331 535.4 329 535.4
DL 333 535.4 331 535.4 DL 335 535.4 333 535.4 DL 337 535.4 335 535.4 DL 339
535.4 337 535.4 DL 341 535.4 339 535.4 DL 343 535.4 341 535.4 DL 345 535.4 343
535.4 DL 347 535.4 345 535.4 DL 349 535.4 347 535.4 DL 351 535.4 349 535.4 DL
353 535.4 351 535.4 DL 355 535.4 353 535.4 DL 357 535.4 355 535.4 DL 359 535.4
357 535.4 DL 361 535.4 359 535.4 DL 363 535.4 361 535.4 DL 365 535.4 363 535.4
DL 367 535.4 365 535.4 DL 369 535.4 367 535.4 DL 371 535.4 369 535.4 DL 373
535.4 371 535.4 DL 375 535.4 373 535.4 DL 377 535.4 375 535.4 DL 379 535.4 377
535.4 DL 381 535.4 379 535.4 DL 383 535.4 381 535.4 DL 385 535.4 383 535.4 DL
387 535.4 385 535.4 DL 1.44 LW 419.4 535.9 401.4 535.9 DL 428.4 535.9 410.4
535.9 DL 446.4 535.9 428.4 535.9 DL 464.4 535.9 446.4 535.9 DL 482.4 535.9
464.4 535.9 DL 500.4 535.9 482.4 535.9 DL 518.4 535.9 500.4 535.9 DL 536.4
535.9 518.4 535.9 DL/F5 12/Helvetica-Oblique@0 SF -2.976(Geometr y)483.36 549.9
R(Routines)489.048 563.9 Q F4 2.982(The geometry r)63 564 R 2.983(outines ar)
-.198 F 5.733(ev)-.198 G 2.983(ery device speci\214c. In the sample)211.804 564
R 1.339(device driver they just print out geometry information.)63 577.2 R
1.339(In a full)6.839 F .051(DROM of a r)63 590.4 R .051
(eal device driver these r)-.198 F .052(outines would take the geom-)-.198 F
1.177(etry as de\214ned in local coor)63 603.6 R 1.176
(dinates and transform them with the)-.198 F/F6 11/Palatino-Italic@0 SF
(lcstowcsmat)63 616.8 Q F4 .876(to world coor)3.626 F .877
(dinates to perform lighting and shading)-.198 F 3.955(calculations. The)63 630
R(matrix)3.955 E F6(lcstofcsmat)3.955 E F4 1.204(is used to transform the data)
3.955 F(fr)63 643.2 Q .868(om local coor)-.198 F .868(dinates to device coor)
-.198 F .869(dinates for drawing.)-.198 F .869(All the)6.369 F 2.945
(attribute values stor)63 656.4 R 2.945
(ed by the appearance attributes should be)-.198 F(used to draw the geometry)63
669.6 Q(.)-1.221 E 81 756 63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756
117 756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189
756 DL 225 756 207 756 DL 243 756 225 756 DL 261 756 243 756 DL 279 756 261 756
DL 297 756 279 756 DL 315 756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL
369 756 351 756 DL 387 756 369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4
756 DL 446.4 756 428.4 756 DL 464.4 756 446.4 756 DL 482.4 756 464.4 756 DL
500.4 756 482.4 756 DL 518.4 756 500.4 756 DL 536.4 756 518.4 756 DL/F7 9
/Helvetica@0 SF(Sample De)300.348 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E
(Dore)409.296 768.96 Q 3.506<b444>424.798 768.96 S -2.187 -.27(ev e)437.799
768.96 T(loper').27 E 2.502(sG)-.45 G(uide)487.371 768.96 Q/F8 9
/Helvetica-Bold@0 SF(11-167)4.002 E EP
%%Page: 168 48
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)72 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)72 68.4 Q(ued\))-.1 E .16 LW 223.4 110 221.4 110 DL
225.4 110 223.4 110 DL 227.4 110 225.4 110 DL 229.4 110 227.4 110 DL 231.4 110
229.4 110 DL 233.4 110 231.4 110 DL 235.4 110 233.4 110 DL 237.4 110 235.4 110
DL 239.4 110 237.4 110 DL 241.4 110 239.4 110 DL 243.4 110 241.4 110 DL 245.4
110 243.4 110 DL 247.4 110 245.4 110 DL 249.4 110 247.4 110 DL 251.4 110 249.4
110 DL 253.4 110 251.4 110 DL 255.4 110 253.4 110 DL 257.4 110 255.4 110 DL
259.4 110 257.4 110 DL 261.4 110 259.4 110 DL 263.4 110 261.4 110 DL 265.4 110
263.4 110 DL 267.4 110 265.4 110 DL 269.4 110 267.4 110 DL 271.4 110 269.4 110
DL 273.4 110 271.4 110 DL 275.4 110 273.4 110 DL 277.4 110 275.4 110 DL 279.4
110 277.4 110 DL 281.4 110 279.4 110 DL 283.4 110 281.4 110 DL 285.4 110 283.4
110 DL 287.4 110 285.4 110 DL 289.4 110 287.4 110 DL 291.4 110 289.4 110 DL
293.4 110 291.4 110 DL 295.4 110 293.4 110 DL 297.4 110 295.4 110 DL 299.4 110
297.4 110 DL 301.4 110 299.4 110 DL 303.4 110 301.4 110 DL 305.4 110 303.4 110
DL 307.4 110 305.4 110 DL 309.4 110 307.4 110 DL 311.4 110 309.4 110 DL 313.4
110 311.4 110 DL 315.4 110 313.4 110 DL 317.4 110 315.4 110 DL 319.4 110 317.4
110 DL 321.4 110 319.4 110 DL 323.4 110 321.4 110 DL 325.4 110 323.4 110 DL
327.4 110 325.4 110 DL 329.4 110 327.4 110 DL 331.4 110 329.4 110 DL 333.4 110
331.4 110 DL 335.4 110 333.4 110 DL 337.4 110 335.4 110 DL 339.4 110 337.4 110
DL 341.4 110 339.4 110 DL 343.4 110 341.4 110 DL 345.4 110 343.4 110 DL 347.4
110 345.4 110 DL 349.4 110 347.4 110 DL 351.4 110 349.4 110 DL 353.4 110 351.4
110 DL 355.4 110 353.4 110 DL 357.4 110 355.4 110 DL 359.4 110 357.4 110 DL
361.4 110 359.4 110 DL 363.4 110 361.4 110 DL 365.4 110 363.4 110 DL 367.4 110
365.4 110 DL 369.4 110 367.4 110 DL 371.4 110 369.4 110 DL 373.4 110 371.4 110
DL 375.4 110 373.4 110 DL 377.4 110 375.4 110 DL 379.4 110 377.4 110 DL 381.4
110 379.4 110 DL 383.4 110 381.4 110 DL 385.4 110 383.4 110 DL 387.4 110 385.4
110 DL 389.4 110 387.4 110 DL 391.4 110 389.4 110 DL 393.4 110 391.4 110 DL
395.4 110 393.4 110 DL 397.4 110 395.4 110 DL 399.4 110 397.4 110 DL 401.4 110
399.4 110 DL 403.4 110 401.4 110 DL 405.4 110 403.4 110 DL 407.4 110 405.4 110
DL 409.4 110 407.4 110 DL 411.4 110 409.4 110 DL 413.4 110 411.4 110 DL 415.4
110 413.4 110 DL 417.4 110 415.4 110 DL 419.4 110 417.4 110 DL 421.4 110 419.4
110 DL 423.4 110 421.4 110 DL 425.4 110 423.4 110 DL 427.4 110 425.4 110 DL
429.4 110 427.4 110 DL 431.4 110 429.4 110 DL 433.4 110 431.4 110 DL 435.4 110
433.4 110 DL 437.4 110 435.4 110 DL 439.4 110 437.4 110 DL 441.4 110 439.4 110
DL 443.4 110 441.4 110 DL 445.4 110 443.4 110 DL 447.4 110 445.4 110 DL 449.4
110 447.4 110 DL 451.4 110 449.4 110 DL 453.4 110 451.4 110 DL 455.4 110 453.4
110 DL 457.4 110 455.4 110 DL 459.4 110 457.4 110 DL 461.4 110 459.4 110 DL
463.4 110 461.4 110 DL 465.4 110 463.4 110 DL 467.4 110 465.4 110 DL 469.4 110
467.4 110 DL 471.4 110 469.4 110 DL 473.4 110 471.4 110 DL 475.4 110 473.4 110
DL 477.4 110 475.4 110 DL 479.4 110 477.4 110 DL 481.4 110 479.4 110 DL 483.4
110 481.4 110 DL 485.4 110 483.4 110 DL 487.4 110 485.4 110 DL 489.4 110 487.4
110 DL 491.4 110 489.4 110 DL 493.4 110 491.4 110 DL 495.4 110 493.4 110 DL
497.4 110 495.4 110 DL 499.4 110 497.4 110 DL 501.4 110 499.4 110 DL 503.4 110
501.4 110 DL 505.4 110 503.4 110 DL 507.4 110 505.4 110 DL 509.4 110 507.4 110
DL 511.4 110 509.4 110 DL 513.4 110 511.4 110 DL 515.4 110 513.4 110 DL 517.4
110 515.4 110 DL 519.4 110 517.4 110 DL 521.4 110 519.4 110 DL 523.4 110 521.4
110 DL 525.4 110 523.4 110 DL 527.4 110 525.4 110 DL 529.4 110 527.4 110 DL
531.4 110 529.4 110 DL 533.4 110 531.4 110 DL 535.4 110 533.4 110 DL 537.4 110
535.4 110 DL 539.4 110 537.4 110 DL 541.4 110 539.4 110 DL 543.4 110 541.4 110
DL 545.4 110 543.4 110 DL 1.44 LW 90 110.5 72 110.5 DL 99 110.5 81 110.5 DL 117
110.5 99 110.5 DL 135 110.5 117 110.5 DL 153 110.5 135 110.5 DL 171 110.5 153
110.5 DL 189 110.5 171 110.5 DL 207 110.5 189 110.5 DL/F2 12
/Helvetica-Oblique@0 SF(Dynamic Geometr)72 124.5 Q(y).36 E(Shading)72 138.5 Q
/F3 11/Palatino-Roman@0 SF .566(Many devices pr)221.5 138.6 R .566
(ovide full har)-.198 F(dwar)-.198 E 3.315(es)-.198 G .565
(upport for shading the geo-)409.117 138.6 R .014(metric objects.)221.5 151.8 R
(However)5.515 E 2.765(,f)-.814 G .015(or some devices the shading needs to be)
350.387 151.8 R 3.414(done in softwar)221.5 165 R 6.163(e. When)-.198 F 3.413
(you implement a device driver that)6.163 F -.198(re)221.5 178.2 S(quir).198 E
3.602(es softwar)-.198 F 6.352(es)-.198 G 3.603(hading, consider the tradeof)
320.367 178.2 R 3.603(fs between the)-.198 F 1.351
(quality of output and speed.)221.5 191.4 R 1.351
(The following paragraphs describe)6.851 F 1.981
(one way to perform the shading calculations.)221.5 204.6 R 1.981
(Other techniques)7.481 F 1.302(may be mor)221.5 217.8 R 4.051(ea)-.198 G 1.301
(pplicable depending on the availability and capa-)296.97 217.8 R
(bilities of the har)221.5 231 Q(dwar)-.198 E(e.)-.198 E 2.075
(In this example, the shading equations will be br)221.5 256.2 R 2.076
(oken into two)-.198 F .017(classes: constant shading and light sour)221.5
269.4 R .016(ce shading.)-.198 F .016(Note that even)5.516 F(though)221.5 282.6
Q/F4 11/Palatino-Italic@0 SF(dr)269.929 282.6 Q(om.set_att_srfshd)-.198 E F3
10.535(speci\214es light sour)371.313 282.6 R 10.535(ce shading)-.198 F(\()
221.5 295.8 Q F4(DcShaderLightSour)A(ce)-.198 E F3 1.866
(\), constant shading will be performed if the)B 2.287(geometry does not pr)
221.5 309 R 2.288(ovide normals \(either element normals or)-.198 F
(vertex normals\).)221.5 322.2 Q
(The following equations make several assumptions:)221.5 347.4 Q 13.75
(\(1\) Shades)227 372.6 R(ar)2.915 E 2.915(ec)-.198 G .164
(omputed on an element basis \(e.g., per triangle)316.287 372.6 R 1.164
(in a triangle list\) only when ther)256.326 385.8 R 3.915(ei)-.198 G 3.915(sn)
431.61 385.8 S 1.165(ot a dependency on)446.591 385.8 R(vertex information.)
256.326 399 Q 13.75(\(2\) If)227 424.2 R 5.958(vertex shades ar)8.708 F 8.707
(ec)-.198 G 5.957(omputed and the value fr)381.906 424.2 R(om)-.198 E F4(dr)
256.326 437.4 Q(om.set_att_inttyp)-.198 E F3(is)5.415 E F4(DcConstantShade)
5.415 E F3 5.415(,t)C 2.666(he element shade)455.732 437.4 R
(will be the average of the vertex shades.)256.326 450.6 Q 13.75(\(3\) All)227
475.8 R 3.511(light sour)6.261 F 3.511(ce shading is done in world space.)-.198
F(This)9.01 E 1.759(means that the vertex locations and vertex normals must)
256.326 489 R 3.141(be transformed fr)256.326 502.2 R 3.141(om local coor)-.198
F 3.14(dinates to world coor)-.198 F(di-)-.198 E(nates.)256.326 515.4 Q 13.75
(\(4\) When)227 540.6 R 1.567(only element normals ar)4.316 F 4.317(ep)-.198 G
-.198(ro)428.775 540.6 S 1.567(vided and shading is).198 F .167
(done per vertex, the element normal will be used at each of)256.326 553.8 R
(the vertices.)256.326 567 Q 2.494
(Many of the parameters in the following equations come fr)221.5 592.2 R(om)
-.198 E .951(data saved by the DROM fr)221.5 605.4 R .95
(om the interface calls with the)-.198 F F4(dr)3.7 E(om.)-.198 E/F5 11/Symbol
SF(*)A F3 7.24(functions. These)221.5 618.6 R 4.491(parameters ar)7.241 F 7.241
(ed)-.198 G 4.491(escribed below)406.19 618.6 R 9.991(.P)-1.012 G(arameter)
501.973 618.6 Q 2.152(names with a bar over them r)221.5 631.8 R(epr)-.198 E
2.152(esent triples \(such as vertices,)-.198 F .274(normals, and colors\).)
221.5 645 R .274(Other parameters ar)5.774 F 3.025(es)-.198 G 3.025
(calars. Each)441.748 645 R(parame-)3.025 E .414(ter has a subscript:)221.5
658.2 R F4(v)3.164 E F3 .414(for vertex values,)3.164 F F4(o)3.164 E F3 .413
(for values on a per object)3.164 F(basis, or)221.5 671.4 Q F4(l)2.75 E F3
(for values that depend on a light.)2.75 E(aintensity)221.5 696.6 Q/F6 8
/Palatino-Roman@0 SF(o)2.2 I F3 13.113(the ambient intensity value fr)246.5
709.8 R 13.114(om the function)-.198 F 90 756 72 756 DL 99 756 81 756 DL 117
756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756
171 756 DL 207 756 189 756 DL 239.4 756 221.4 756 DL 257.4 756 239.4 756 DL
275.4 756 257.4 756 DL 293.4 756 275.4 756 DL 311.4 756 293.4 756 DL 329.4 756
311.4 756 DL 347.4 756 329.4 756 DL 365.4 756 347.4 756 DL 383.4 756 365.4 756
DL 401.4 756 383.4 756 DL 419.4 756 401.4 756 DL 437.4 756 419.4 756 DL 455.4
756 437.4 756 DL 473.4 756 455.4 756 DL 491.4 756 473.4 756 DL 509.4 756 491.4
756 DL 527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F7 9/Helvetica-Bold@0 SF
(11-168)72 768.96 Q/F8 9/Helvetica@0 SF(Dore)6.504 E 3.506<b444>122.023 768.96
S -2.187 -.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)184.596
768.96 Q(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E EP
%%Page: 169 49
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)403.81 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)486.48 68.4 Q(ued\))-.1 E/F2 11/Palatino-Italic@0 SF
(dr)88 109.2 Q(om.set_att_ambint)-.198 E/F3 11/Palatino-Roman@0 SF(.)A
(dintensity)63 134.4 Q/F4 8/Palatino-Roman@0 SF(o)2.2 I F3 14.137(the dif)88
147.6 R 14.137(fuse intensity value fr)-.198 F 14.136(om the function)-.198 F
F2(dr)88 160.8 Q(om.set_att_di\214nt)-.198 E F3(.)A .44 LW 95.442 177.31 63
177.31 DL(dcolor)63 186.913 Q F4(o)2.2 I F3 11.171(the dif)88 200.113 R 11.171
(fuse color RGB triple fr)-.198 F 11.171(om the function)-.198 F F2(dr)88
213.313 Q(om.set_att_difclr)-.198 E F3(.)A(sintensity)63 238.513 Q F4(o)2.2 I
F3 12.888(the specular intensity value fr)88 251.713 R 12.888(om the function)
-.198 F F2(dr)88 264.913 Q(om.set_att_spcint)-.198 E F3(.)A 94.309 281.423 63
281.423 DL(scolor)63 291.026 Q F4(o)2.2 I F3 10.101
(the specular color RGB triple fr)88 304.226 R 10.101(om the function)-.198 F
F2(dr)88 317.426 Q(om.set_att_spcclr)-.198 E F3(.)A(sexp)63 342.626 Q F4(o)2.2
I F3 15.295(the specular factor value fr)88 355.826 R 15.295(om the function)
-.198 F F2(dr)88 369.026 Q(om.set_att_spcfct)-.198 E F3(.)A(lintensity)63
394.226 Q F4(l)2.2 I F3 .988(the light intensity value fr)88 407.426 R .988
(om the function)-.198 F F2(dr)3.739 E(om.set_att_lgtint)-.198 E F3(stor)88
420.626 Q(ed with light)-.198 E F2(l)2.904 E F3(.).253 E 91.359 437.136 63
437.136 DL(lcolor)63 446.739 Q F4(l)2.2 I F3 .165
(the light color RGB triple fr)88 459.939 R .165(om the function)-.198 F F2(dr)
2.914 E(om.set_att_lgtclr)-.198 E F3(stor)88 473.139 Q(ed with light)-.198 E F2
(l)2.904 E F3(.).253 E 106.088 489.649 63 489.649 DL(ldirnorm)63 499.252 Q F4
(l)2.2 I F3 .106(the unit vector r)88 512.452 R(epr)-.198 E .106
(esenting the dir)-.198 F .107(ection in which the light is)-.198 F 4.278
(aimed. This)88 525.652 R 1.528(light dir)4.278 F 1.527
(ection normal in world space is deter)-.198 F(-)-.198 E 2.77
(mined by transforming the vector \(0,)88 538.852 R(0,)1.87 E/F5 11/Symbol SF
(-)1.87 E F3 2.771(1\) by the curr)B(ent)-.198 E 3.127
(local-to-world transformation at the time the)88 552.052 R F2(dr)5.877 E
(om.light)-.198 E F3(is)5.876 E .598(executed for light)88 565.252 R F2(l)3.502
E F3 6.099(.T).253 G .599(he r)196.928 565.252 R .599
(esulting vector is then normalized.)-.198 F(ltype)63 590.452 Q F4(l)2.2 I F3
3.705(the light type value fr)88 603.652 R 3.705(om the function)-.198 F F2(dr)
6.455 E(om.set_att_lgttyp)-.198 E F3(stor)88 616.852 Q(ed with light)-.198 E F2
(l)2.904 E F3(.).253 E 82.053 633.362 63 633.362 DL(lloc)63 642.965 Q F4(l)2.2
I F3 1.057(the light position in world space.)88 656.165 R 1.057
(It is determined by trans-)6.557 F .424(forming the point \(0,)88 669.365 R
-.88(0, 0\))1.87 F .423(by the curr)3.173 F .423(ent local-to-world trans-)
-.198 F(formation at the time the)88 682.565 Q F2(dr)2.75 E(om.light)-.198 E F3
(is executed for light)2.75 E F2(l)2.904 E F3(.).253 E 1.44 LW 81 756 63 756 DL
99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171
756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756
225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297
756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756
DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4
756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4
756 DL 536.4 756 518.4 756 DL/F6 9/Helvetica@0 SF(Sample De)300.348 768.96 Q
(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798
768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)
487.371 768.96 Q/F7 9/Helvetica-Bold@0 SF(11-169)4.002 E EP
%%Page: 170 50
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)72 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)72 68.4 Q(ued\))-.1 E/F2 11/Palatino-Roman@0 SF
(total)221.5 109.2 Q/F3 8/Palatino-Roman@0 SF(l)2.2 I F2(and delta)3.492 -2.2 M
F3(l)2.2 I F2 10.221(the light spr)246.5 122.4 R 10.22(ead angle values fr)
-.198 F 10.22(om the function)-.198 F/F4 11/Palatino-Italic@0 SF(dr)246.5 135.6
Q(om.set_att_lgtspdang)-.198 E F2(stor)2.75 E(ed with light)-.198 E F4(l)2.904
E F2(.).253 E(lexp)221.5 160.8 Q F3(l)2.2 I F2 8.21(the light spr)246.5 174 R
8.21(ead exponent value fr)-.198 F 8.211(om the function)-.198 F F4(dr)246.5
187.2 Q(om.set_att_lgtspdexp)-.198 E F2(stor)2.75 E(ed with light)-.198 E F4(l)
2.904 E F2(.).253 E(c1)221.5 212.4 Q/F5 8/Palatino-Italic@0 SF(l).112 2.2 M F2
(and c2)3.484 -2.2 M F5(l).112 2.2 M F2 6.755
(the light attenuation factor values fr)246.5 225.6 R 6.755(om the function)
-.198 F F4(dr)246.5 238.8 Q(om.set_att_lgtatn)-.198 E F2(stor)2.75 E
(ed with the light)-.198 E F4(l)2.904 E F2(.).253 E .44 LW 254.394 255.31 221.5
255.31 DL(vcolor)221.5 264.913 Q F3(v)2.2 I F2 .193
(the vertex color of the object at vertex)246.5 278.113 R F4(v)2.943 E F2(fr)
2.943 E .194(om the)-.198 F F4(vtxclrs)2.944 E F2(array)2.944 E
(of the geometry function \()246.5 291.313 Q F4(dr)A(om.r)-.198 E(ender_)-.198
E/F6 11/Symbol SF(*)A F2(\).)A 258.816 307.823 221.5 307.823 DL(normal)221.5
317.426 Q F3(v)2.2 I F2 .765(the surface normal of the object at vertex)246.5
330.626 R F4(v)3.515 E F2(fr)3.515 E .764(om the)-.198 F F4(vtxnrms)3.514 E F2
6.601(array or the)246.5 343.826 R F4(elenrms)9.351 E F2 6.601
(array of the geometry function)9.351 F(\()246.5 357.026 Q F4(dr)A(om.r)-.198 E
(ender_)-.198 E F6(*)A F2 3.913(\)a)C 1.163(nd transformed by the CTM.)328.546
357.026 R 1.163(It is assumed)6.663 F(to be unit length.)246.5 370.226 Q
245.088 386.736 221.5 386.736 DL(vloc)221.5 396.339 Q F3(v)2.2 I F2 .597
(the coor)246.5 409.539 R .597(dinates of vertex)-.198 F F4(v)3.348 E F2 .598
(of the object fr)3.348 F .598(om the)-.198 F F4(vtxloc)3.348 E F2(array)3.348
E .566(of the geometry function \()246.5 422.739 R F4(dr)A(om.r)-.198 E(ender_)
-.198 E F6(*)A F2 3.315(\)a)C .565(nd transformed by)453.334 422.739 R
(the CTM.)246.5 435.939 Q 238.935 452.449 221.5 452.449 DL(eloc)221.5 462.052 Q
(the location of the eye point \(camera\) in world coor)246.5 475.252 Q
(dinates.)-.198 E .04(Several of the parameters in the following equations ar)
221.5 500.452 R 2.79(ec)-.198 G(omputed)500.961 500.452 Q(fr)221.5 513.652 Q
1.329(om the information pr)-.198 F 1.329(ovided fr)-.198 F 1.329
(om the DROM interface.)-.198 F(These)6.829 E(quantities ar)221.5 526.852 Q(e:)
-.198 E(vtoldistance)221.5 557.762 Q F3(l)2.2 I F6(=)3.63 -2.2 M<ef>3.08 -3.685
M 321.416 548.236 301.246 548.236 DL<ef>295.812 565.077 Q F2(lloc)301.246
557.762 Q F3(l)2.2 I 358.991 548.236 333.615 548.236 DL F6(-)324.496 557.762 Q
F2(vloc)3.08 E F3(v)2.2 I F6<ef>362.071 554.077 Q<ef>362.071 565.077 Q 284.119
587.462 221.5 587.462 DL F2(vtoldirnorm)221.5 596.988 Q F3(l)2.2 I 319.992
579.762 299.822 579.762 DL F6(=)287.199 596.988 Q F2(lloc)299.822 589.288 Q F3
(l)2.2 I 357.567 579.762 332.191 579.762 DL F6(-)323.072 589.288 Q F2(vloc)3.08
E F3(v)2.2 I F2(vtoldistance)297.638 604.688 Q 359.751 594.128 297.638 594.128
DL F3(l)356.873 606.888 Q/F7 11/Symbol-Slanted SF(q)220.917 636.348 Q F6(=)4.62
E F2(cos)3.08 E/F8 8/Symbol SF(-)258.394 631.728 Q F3(1)A F6<e6>3.63 -1.43 M
324.708 626.822 277.896 626.822 DL<e8>270.416 643.641 Q F2(ldirnorm)277.896
636.348 Q F3(l)2.2 I 396.237 626.822 333.618 626.822 DL F6<d7>327.788 636.348 Q
F2(vtoldirnorm)3.08 E F3(l)2.2 I F6<f6>399.317 630.298 Q<f8>399.317 643.641 Q
/F9 11/Helvetica-BoldOblique@0 SF(Constant Shading)221.5 680.214 Q 1.44 LW 90
756 72 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135
756 DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756 221.4
756 DL 257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756 DL
311.4 756 293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4 756
347.4 756 DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4 756
DL 437.4 756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL 491.4
756 473.4 756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756 527.4
756 DL/F10 9/Helvetica-Bold@0 SF(11-170)72 768.96 Q/F11 9/Helvetica@0 SF(Dore)
6.504 E 3.506<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T(loper')
.27 E 2.502(sG)-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q(vice Dr)
-.27 E(iv).135 E(er)-.225 E EP
%%Page: 171 51
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)403.81 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)486.48 68.4 Q(ued\))-.1 E/F2 11/Palatino-Roman@0 SF
.826(The constant shading case is the simplest. It only uses the dif)63 109.2 R
(fuse)-.198 E(intensity and either the dif)63 122.4 Q
(fuse color or vertex colors if pr)-.198 E(ovided.)-.198 E .44 LW 101.194
140.11 63 140.11 DL/F3 11/Helvetica-BoldOblique@0 SF(shade)62.857 149.548 Q/F4
8/Helvetica-BoldOblique@0 SF(v).349 2.2 M/F5 11/Symbol SF(=)4.83 -2.2 M F2
(dintensity)3.08 E/F6 8/Palatino-Roman@0 SF(o)-.616 2.2 M 219.806 140.11
179.962 140.11 DL F5<b4>170.843 149.548 Q F3(dcolor)2.728 E F4(v).382 2.2 M
102.844 176.52 63 176.52 DL F3(dcolor)62.648 185.958 Q F4(v).382 2.2 M F5(=)
4.83 -2.2 M<ec>115.043 176.773 Q<ed>115.043 187.773 Q 161.102 168.82 122.347
168.82 DL<ee>115.043 198.773 Q F2(vcolor)122.347 178.258 Q 159.271 184.22
119.179 184.22 DL F6(v)152.344 180.458 Q F2(dcolor)119.179 193.658 Q F6(o)-.66
2.2 M F2(if)175.76 178.258 Q 232.973 168.82 194.218 168.82 DL F3(\()185.418
178.258 Q F2(vcolor)5.137 E F6(v)-.66 2.2 M F5<b9>4.15 -2.2 M F3 1.397(NULL \))
2.871 F(otherwise)172.383 193.658 Q(Light Sour)63 246.148 Q(ce Shading)-.22 E
F2 1.73(Light sour)63 271.348 R 1.729(ce shading r)-.198 F(equir)-.198 E 1.729
(es much mor)-.198 F 4.479(ec)-.198 G 1.729(omputation than the)283.651 271.348
R(constant shading case and can be br)63 284.548 Q(oken into thr)-.198 E
(ee components.)-.198 E 101.194 302.357 63 302.357 DL F3(shade)62.857 311.795 Q
F4(v).349 2.2 M 162.092 302.28 113.393 302.28 DL F5(=)104.274 311.795 Q F2
(ambient)3.08 E F6(v)-.539 2.2 M 212.65 302.258 170.397 302.258 DL F5(+)161.278
311.795 Q F3(diffuse)2.728 E F4(v).349 2.2 M 276.529 302.357 224.849 302.357 DL
F5(+)215.73 311.795 Q F2(specular)3.08 E F6(v)-.66 2.2 M F2 .304
(Each of these components can individually be enabled or disabled)63 338.195 R
9.512(by a corr)63 351.395 R 9.512(esponding switch attribute:)-.198 F/F7 11
/Palatino-Italic@0 SF(dr)289.232 351.395 Q(om.set_att_ambswi)-.198 E F2(,)A F7
(dr)63 364.595 Q(om.set_att_difswi)-.198 E F2(and)2.75 E F7(dr)2.75 E
(om.set_att_spcswi)-.198 E F2(.)A(1\) The ambient component is:)63 389.795 Q
106.677 408.833 63 408.833 DL/F8 11/Helvetica@0 SF(ambient)63 418.271 Q/F9 8
/Helvetica@0 SF(v)2.2 I F5(=)3.63 -2.2 M F2(aintensity)3.08 E F6(o)2.2 I
218.503 408.833 184 408.833 DL F5<b4>174.881 418.271 Q F8(dcolor)3.08 E F9(v)
2.2 I F5<b4>3.63 -2.2 M F6(l)230.702 406.553 Q/F10 8/Symbol SF(=)A F9(alights)A
(l)240.582 428.409 Q F10(=)A F6(0)A/F11 16/Symbol SF(S)240.93 420.795 Q F2
(lintensity)262.5 418.271 Q F6(l)2.2 I 351.258 408.833 322.653 408.833 DL F5
<b4>313.534 418.271 Q F8(lcolor)3.08 E F9(l)2.2 I F2(wher)63 445.019 Q(e)-.198
E F7(alights)2.75 E F2(is the number of ambient lights in the scene.)2.75 E
(2\) The dif)63 470.219 Q(fuse component is:)-.198 E 101.884 489.147 63 489.147
DL(diffuse)63 498.695 Q F6(v)2.2 I F5(=)3.63 -2.2 M F2(dintensity)3.08 E F6(o)
2.2 I 216.581 489.169 180.348 489.169 DL F5<b4>171.229 498.695 Q F2(dcolor)3.08
E F6(v)2.2 I F5<b4>3.63 -2.2 M F6(l)228.78 486.977 Q F10(=)A F6(lights)A(l)
236.66 508.897 Q F10(=)A F6(0)A F11(S)237.284 501.219 Q F2(lintensity)257.13
498.695 Q F6(l)2.2 I 348.356 489.169 317.835 489.169 DL F5<b4>308.716 498.695 Q
F2(lcolor)3.08 E F6(l)2.2 I F5<b4>3.63 -2.2 M F2(dillum)3.08 E F6(l)2.2 I F2
(wher)63 525.507 Q(e)-.198 E F7(lights)5.158 E F2 2.408
(is the number of non-ambient light sour)5.158 F 2.409(ces in the)-.198 F
(scene.)63 538.707 Q .869(The illumination fr)63 563.907 R .869
(om each light sour)-.198 F .869(ce \( dillum)-.198 F F6(l)2.2 I F2 3.619(\)d)
.55 -2.2 O .869(epends of the)319.901 563.907 R(type of the light.)63 577.107 Q
(dillum)63 628.317 Q F6(l)2.2 I F5(=)3.63 -2.2 M<ec>110.747 597.132 Q<ef>
110.747 608.132 Q<ef>110.747 619.132 Q<ed>110.747 630.132 Q<ef>110.747 641.132
Q<ef>110.747 652.132 Q<ee>110.747 663.132 Q F2(ldir)168.19 597.517 Q F6(l)2.2 I
F2(lpoint)162.421 612.917 Q F6(l)2.2 I F2(lpoint)136.727 628.317 Q F6(l)2.2 I
F5<b4>3.63 -2.2 M F2(lspread)3.08 E F6(l)2.2 I F2(lpoint)143.745 643.717 Q F6
(l)2.2 I F5<b4>3.63 -2.2 M F2(lattn)3.08 E F6(l)2.2 I F2(lpoint)118.051 659.117
Q F6(l)2.2 I F5<b4>3.63 -2.2 M F2(lspread)3.08 E F6(l)2.2 I F5<b4>3.63 -2.2 M
F2(lattn)3.08 E F6(l)2.2 I F2 .33(if \( ltype)258.916 597.517 R F6(l)2.2 I F5
<ba>3.63 -2.2 M F2 .33(DcLightIn\214nite \))3.08 F .33(if \( ltype)258.916
612.917 R F6(l)2.2 I F5<ba>3.63 -2.2 M F2 .33(DcLightPoint \))3.08 F .33
(if \( ltype)258.916 628.317 R F6(l)2.2 I F5<ba>3.63 -2.2 M F2 .33
(DcLightSpot \))3.08 F .33(if \( ltype)258.916 643.717 R F6(l)2.2 I F5<ba>3.63
-2.2 M F2 .33(DcLightPointAttn \))3.08 F .33(if \( ltype)258.916 659.117 R F6
(l)2.2 I F5<ba>3.63 -2.2 M F2 .33(DcLightSpotAttn \))3.08 F(ldir)63 686.143 Q
F6(l)2.2 I 142.357 676.617 95.545 676.617 DL F5(=)86.426 686.143 Q F2(ldirnorm)
3.08 E F6(l)2.2 I 191.504 676.617 151.267 676.617 DL F5<d7>145.437 686.143 Q F2
(normal)3.08 E F6(v)2.2 I 1.44 LW 81 756 63 756 DL 99 756 81 756 DL 117 756 99
756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153 756 DL 189 756 171 756
DL 207 756 189 756 DL 225 756 207 756 DL 243 756 225 756 DL 261 756 243 756 DL
279 756 261 756 DL 297 756 279 756 DL 315 756 297 756 DL 333 756 315 756 DL 351
756 333 756 DL 369 756 351 756 DL 387 756 369 756 DL 419.4 756 401.4 756 DL
428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4 756 446.4 756 DL 482.4 756
464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4 756 DL 536.4 756 518.4 756
DL/F12 9/Helvetica@0 SF(Sample De)300.348 768.96 Q(vice Dr)-.27 E(iv).135 E(er)
-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798 768.96 S -2.187 -.27(ev e)
437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)487.371 768.96 Q/F13 9
/Helvetica-Bold@0 SF(11-171)4.002 E EP
%%Page: 172 52
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(Step 8: Complete the DR)72 57.6 Q(OM)-.2 E/F1
10/Helvetica@0 SF(\(contin)72 68.4 Q(ued\))-.1 E/F2 11/Palatino-Roman@0 SF
(lpoint)221.5 107.636 Q/F3 8/Palatino-Roman@0 SF(l)2.2 I .44 LW 328.203 98.11
265.584 98.11 DL/F4 11/Symbol SF(=)256.465 107.636 Q F2(vtoldirnorm)3.08 E F3
(l)2.2 I 377.35 98.11 337.113 98.11 DL F4<d7>331.283 107.636 Q F2(normal)3.08 E
F3(v)2.2 I/F5 11/Helvetica@0 SF(lspread)221.5 135.236 Q/F6 8/Helvetica@0 SF(l)
2.2 I F4(=)3.63 -2.2 M F2(lspread1)3.08 E F6(l)2.2 I F4<b4>3.63 -2.2 M F5
(lspread2)3.08 E F6(l)2.2 I F2(lspread1)221.5 192.446 Q F3(l)2.2 I F4(=)3.63
-2.2 M<ec>278.388 161.261 Q<ef>278.388 172.261 Q<ef>278.388 183.261 Q<ed>
278.388 194.261 Q<ef>278.388 205.261 Q<ef>278.388 216.261 Q<ee>278.388 227.261
Q F2 -.88(1. 0)300.71 174.34 R -.88(0. 0)300.71 192.446 R(total)287.012 202.852
Q F3(l)2.2 I F4(-)3.63 -2.2 M/F7 11/Symbol-Slanted SF(q)2.497 E F2(delta)
294.943 218.252 Q 330.029 207.692 287.012 207.692 DL F3(l)319.22 220.452 Q F2
.33(if \()351.589 174.34 R F7(q)2.497 E F2 3.08(<\()4.62 G(total)390.826 174.34
Q F3(l)2.2 I F4(-)3.63 -2.2 M F2(delta)3.08 E F3(l)2.2 I F2(\)\))3.63 -2.2 M
.33(if \()351.589 192.446 R F7(q)2.497 E F2 3.08(>t)4.62 G(otal)390.749 192.446
Q F3(l)2.2 I F2(\)).55 -2.2 M(otherwise)351.589 210.552 Q(lspread2)221.5
270.446 Q F3(l)2.2 I F4(=)3.63 -2.2 M<ec>278.388 250.261 Q<ef>278.388 261.261 Q
<ed>278.388 272.261 Q<ef>278.388 283.261 Q<ee>278.388 294.261 Q F2 .33(cos \()
285.692 261.487 R F7(q)2.497 E F2(\))4.62 E F3(lexp)323.873 256.867 Q/F8 6
/Palatino-Roman@0 SF(l)1.6 I F2 -.88(0. 0)305.868 279.406 R F4(-)361.905
261.487 Q F7(p)372.256 253.787 Q 379.395 258.627 372.344 258.627 DL F2(2)
373.119 269.187 Q F4<a3>383.795 261.487 Q F7(q)2.497 E F4<a3>4.62 E F7(p)
412.406 253.787 Q 419.545 258.627 412.494 258.627 DL F2(2)413.269 269.187 Q
(otherwise)361.905 279.406 Q(lattn)221.5 322.42 Q F3(l)2.2 I F4(=)3.63 -2.2 M
F2 -.88(1. 0)308.879 314.72 R(c1)260.172 330.12 Q F3(l)2.2 I F4(+)3.63 -2.2 M
F2(c2)3.08 E F3(l)2.2 I F4<b4>3.63 -2.2 M F2(vtoldistance)3.08 E 373.207 319.56
260.172 319.56 DL F3(l)370.329 332.32 Q F2(3\) The specular component is:)221.5
359.694 Q 267.677 378.644 221.5 378.644 DL(specular)221.5 388.17 Q F3(v)2.2 I
F4(=)3.63 -2.2 M F2(sintensity)3.08 E F3(o)2.2 I 378.108 378.644 344.084
378.644 DL F4<b4>334.965 388.17 Q F2(scolor)3.08 E F3(o)2.2 I F4<b4>3.63 -2.2 M
F3(l)390.307 376.452 Q/F9 8/Symbol SF(=)A F3(lights)A(l)398.187 398.372 Q F9(=)
A F3(0)A/F10 16/Symbol SF(S)398.811 390.694 Q F2(lintensity)418.657 388.17 Q F3
(l)2.2 I 509.883 378.644 479.362 378.644 DL F4<b4>470.243 388.17 Q F2(lcolor)
3.08 E F3(l)2.2 I F4<b4>3.63 -2.2 M F2(sillum)3.08 E F3(l)2.2 I F2(Ther)221.5
414.982 Q 8.517(ea)-.198 G 6.162 -.198(re t)263.347 414.982 T 5.766
(wo ways to compute the specular illumination).198 F(\(sillum)221.5 428.182 Q
F3(l)2.2 I F2 3.939(\), generating two dif).55 -2.2 N(fer)-.198 E 3.94
(ent appr)-.198 F 3.94(oximations of specular)-.198 F 3.268(highlights. These)
221.5 441.382 R(ar)3.268 E 3.268(eb)-.198 G .518
(ased on Blinn's and Phong's lighting mod-)335.441 441.382 R(els.)221.5 454.582
Q(sillum)221.5 509.412 Q F3(l)2.2 I F4(=)3.63 -2.2 M<ec>267.19 489.227 Q<ef>
267.19 500.227 Q<ed>267.19 511.227 Q<ef>267.19 522.227 Q<ee>267.19 533.227 Q
<e6>274.494 488.53 Q 285.175 485.428 281.765 485.428 DL<e8>274.494 501.873 Q F2
(H)278.894 494.58 Q 337.193 485.054 296.956 485.054 DL F4<d7>291.126 494.58 Q
F2(normal)3.08 E F3(v)2.2 I F4<f6>337.193 488.53 Q<f8>337.193 501.873 Q F3
(sexp)341.593 481.384 Q F8(o)1.6 I F4<e6>274.494 518.194 Q 284.273 515.092
280.863 515.092 DL<e8>274.494 531.537 Q F2(R)278.894 524.244 Q F4<d7>3.08 E<e6>
295.152 518.194 Q 318.912 514.718 299.552 514.718 DL<e8>295.152 531.537 Q F2
(eloc)299.552 524.244 Q 351.006 514.718 327.822 514.718 DL F4<d7>321.992
524.244 Q F2(vloc)3.08 E F3(l)2.2 I F4<f6>351.006 518.194 Q<f8>351.006 531.537
Q<f6>355.406 518.194 Q<f8>355.406 531.537 Q F3(sexp)359.806 511.048 Q F8(o)1.6
I F2 3.08(\(B)421.992 494.58 S .33(linn \))435.456 494.58 R 3.08(\(P)421.992
524.244 S .33(hong \))435.379 524.244 R(wher)221.5 550.11 Q(e)-.198 E 227.781
581.96 224.371 581.96 DL(H)221.5 591.112 Q F4(=)3.08 E<e6>244.171 570.146 Q
267.931 566.67 248.571 566.67 DL<e8>244.171 583.489 Q F2(eloc)248.571 576.196 Q
305.506 566.67 280.13 566.67 DL F4(-)271.011 576.196 Q F2(vloc)3.08 E F3(v)2.2
I F4<f6>305.506 570.146 Q<f8>305.506 583.489 Q 384.724 566.67 322.105 566.67 DL
(+)312.986 576.196 Q F2(vtoldirnorm)3.08 E F3(l)2.2 I 384.724 588.252 244.171
588.252 DL F2 -.88(2. 0)306.637 598.812 R 226.879 618.116 223.469 618.116 DL(R)
221.5 627.268 Q 281.284 617.742 241.047 617.742 DL F4(=)231.928 627.268 Q F2
(normal)3.08 E F3(v)2.2 I F4<b4>3.63 -2.2 M<e6>293.483 621.218 Q<e8>293.483
634.561 Q F2 -.88(2. 0)297.883 627.268 R 365.939 617.742 325.702 617.742 DL F4
<b4>316.583 627.268 Q F2(normal)3.08 E F3(v)2.2 I 437.468 617.742 374.849
617.742 DL F4<d7>369.019 627.268 Q F2(vtoldirnorm)3.08 E F3(l)2.2 I F4<f6>
437.468 621.218 Q<f8>437.468 634.561 Q 521.031 617.742 454.067 617.742 DL(-)
444.948 627.268 Q F2(vtoldirnrorm)3.08 E F3(l)2.2 I 1.44 LW 90 756 72 756 DL 99
756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756
153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756 221.4 756 DL 257.4
756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756 DL 311.4 756 293.4
756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4 756 347.4 756 DL
383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4 756 DL 437.4 756
419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL 491.4 756 473.4 756
DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F11 9
/Helvetica-Bold@0 SF(11-172)72 768.96 Q/F12 9/Helvetica@0 SF(Dore)6.504 E 3.506
<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)
-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E
(er)-.225 E EP
%%Page: 173 53
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL .16 LW 65 110 63 110
DL 67 110 65 110 DL 69 110 67 110 DL 71 110 69 110 DL 73 110 71 110 DL 75 110
73 110 DL 77 110 75 110 DL 79 110 77 110 DL 81 110 79 110 DL 83 110 81 110 DL
85 110 83 110 DL 87 110 85 110 DL 89 110 87 110 DL 91 110 89 110 DL 93 110 91
110 DL 95 110 93 110 DL 97 110 95 110 DL 99 110 97 110 DL 101 110 99 110 DL 103
110 101 110 DL 105 110 103 110 DL 107 110 105 110 DL 109 110 107 110 DL 111 110
109 110 DL 113 110 111 110 DL 115 110 113 110 DL 117 110 115 110 DL 119 110 117
110 DL 121 110 119 110 DL 123 110 121 110 DL 125 110 123 110 DL 127 110 125 110
DL 129 110 127 110 DL 131 110 129 110 DL 133 110 131 110 DL 135 110 133 110 DL
137 110 135 110 DL 139 110 137 110 DL 141 110 139 110 DL 143 110 141 110 DL 145
110 143 110 DL 147 110 145 110 DL 149 110 147 110 DL 151 110 149 110 DL 153 110
151 110 DL 155 110 153 110 DL 157 110 155 110 DL 159 110 157 110 DL 161 110 159
110 DL 163 110 161 110 DL 165 110 163 110 DL 167 110 165 110 DL 169 110 167 110
DL 171 110 169 110 DL 173 110 171 110 DL 175 110 173 110 DL 177 110 175 110 DL
179 110 177 110 DL 181 110 179 110 DL 183 110 181 110 DL 185 110 183 110 DL 187
110 185 110 DL 189 110 187 110 DL 191 110 189 110 DL 193 110 191 110 DL 195 110
193 110 DL 197 110 195 110 DL 199 110 197 110 DL 201 110 199 110 DL 203 110 201
110 DL 205 110 203 110 DL 207 110 205 110 DL 209 110 207 110 DL 211 110 209 110
DL 213 110 211 110 DL 215 110 213 110 DL 217 110 215 110 DL 219 110 217 110 DL
221 110 219 110 DL 223 110 221 110 DL 225 110 223 110 DL 227 110 225 110 DL 229
110 227 110 DL 231 110 229 110 DL 233 110 231 110 DL 235 110 233 110 DL 237 110
235 110 DL 239 110 237 110 DL 241 110 239 110 DL 243 110 241 110 DL 245 110 243
110 DL 247 110 245 110 DL 249 110 247 110 DL 251 110 249 110 DL 253 110 251 110
DL 255 110 253 110 DL 257 110 255 110 DL 259 110 257 110 DL 261 110 259 110 DL
263 110 261 110 DL 265 110 263 110 DL 267 110 265 110 DL 269 110 267 110 DL 271
110 269 110 DL 273 110 271 110 DL 275 110 273 110 DL 277 110 275 110 DL 279 110
277 110 DL 281 110 279 110 DL 283 110 281 110 DL 285 110 283 110 DL 287 110 285
110 DL 289 110 287 110 DL 291 110 289 110 DL 293 110 291 110 DL 295 110 293 110
DL 297 110 295 110 DL 299 110 297 110 DL 301 110 299 110 DL 303 110 301 110 DL
305 110 303 110 DL 307 110 305 110 DL 309 110 307 110 DL 311 110 309 110 DL 313
110 311 110 DL 315 110 313 110 DL 317 110 315 110 DL 319 110 317 110 DL 321 110
319 110 DL 323 110 321 110 DL 325 110 323 110 DL 327 110 325 110 DL 329 110 327
110 DL 331 110 329 110 DL 333 110 331 110 DL 335 110 333 110 DL 337 110 335 110
DL 339 110 337 110 DL 341 110 339 110 DL 343 110 341 110 DL 345 110 343 110 DL
347 110 345 110 DL 349 110 347 110 DL 351 110 349 110 DL 353 110 351 110 DL 355
110 353 110 DL 357 110 355 110 DL 359 110 357 110 DL 361 110 359 110 DL 363 110
361 110 DL 365 110 363 110 DL 367 110 365 110 DL 369 110 367 110 DL 371 110 369
110 DL 373 110 371 110 DL 375 110 373 110 DL 377 110 375 110 DL 379 110 377 110
DL 381 110 379 110 DL 383 110 381 110 DL 385 110 383 110 DL 387 110 385 110 DL
1.44 LW 419.4 110.5 401.4 110.5 DL 428.4 110.5 410.4 110.5 DL 446.4 110.5 428.4
110.5 DL 464.4 110.5 446.4 110.5 DL 482.4 110.5 464.4 110.5 DL 500.4 110.5
482.4 110.5 DL 518.4 110.5 500.4 110.5 DL 536.4 110.5 518.4 110.5 DL/F0 12
/Helvetica-BoldOblique@0 SF(The)515.064 124.5 Q(Installation)473.052 138.5 Q
(Routine)491.736 152.5 Q/F1 11/Palatino-Roman@0 SF -1.012(Yo)63 138.6 S 3.437
(um)1.012 G .687(ust pr)95.114 138.6 R .687(ovide a r)-.198 F .688
(outine that will install the device driver into)-.198 F(Dore)63 151.8 Q 3.052
.803(\264. T)82.668 151.8 T 1.908(his installation r)-.803 F 1.907
(outine is the only device driver r)-.198 F(outine)-.198 E .187
(whose name is known outside the device driver itself.)63 165 R .188
(It will typi-)5.688 F 3.316(cally be called by the Dore)63 178.2 R 6.869<b473>
203.484 178.2 S 6.066(ystem. \(Portable)218.68 178.2 R(Dore)6.066 E 6.869<b475>
329.625 178.2 S 3.316(sers see)346.79 178.2 R/F2 11/Palatino-Italic@0 SF
(dor_dor)63 191.4 Q(esys_install_drivers)-.198 E F1 2.56
(in the system module.\))5.31 F(Dore)8.061 E 6.114<b461>338.052 191.4 S
(pplica-)353.329 191.4 Q .532
(tion users can also install new device drivers by calling the driver)63 204.6
R(installation r)63 217.8 Q(outine dir)-.198 E(ectly fr)-.198 E
(om the application after)-.198 E F2(DsInitialize)2.75 E F1(.)A 2.837
(The device driver installation r)63 243 R 2.838
(outine sets the name and short)-.198 F 1.166(description of the device driver)
63 256.2 R 3.916(,a)-.814 G 1.165(nd installs it into the Dore)231.487 256.2 R
4.718<b473>359.512 256.2 S(ys-)372.557 256.2 Q 1.568(tem by calling)63 269.4 R
F2(DDdevice_InstallDriver)4.319 E F1 7.069(.I)C 4.319(fa)261.136 269.4 S 1.569
(ny of the device mod-)274.618 269.4 R .556
(ules need to be noti\214ed of new classes being installed, the r)63 282.6 R
(outine)-.198 E .76(would also install the notify r)63 295.8 R .76(outine with)
-.198 F F2(DDclass_AddNotify)3.51 E F1 6.26(.F)C(or)376.649 295.8 Q
(the sample device driver the installation r)63 309 Q(outine looks like:)-.198
E/F3 9/Courier@0 SF(void)63 332 Q(ddr_sampledev_install_driver \(name\))63 343
Q(DtPtr name;)63 354 Q({)63 365 Q(DDdevice_InstallDriver)84.6 376 Q
(\(\(name == DcNullPtr\) ? \(DtPtr\)"sample" : name,)127.8 387 Q
(\(DtPtr\)"Sample Driver",)133.2 398 Q
(\(DtPFI\)ddr_sampledev_return_functions\);)133.2 409 Q(})63 420 Q F1 3.424
(The caller can specify the name of the device with the)63 445.2 R F2(name)
6.173 E F1(parameter)63 458.4 Q 8.306(.I)-.814 G(f)127.087 458.4 Q F2(name)
5.556 E F1(is)5.556 E F2(DcNullPtr)5.557 E F1 5.557(,t)C 2.807
(hen the default name of the)239.502 458.4 R(driver)63 471.6 Q 2.75(,")-.814 G
F2(sample)101.863 471.6 Q F1(", will be used instead.)A 3.428(One of the r)63
496.8 R(equir)-.198 E 3.427(ed ar)-.198 F 3.427(guments for)-.198 F F2
(DDdevice_InstallDriver)6.177 E F1 3.427(is a)6.177 F 1.499(device driver r)63
510 R 1.499(outine that r)-.198 F 1.499(eturns pointers to the interface str)
-.198 F(uc-)-.088 E(tur)63 523.2 Q 2.308
(es: DCM, PROM, DROM, and DROM Methods.)-.198 F 2.308(The output)7.808 F(fr)63
536.4 Q 1.403(om the r)-.198 F(ender)-.198 E 1.403(ers is handled thr)-.198 F
1.404(ough these interface str)-.198 F(uctur)-.088 E(es.)-.198 E 1.53(This r)63
549.6 R 1.53(outine is named)-.198 F F2(ddr_sampledev_r)4.28 E(eturn_functions)
-.198 E F1 1.53(in the sam-)4.28 F 2.45(ple device driver)63 562.8 R 7.95(.S)
-.814 G 2.45(ince the sample device driver supports the)165.797 562.8 R 25.332
(DCM, PROM, and DROM interfaces, the)63 576 R F2(ddr_sampledev_r)63 589.2 Q
(eturn_functions)-.198 E F1 -.198(ro)5.259 G 2.509(utine calls the appr).198 F
2.51(opriate r)-.198 F(ou-)-.198 E .584(tine to r)63 602.4 R .584
(eturn a pointer to the r)-.198 F .583(equested interface str)-.198 F(uctur)
-.088 E 3.333(e. If,)-.198 F(for)3.333 E 2.991
(example, the sample driver supported only the DCM and the)63 615.6 R 3.66
(PROM, it would r)63 628.8 R(eturn)-.198 E F2(DcNullPtr)6.41 E F1 3.659
(when the DROM interface)6.41 F(str)63 642 Q(uctur)-.088 E 2.75(ei)-.198 G 2.75
(sr)112.61 642 S(equested.)124.171 642 Q F3(void)63 665 Q
(ddr_sampledev_return_functions\(type, fcns\))63 676 Q(DtInt type;)63 687 Q
(DtPtr)63 698 Q/F4 9/Symbol SF(*)5.4 E F3(fcns;)A({)63 709 Q 81 756 63 756 DL
99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171
756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756
225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297
756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756
DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4
756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4
756 DL 536.4 756 518.4 756 DL/F5 9/Helvetica@0 SF(Sample De)300.348 768.96 Q
(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798
768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)
487.371 768.96 Q/F6 9/Helvetica-Bold@0 SF(11-173)4.002 E EP
%%Page: 174 54
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(The Installation Routine)72 57.6 Q/F1 10
/Helvetica@0 SF(\(contin)72 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF
(extern DtPtr ddr_sampledev_return_DCM_fcns\(\);)243.1 107 Q
(extern DtPtr ddr_sampledev_return_PROM_fcns\(\);)243.1 118 Q
(extern DtPtr ddr_sampledev_return_DROM_fcns\(\);)243.1 129 Q
(switch \(type\) {)243.1 151 Q(case DDc_DCM:)243.1 162 Q/F3 9/Symbol SF(*)264.7
173 Q F2(fcns = ddr_sampledev_return_DCM_fcns\(\);)A(break;)264.7 184 Q
(case DDc_PROM:)243.1 206 Q F3(*)264.7 217 Q F2
(fcns = ddr_sampledev_return_PROM_fcns\(\);)A(break;)264.7 228 Q
(case DDc_DROM:)243.1 250 Q F3(*)264.7 261 Q F2
(fcns = ddr_sampledev_return_DROM_fcns\(\);)A(break;)264.7 272 Q
(case DDc_DROMMethods:)243.1 294 Q F3(*)264.7 305 Q F2(fcns = \(DtPtr\) 0;)A
(break;)264.7 316 Q(default:)243.1 349 Q F3(*)264.7 360 Q F2
(fcns = \(DtPtr\) 0;)A(break;)264.7 371 Q(})243.1 382 Q(})221.5 393 Q/F4 11
/Palatino-Roman@0 SF .555(The function)221.5 418.2 R/F5 11/Palatino-Italic@0 SF
(ddr_sampledev_r)3.305 E(eturn_DCM_fcns)-.198 E F4 -.198(re)3.306 G .556
(turns the interface).198 F(str)221.5 431.4 Q(uctur)-.088 E 3.125(ec)-.198 G
.375(ontaining the DCM implementation.)273.168 431.4 R .374
(The \214rst time that)5.875 F .325(this r)221.5 444.6 R .326
(outine is called, it allocates the data str)-.198 F(uctur)-.088 E .326
(e, \214lls in the r)-.198 F(ou-)-.198 E 1.919(tine pointers, and stor)221.5
457.8 R 1.919(es a pointer to the str)-.198 F(uctur)-.088 E 4.668(ei)-.198 G
4.668(nt)484.398 457.8 S 1.918(he global)499.054 457.8 R(variable:)221.5 471 Q
F2(DDt_DCM)221.5 494 Q F3(*)5.4 E F2(dde_sampledev_DCM_fcns = \(DDt_DCM)A F3(*)
5.4 E F2(\)0;)A F4 3.565(For each subsequent call the function just r)221.5
519.2 R 3.565(eturns this global)-.198 F(pointer)221.5 532.4 Q 5.5(.T)-.814 G
(he r)271.099 532.4 Q(outine is:)-.198 E F2(DtPtr)205.301 555.4 Q
(ddr_sampledev_return_DCM_fcns\(\))205.301 566.4 Q({)205.301 577.4 Q(DDt_DCM)
226.901 588.4 Q F3(*)5.4 E F2(fcns;)A(if \(dde_sampledev_DCM_fcns == \(DDt_DCM)
226.901 610.4 Q F3(*)5.4 E F2(\)0\) {)A(fcns = DDdevice_CreateDCMStruct\(\);)
248.501 621.4 Q(if \(fcns == \(DDt_DCM)248.501 643.4 Q F3(*)5.4 E F2(\)0\) {)A
(DDerror \(ERR_CANT_ALLOC_MEM,)270.101 654.4 Q
("dde_sampledev_return_DCM_fcns",)318.701 665.4 Q(DcNullPtr\);)318.701 676.4 Q
(})248.501 687.4 Q(fcns->version_number = 2;)248.501 709.4 Q 1.44 LW 90 756 72
756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL
171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756 221.4 756 DL
257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756 DL 311.4 756
293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4 756 347.4 756
DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4 756 DL 437.4
756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL 491.4 756 473.4
756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F6
9/Helvetica-Bold@0 SF(11-174)72 768.96 Q/F7 9/Helvetica@0 SF(Dore)6.504 E 3.506
<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)
-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E
(er)-.225 E EP
%%Page: 175 55
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(The Installation Routine)423.05 57.6 Q/F1 10
/Helvetica@0 SF(\(contin)486.48 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF(/)106.2
107 Q/F3 9/Symbol SF(*)A F2(Version 1 Functions)5.4 E F3(*)5.4 E F2(/)A
(fcns->create_local_data = \(DtPFI\))106.2 118 Q
(ddr_sampledev_dcm_create_local_data;)133.2 129 Q
(fcns->initialize_device = \(DtPFI\))106.2 140 Q
(ddr_sampledev_dcm_initialize_device;)133.2 151 Q
(fcns->become_current_driver = \(DtPFI\))106.2 162 Q
(ddr_sampledev_dcm_become_current_driver;)133.2 173 Q
(fcns->inquire_device_extent = \(DtPFI\))106.2 184 Q
(ddr_sampledev_dcm_inquire_device_extent;)133.2 195 Q
(fcns->inquire_stereo = \(DtPFI\))106.2 206 Q
(ddr_sampledev_dcm_inquire_stereo;)133.2 217 Q
(fcns->inquire_ncolors = \(DtPFI\))106.2 228 Q
(ddr_sampledev_dcm_inquire_ncolors;)133.2 239 Q
(fcns->inquire_resolution = \(DtPFI\))106.2 250 Q
(ddr_sampledev_dcm_inquire_resolution;)133.2 261 Q
(fcns->inquire_visual_type = \(DtPFI\))106.2 272 Q
(ddr_sampledev_dcm_inquire_visual_type;)133.2 283 Q
(fcns->inquire_auto_size = \(DtPFI\))106.2 294 Q
(ddr_sampledev_dcm_inquire_auto_size;)133.2 305 Q
(fcns->inquire_clip_list = \(DtPFI\))106.2 316 Q
(ddr_sampledev_dcm_inquire_clip_list;)133.2 327 Q
(fcns->clear_rectangle_depth_and_color = \(DtPFI\))106.2 338 Q
(ddr_sampledev_dcm_clear_rectangle_depth_and_color;)133.2 349 Q
(fcns->write_scanline_byte = \(DtPFI\))106.2 360 Q
(ddr_sampledev_dcm_write_scanline_byte;)106.2 371 Q(/)106.2 393 Q F3(*)A F2
(Version 2 Functions)5.4 E F3(*)5.4 E F2(/)A(fcns->set_options = \(DtPFI\))
106.2 404 Q(ddr_sampledev_dcm_set_options;)133.2 415 Q
(dde_sampledev_DCM_fcns = fcns;)106.2 437 Q(})84.6 448 Q
(return \(DtPtr\)dde_sampledev_DCM_fcns;)84.6 459 Q(})63 470 Q/F4 11
/Palatino-Roman@0 SF .762
(Notice that only the functions that have been implemented in the)63 495.2 R
(sample DCM ar)63 508.4 Q 2.75<658c>-.198 G(lled in.)154.498 508.4 Q(Similarly)
63 533.6 Q 6.14(,t)-1.221 G 3.39(he function)118.508 533.6 R/F5 11
/Palatino-Italic@0 SF(ddr_sampledev_r)6.139 E(eturn_PROM_fcns)-.198 E F4 -.198
(re)6.139 G(turns).198 E(the str)63 546.8 Q(uctur)-.088 E 2.75(ec)-.198 G
(ontaining the sample PROM implementation:)132.3 546.8 Q F2(DtPtr)63 569.8 Q
(ddr_sampledev_return_PROM_fcns\(\))63 580.8 Q({)63 591.8 Q(DDt_PROM)84.6 602.8
Q F3(*)5.4 E F2(fcns;)A(if \(dde_sampledev_PROM_fcns == \(DDt_PROM)84.6 624.8 Q
F3(*)5.4 E F2(\)0\) {)A(fcns = DDdevice_CreatePROMStruct\(\);)106.2 635.8 Q
(if \(fcns == \(DDt_PROM)106.2 657.8 Q F3(*)5.4 E F2(\)0\) {)A
(DDerror \(ERR_CANT_ALLOC_MEM,)127.8 668.8 Q("dde_sampledev_return_PROM_fcns",)
176.4 679.8 Q(DcNullPtr\);)176.4 690.8 Q(})106.2 701.8 Q 1.44 LW 81 756 63 756
DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171
756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756
225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297
756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756
DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4
756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4
756 DL 536.4 756 518.4 756 DL/F6 9/Helvetica@0 SF(Sample De)300.348 768.96 Q
(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798
768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)
487.371 768.96 Q/F7 9/Helvetica-Bold@0 SF(11-175)4.002 E EP
%%Page: 176 56
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(The Installation Routine)72 57.6 Q/F1 10
/Helvetica@0 SF(\(contin)72 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF
(fcns->version_number = 1;)264.7 107 Q
(fcns->write_rectangle_byte_rgb= \(DtPFI\))264.7 129 Q
(ddr_sampledev_prom_write_rectangle_byte_rgb;)291.7 140 Q
(dde_sampledev_PROM_fcns = fcns;)264.7 162 Q(})243.1 173 Q
(return \(DtPtr\) dde_sampledev_PROM_fcns;)243.1 184 Q(})221.5 195 Q/F3 11
/Palatino-Roman@0 SF(Finally)221.5 220.2 Q 3.596(,t)-1.221 G .846(he function)
263.948 220.2 R/F4 11/Palatino-Italic@0 SF(ddr_sampledev_r)3.596 E
(eturn_DROM_fcns)-.198 E F3 -.198(re)3.596 G .846(turns the).198 F
(interface str)221.5 233.4 Q(uctur)-.088 E 2.75(ew)-.198 G
(ith the sample DROM implementation:)321.952 233.4 Q F2(DtPtr)221.5 256.4 Q
(ddr_sampledev_return_DROM_fcns\(\))221.5 267.4 Q({)221.5 278.4 Q(DDt_DROM)
243.1 289.4 Q/F5 9/Symbol SF(*)5.4 E F2(fcns;)A
(if \(dde_sampledev_DROM_fcns == \(DDt_DROM)243.1 311.4 Q F5(*)5.4 E F2
(\)0\) {)A(fcns = DDdevice_CreateDROMStruct\(\);)264.7 322.4 Q
(if \(fcns == \(DDt_DROM)264.7 344.4 Q F5(*)5.4 E F2(\)0\) {)A
(DDerror \(ERR_CANT_ALLOC_MEM,)286.3 355.4 Q("dde_sampledev_return_DROM_fcns",)
334.9 366.4 Q(DcNullPtr\);)334.9 377.4 Q(})264.7 388.4 Q
(fcns->version_number = 2;)264.7 410.4 Q(/)264.7 432.4 Q F5(*)A F2
(version 1 fields)5.4 E F5(*)5.4 E F2(/)A(fcns->pre_initialization = \(DtPFI\))
264.7 454.4 Q(ddr_sampledev_drom_pre_initialization;)291.7 465.4 Q
(fcns->post_initialization = \(DtPFI\))264.7 476.4 Q
(ddr_sampledev_drom_post_initialization;)291.7 487.4 Q
(fcns->create_local_device_data = \(DtPFI\))264.7 498.4 Q
(ddr_sampledev_drom_create_local_device_data;)291.7 509.4 Q
(fcns->create_local_view_data = \(DtPFI\))264.7 520.4 Q
(ddr_sampledev_drom_create_local_view_data;)291.7 531.4 Q
(fcns->create_local_window_data = \(DtPFI\))264.7 542.4 Q
(ddr_sampledev_drom_create_local_window_data;)291.7 553.4 Q
(fcns->start_update = \(DtPFI\))264.7 564.4 Q(ddr_sampledev_drom_start_update;)
291.7 575.4 Q(fcns->update_local_data = \(DtPFI\))264.7 586.4 Q
(ddr_sampledev_drom_update_local_data;)291.7 597.4 Q
(fcns->update_studio = \(DtPFI\))264.7 608.4 Q
(ddr_sampledev_drom_update_studio;)291.7 619.4 Q
(fcns->update_display = \(DtPFI\))264.7 630.4 Q
(ddr_sampledev_drom_update_display;)291.7 641.4 Q(fcns->camera = \(DtPFI\))
264.7 652.4 Q(ddr_sampledev_drom_camera;)291.7 663.4 Q(fcns->light = \(DtPFI\))
264.7 674.4 Q(ddr_sampledev_drom_light;)291.7 685.4 Q
(fcns->set_camera_matrix = \(DtPFI\))264.7 696.4 Q
(ddr_sampledev_drom_set_camera_matrix;)291.7 707.4 Q 1.44 LW 90 756 72 756 DL
99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171
756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756 221.4 756 DL
257.4 756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756 DL 311.4 756
293.4 756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4 756 347.4 756
DL 383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4 756 DL 437.4
756 419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL 491.4 756 473.4
756 DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F6
9/Helvetica-Bold@0 SF(11-176)72 768.96 Q/F7 9/Helvetica@0 SF(Dore)6.504 E 3.506
<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)
-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E
(er)-.225 E EP
%%Page: 177 57
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(The Installation Routine)423.05 57.6 Q/F1 10
/Helvetica@0 SF(\(contin)486.48 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF
(fcns->set_parallel_matrix = \(DtPFI\))106.2 107 Q
(ddr_sampledev_drom_set_parallel_matrix;)133.2 118 Q
(fcns->set_perspective_matrix = \(DtPFI\))106.2 129 Q
(ddr_sampledev_drom_set_perspective_matrix;)133.2 140 Q
(fcns->set_projection_matrix = \(DtPFI\))106.2 151 Q
(ddr_sampledev_drom_set_projection_matrix;)133.2 162 Q
(fcns->push_att_clpvol = \(DtPFI\))106.2 173 Q
(ddr_sampledev_drom_push_att_clpvol;)133.2 184 Q
(fcns->pop_att_clpvol = \(DtPFI\))106.2 195 Q
(ddr_sampledev_drom_pop_att_clpvol;)133.2 206 Q
(fcns->set_att_clpvol = \(DtPFI\))106.2 217 Q
(ddr_sampledev_drom_set_att_clpvol;)133.2 228 Q
(fcns->apply_att_clpvol = \(DtPFI\))106.2 239 Q
(ddr_sampledev_drom_apply_att_clpvol;)133.2 250 Q
(fcns->get_wcstofcsmat = \(DtPFI\))106.2 261 Q
(ddr_sampledev_drom_get_wcstofcsmat;)133.2 272 Q
(fcns->pop_lcstofcsmat = \(DtPFI\))106.2 283 Q
(ddr_sampledev_drom_pop_lcstofcsmat;)133.2 294 Q
(fcns->push_lcstofcsmat = \(DtPFI\))106.2 305 Q
(ddr_sampledev_drom_push_lcstofcsmat;)133.2 316 Q
(fcns->transform_clip_z_point = \(DtPFI\))106.2 327 Q
(ddr_sampledev_drom_transform_clip_z_point;)133.2 338 Q
(fcns->render_point_list = \(DtPFI\))106.2 349 Q
(ddr_sampledev_drom_render_point_list;)133.2 360 Q
(fcns->render_line_list = \(DtPFI\))106.2 371 Q
(ddr_sampledev_drom_render_line_list;)133.2 382 Q
(fcns->render_connected_line_list = \(DtPFI\))106.2 393 Q
(ddr_sampledev_drom_render_connected_line_list;)133.2 404 Q
(fcns->render_triangle_list = \(DtPFI\))106.2 415 Q
(ddr_sampledev_drom_render_triangle_list;)133.2 426 Q
(fcns->render_triangle_mesh = \(DtPFI\))106.2 437 Q
(ddr_sampledev_drom_render_triangle_mesh;)133.2 448 Q
(fcns->set_att_ambint = \(DtPFI\))106.2 459 Q
(ddr_sampledev_drom_set_att_ambint;)133.2 470 Q
(fcns->set_att_ambswi = \(DtPFI\))106.2 481 Q
(ddr_sampledev_drom_set_att_ambswi;)133.2 492 Q
(fcns->set_att_bacfacculble = \(DtPFI\))106.2 503 Q
(ddr_sampledev_drom_set_att_bacfacculble;)133.2 514 Q
(fcns->set_att_bacfacculswi = \(DtPFI\))106.2 525 Q
(ddr_sampledev_drom_set_att_bacfacculswi;)133.2 536 Q
(fcns->set_att_clpswi = \(DtPFI\))106.2 547 Q
(ddr_sampledev_drom_set_att_clpswi;)133.2 558 Q
(fcns->set_att_depcue = \(DtPFI\))106.2 569 Q
(ddr_sampledev_drom_set_att_depcue;)133.2 580 Q
(fcns->set_att_depcueswi = \(DtPFI\))106.2 591 Q
(ddr_sampledev_drom_set_att_depcueswi;)133.2 602 Q
(fcns->set_att_difclr = \(DtPFI\))106.2 613 Q
(ddr_sampledev_drom_set_att_difclr;)133.2 624 Q
(fcns->set_att_difint = \(DtPFI\))106.2 635 Q
(ddr_sampledev_drom_set_att_difint;)133.2 646 Q
(fcns->set_att_difswi = \(DtPFI\))106.2 657 Q
(ddr_sampledev_drom_set_att_difswi;)133.2 668 Q
(fcns->set_att_hidsrfswi = \(DtPFI\))106.2 679 Q
(ddr_sampledev_drom_set_att_hidsrfswi;)133.2 690 Q
(fcns->set_att_inttyp = \(DtPFI\))106.2 701 Q
(ddr_sampledev_drom_set_att_inttyp;)133.2 712 Q 1.44 LW 81 756 63 756 DL 99 756
81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756 153
756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL 243 756 225 756
DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315 756 297 756 DL
333 756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756 369 756 DL
419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL 464.4 756
446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756 500.4 756
DL 536.4 756 518.4 756 DL/F3 9/Helvetica@0 SF(Sample De)300.348 768.96 Q
(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>424.798
768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G(uide)
487.371 768.96 Q/F4 9/Helvetica-Bold@0 SF(11-177)4.002 E EP
%%Page: 178 58
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 108 46.8 72 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 257.4 46.8 221.4 46.8 DL 293.4 46.8 257.4 46.8 DL 329.4 46.8 293.4
46.8 DL 365.4 46.8 329.4 46.8 DL 401.4 46.8 365.4 46.8 DL 437.4 46.8 401.4 46.8
DL 473.4 46.8 437.4 46.8 DL 509.4 46.8 473.4 46.8 DL 545.4 46.8 509.4 46.8 DL
/F0 10/Helvetica-BoldOblique@0 SF(The Installation Routine)72 57.6 Q/F1 10
/Helvetica@0 SF(\(contin)72 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF
(fcns->set_att_lgtclr = \(DtPFI\))264.7 107 Q
(ddr_sampledev_drom_set_att_lgtclr;)291.7 118 Q
(fcns->set_att_lgtint = \(DtPFI\))264.7 129 Q
(ddr_sampledev_drom_set_att_lgtint;)291.7 140 Q
(fcns->set_att_lgttyp = \(DtPFI\))264.7 151 Q
(ddr_sampledev_drom_set_att_lgttyp;)291.7 162 Q
(fcns->set_att_lintyp = \(DtPFI\))264.7 173 Q
(ddr_sampledev_drom_set_att_lintyp;)291.7 184 Q
(fcns->set_att_linwid = \(DtPFI\))264.7 195 Q
(ddr_sampledev_drom_set_att_linwid;)291.7 206 Q
(fcns->set_att_refswi = \(DtPFI\))264.7 217 Q
(ddr_sampledev_drom_set_att_refswi;)291.7 228 Q
(fcns->set_att_reptyp = \(DtPFI\))264.7 239 Q
(ddr_sampledev_drom_set_att_reptyp;)291.7 250 Q
(fcns->set_att_shaswi = \(DtPFI\))264.7 261 Q
(ddr_sampledev_drom_set_att_shaswi;)291.7 272 Q
(fcns->set_att_shdidx = \(DtPFI\))264.7 283 Q
(ddr_sampledev_drom_set_att_shdidx;)291.7 294 Q
(fcns->set_att_spcclr = \(DtPFI\))264.7 305 Q
(ddr_sampledev_drom_set_att_spcclr;)291.7 316 Q
(fcns->set_att_spcfct = \(DtPFI\))264.7 327 Q
(ddr_sampledev_drom_set_att_spcfct;)291.7 338 Q
(fcns->set_att_spcint = \(DtPFI\))264.7 349 Q
(ddr_sampledev_drom_set_att_spcint;)291.7 360 Q
(fcns->set_att_spcswi = \(DtPFI\))264.7 371 Q
(ddr_sampledev_drom_set_att_spcswi;)291.7 382 Q
(fcns->set_att_srfshd = \(DtPFI\))264.7 393 Q
(ddr_sampledev_drom_set_att_srfshd;)291.7 404 Q
(fcns->set_att_stereo = \(DtPFI\))264.7 415 Q
(ddr_sampledev_drom_set_att_stereo;)291.7 426 Q
(fcns->set_att_stereoswi = \(DtPFI\))264.7 437 Q
(ddr_sampledev_drom_set_att_stereoswi;)291.7 448 Q
(fcns->set_att_transpclr = \(DtPFI\))264.7 459 Q
(ddr_sampledev_drom_set_att_transpclr;)291.7 470 Q
(fcns->set_att_transpint = \(DtPFI\))264.7 481 Q
(ddr_sampledev_drom_set_att_transpint;)291.7 492 Q
(fcns->set_att_transpswi = \(DtPFI\))264.7 503 Q
(ddr_sampledev_drom_set_att_transpswi;)291.7 514 Q
(fcns->update_lcstowcsmat_lokatfrm = \(DtPFI\))264.7 525 Q
(ddr_sampledev_drom_update_lcstowcsmat_lokatfrm;)291.7 536 Q
(fcns->update_lcstowcsmat_pop = \(DtPFI\))264.7 547 Q
(ddr_sampledev_drom_update_lcstowcsmat_pop;)291.7 558 Q
(fcns->update_lcstowcsmat_push = \(DtPFI\))264.7 569 Q
(ddr_sampledev_drom_update_lcstowcsmat_push;)291.7 580 Q
(fcns->update_lcstowcsmat_rotate = \(DtPFI\))264.7 591 Q
(ddr_sampledev_drom_update_lcstowcsmat_rotate;)291.7 602 Q
(fcns->update_lcstowcsmat_scale = \(DtPFI\))264.7 613 Q
(ddr_sampledev_drom_update_lcstowcsmat_scale;)291.7 624 Q
(fcns->update_lcstowcsmat_shear = \(DtPFI\))264.7 635 Q
(ddr_sampledev_drom_update_lcstowcsmat_shear;)291.7 646 Q
(fcns->update_lcstowcsmat_tfmmat = \(DtPFI\))264.7 657 Q
(ddr_sampledev_drom_update_lcstowcsmat_tfmmat;)291.7 668 Q
(fcns->update_lcstowcsmat_transl = \(DtPFI\))264.7 679 Q
(ddr_sampledev_drom_update_lcstowcsmat_transl;)291.7 690 Q
(fcns->get_lcstowcsmat = \(DtPFI\))264.7 701 Q
(ddr_sampledev_drom_get_lcstowcsmat;)291.7 712 Q 1.44 LW 90 756 72 756 DL 99
756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756 DL 171 756
153 756 DL 189 756 171 756 DL 207 756 189 756 DL 239.4 756 221.4 756 DL 257.4
756 239.4 756 DL 275.4 756 257.4 756 DL 293.4 756 275.4 756 DL 311.4 756 293.4
756 DL 329.4 756 311.4 756 DL 347.4 756 329.4 756 DL 365.4 756 347.4 756 DL
383.4 756 365.4 756 DL 401.4 756 383.4 756 DL 419.4 756 401.4 756 DL 437.4 756
419.4 756 DL 455.4 756 437.4 756 DL 473.4 756 455.4 756 DL 491.4 756 473.4 756
DL 509.4 756 491.4 756 DL 527.4 756 509.4 756 DL 545.4 756 527.4 756 DL/F3 9
/Helvetica-Bold@0 SF(11-178)72 768.96 Q/F4 9/Helvetica@0 SF(Dore)6.504 E 3.506
<b444>122.023 768.96 S -2.187 -.27(ev e)135.024 768.96 T(loper').27 E 2.502(sG)
-.45 G(uide)184.596 768.96 Q(Sample De)221.4 768.96 Q(vice Dr)-.27 E(iv).135 E
(er)-.225 E EP
%%Page: 179 59
%%BeginPageSetup
BP
%%EndPageSetup
2.88 LW 99 46.8 63 46.8 DL 135 46.8 99 46.8 DL 171 46.8 135 46.8 DL 207 46.8
171 46.8 DL 243 46.8 207 46.8 DL 279 46.8 243 46.8 DL 315 46.8 279 46.8 DL 351
46.8 315 46.8 DL 387 46.8 351 46.8 DL 437.4 46.8 401.4 46.8 DL 464.4 46.8 428.4
46.8 DL 500.4 46.8 464.4 46.8 DL 536.4 46.8 500.4 46.8 DL/F0 10
/Helvetica-BoldOblique@0 SF(The Installation Routine)423.05 57.6 Q/F1 10
/Helvetica@0 SF(\(contin)486.48 68.4 Q(ued\))-.1 E/F2 9/Courier@0 SF
(fcns->set_att_lgtswi = \(DtPFI\))106.2 107 Q
(ddr_sampledev_drom_set_att_lgtswi;)133.2 118 Q
(fcns->set_att_lgtspdexp = \(DtPFI\))106.2 129 Q
(ddr_sampledev_drom_set_att_lgtspdexp;)133.2 140 Q
(fcns->set_att_lgtspdang = \(DtPFI\))106.2 151 Q
(ddr_sampledev_drom_set_att_lgtspdang;)133.2 162 Q
(fcns->set_att_lgtatn = \(DtPFI\))106.2 173 Q
(ddr_sampledev_drom_set_att_lgtatn;)133.2 184 Q
(fcns->set_att_mapbmpswi = \(DtPFI\))106.2 195 Q
(ddr_sampledev_drom_set_att_mapbmpswi;)133.2 206 Q
(fcns->set_att_mapbmp = \(DtPFI\))106.2 217 Q
(ddr_sampledev_drom_set_att_mapbmp;)133.2 228 Q
(fcns->set_att_mapdifclrswi = \(DtPFI\))106.2 239 Q
(ddr_sampledev_drom_set_att_mapdifclrswi;)133.2 250 Q
(fcns->set_att_mapdifclr = \(DtPFI\))106.2 261 Q
(ddr_sampledev_drom_set_att_mapdifclr;)133.2 272 Q
(fcns->set_att_mapenvswi = \(DtPFI\))106.2 283 Q
(ddr_sampledev_drom_set_att_mapenvswi;)133.2 294 Q
(fcns->set_att_mapenv = \(DtPFI\))106.2 305 Q
(ddr_sampledev_drom_set_att_mapenv;)133.2 316 Q
(fcns->set_att_maptrnintswi = \(DtPFI\))106.2 327 Q
(ddr_sampledev_drom_set_att_maptrnintswi;)133.2 338 Q
(fcns->set_att_maptrnint = \(DtPFI\))106.2 349 Q
(ddr_sampledev_drom_set_att_maptrnint;)133.2 360 Q
(fcns->get_lcstowcsmat = \(DtPFI\))106.2 371 Q
(ddr_sampledev_drom_get_lcstowcsmat;)133.2 382 Q
(fcns->delete_local_device_data = \(DtPFI\))106.2 393 Q
(ddr_sampledev_drom_delete_local_device_data;)133.2 404 Q
(fcns->delete_local_view_data = \(DtPFI\))106.2 415 Q
(ddr_sampledev_drom_delete_local_view_data;)133.2 426 Q
(fcns->delete_local_window_data = \(DtPFI\))106.2 437 Q
(ddr_sampledev_drom_delete_local_window_data;)133.2 448 Q
(fcns->use_separate_wireframe = DcFalse;)106.2 459 Q(/)106.2 481 Q/F3 9/Symbol
SF(*)A F2(version 2 fields)5.4 E F3(*)5.4 E F2(/)A
(fcns->set_att_srfedgclr = \(DtPFI\))106.2 492 Q
(ddr_sampledev_drom_set_att_srfedgclr;)133.2 503 Q
(fcns->set_att_localaaswi = \(DtPFI\))106.2 514 Q
(ddr_sampledev_drom_set_att_localaaswi;)133.2 525 Q
(fcns->set_att_localaasty = \(DtPFI\))106.2 536 Q
(ddr_sampledev_drom_set_att_localaasty;)133.2 547 Q
(dde_sampledev_DROM_fcns = fcns;)106.2 569 Q(})84.6 580 Q
(return \(DtPtr\) dde_sampledev_DROM_fcns;)84.6 602 Q(})63 613 Q 1.44 LW 81 756
63 756 DL 99 756 81 756 DL 117 756 99 756 DL 135 756 117 756 DL 153 756 135 756
DL 171 756 153 756 DL 189 756 171 756 DL 207 756 189 756 DL 225 756 207 756 DL
243 756 225 756 DL 261 756 243 756 DL 279 756 261 756 DL 297 756 279 756 DL 315
756 297 756 DL 333 756 315 756 DL 351 756 333 756 DL 369 756 351 756 DL 387 756
369 756 DL 419.4 756 401.4 756 DL 428.4 756 410.4 756 DL 446.4 756 428.4 756 DL
464.4 756 446.4 756 DL 482.4 756 464.4 756 DL 500.4 756 482.4 756 DL 518.4 756
500.4 756 DL 536.4 756 518.4 756 DL/F4 9/Helvetica@0 SF(Sample De)300.348
768.96 Q(vice Dr)-.27 E(iv).135 E(er)-.225 E(Dore)409.296 768.96 Q 3.506<b444>
424.798 768.96 S -2.187 -.27(ev e)437.799 768.96 T(loper').27 E 2.502(sG)-.45 G
(uide)487.371 768.96 Q/F5 9/Helvetica-Bold@0 SF(11-179)4.002 E EP
%%Trailer
end
%%EOF
